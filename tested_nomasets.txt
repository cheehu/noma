#[nTAS Dest-Char]  
name = 'nTAS_Cha'
type = 'tx'
sepr = '<digdes:destinations>\s+<.+tion>'
eepr = '</digdes:destinations>'
depr = '<digdes:destination>'

cs = NomaSet(name=name, type=type, sepr=sepr, eepr=eepr, depr=depr)
#cs.save()

acts = []
acts.append(sa(set=cs,seq=1,spos=0,epos=0, sepr='<digdes:name>',eepr='</',fname='dest'))
acts.append(sa(set=cs,seq=2,spos=0,sepr='destination-components>\s+\<.+nent>',nepr='<digdes:destination-components>'))
acts.append(sa(set=cs,seq=3,spos=0,epos=0,sepr='subdestination-name>',eepr='</',fname='sdest'))
acts.append(sa(set=cs,seq=4,spos=0,sepr='charging-components>\s+\<.+nent>',nepr='<digdes:charging-components>'))
acts.append(sa(set=cs,seq=5,spos=0,epos=0,sepr='origin>',eepr='</',fname='corg'))
acts.append(sa(set=cs,seq=6,spos=0,epos=0,sepr='case>',eepr='</',fname='cha'))

sf = 'D:/xna/SourceData/default/nTAS01.xml'
tf = 'D:/xna/SourceData/default/testout.log'

#[MSS CGR]
name = 'MSS_CGRs'
type = 'tx'  
sepr = r'\n(?=CGR      :)'
eepr = r'\r\nCOMMAND EXECUTED'
depr = r'\n{3,4}'

cs = NomaSet(name=name, type=type, sepr=sepr, eepr=eepr, depr=depr)
cs.save()

acts = []
acts.append(sa(set=cs,seq=1,spos=11,epos=26,fname='cgr'))
acts.append(sa(set=cs,seq=2,spos=37,epos=56,fname='ncgr'))
acts.append(sa(set=cs,seq=3,spos=0,epos=26,sepr='TYPE     : ',eepr=' ',fepr='^SIP|^ECCS',fname='type'))
acts.append(sa(set=cs,seq=4,spos=0,epos=49,sepr='STATE    : ',eepr=' ',fname='sta'))
acts.append(sa(set=cs,seq=5,spos=0,epos=26,sepr='FORMAT   : ',eepr=' ',fname='fmt'))

#sf = 'D:/xna/SourceData/default/MSS465/routing.log'
#tf = 'D:/xna/SourceData/default/testroucgr.csv'

sf = 'D:/XNA/SourceData/DTG/MSS/QAL_2018-11-22_18-56-51/RMSS13/routing.log'
tf = 'D:/xna/SourceData/DTG/MSS/test_cgrs.csv'

#[MSS ECCS CGR TERMID]
name = 'mss_cgr_termid'
type = 'tx'  
sepr = r'\n(?=CGR      :)'
eepr = r'\r\nCOMMAND EXECUTED'
depr = r'\n{3,4}'

cs = NomaSet(name=name, type=type, sepr=sepr, eepr=eepr, depr=depr)
cs.save()

acts = []
acts.append(sa(set=cs,seq=1,spos=11,epos=26,fname='cgr'))
acts.append(sa(set=cs,seq=2,spos=0,epos=26,sepr='TYPE     : ',eepr=' ',fepr='^ECCS'))
acts.append(sa(set=cs,seq=3,spos=0,sepr=r'\nTERMID.+\n\n',nepr='\n'))
acts.append(sa(set=cs,seq=4,spos=0,epos=19,fname='termid'))
acts.append(sa(set=cs,seq=5,spos=66,epos=76,eepr=',',fname='unit'))
acts.append(sa(set=cs,seq=6,spos=72,epos=76,fname='uno'))

sf = 'D:/xna/SourceData/default/MSS465/routing.log'
tf = 'D:/xna/SourceData/default/testout.log'

#[MSS Dest-Alt]
name = 'mss_dest_alt'
type = 'tx'    
sepr = r'IARR.+\r\n'
eepr = r'\r\nCOMMAND EXECUTED'
depr = r'IARR.+\n'

cs = NomaSet(name=name, type=type, sepr=sepr, eepr=eepr, depr=depr)
cs.save()

acts = []
acts.append(sa(set=cs,seq=1,spos=0,epos=5,fname='dest'))
acts.append(sa(set=cs,seq=2,spos=6,epos=18,fname='ndest'))
acts.append(sa(set=cs,seq=3,spos=0,sepr='SPCH',nepr='ALT S'))
acts.append(sa(set=cs,seq=4,spos=4,epos=7,sepr=r'\n',eepr=' ',fname='alt'))
acts.append(sa(set=cs,seq=5,spos=8,epos=12,sepr=r'\n',eepr=' ',fname='sdtype'))
acts.append(sa(set=cs,seq=6,spos=8,epos=13,sepr=r'SDEST.+\n',eepr=' ',fname='sdest'))
acts.append(sa(set=cs,seq=7,spos=8,epos=12,sepr=r'CHI.*\n',eepr=' ',fname='chi'))

sf = 'D:/xna/SourceData/default/MSS465/routing.log'
tf = 'D:/xna/SourceData/default/testout.log'

#[CFX Parameters]
name = 'cfx_param'
type = 'js'    
sepr = 'Dus'
eepr = None
depr = None

cs = NomaSet(name=name, type=type, sepr=sepr, eepr=eepr, depr=depr)
#cs.save()

acts = []
acts.append(sa(set=cs,seq=1,spos=0,epos=0,sepr='DUName',fname='duname'))
acts.append(sa(set=cs,seq=2,spos=0,epos=0,sepr='ReleaseTag',nepr='t'))
acts.append(sa(set=cs,seq=3,spos=0,epos=0,sepr='Ver',fname='ver'))
acts.append(sa(set=cs,seq=4,spos=0,epos=0,sepr='Nodes',nepr='t'))
acts.append(sa(set=cs,seq=5,spos=0,epos=0,sepr='Name',fname='node'))
acts.append(sa(set=cs,seq=6,spos=0,epos=0,sepr='InstanceName',fname='inst'))
acts.append(sa(set=cs,seq=7,spos=0,epos=0,sepr='Comps',nepr='t'))
acts.append(sa(set=cs,seq=8,spos=0,epos=0,sepr='Name',fname='comp'))
acts.append(sa(set=cs,seq=9,spos=0,epos=0,sepr='PMaps',nepr='t'))
acts.append(sa(set=cs,seq=10,spos=0,epos=0,sepr='Type',fname='ptype'))
acts.append(sa(set=cs,seq=11,spos=0,epos=0,sepr='Name',fname='pname'))

sf = 'D:/XNA/SourceData/default/test_cfx3.json'
tf = 'D:/xna/SourceData/default/testout.log'

#[CFX MGWTypeDesc]
name = 'cfx_param'
type = 'js'    
sepr = 'Dus'
eepr = None
depr = None

cs = NomaSet(name=name, type=type, sepr=sepr, eepr=eepr, depr=depr)
#cs.save()

acts = []
acts.append(sa(set=cs,seq=1,spos=0,epos=0,sepr='DUName',fname='duname'))
acts.append(sa(set=cs,seq=2,spos=0,epos=0,sepr='ReleaseTag',nepr='t'))
acts.append(sa(set=cs,seq=3,spos=0,epos=0,sepr='Ver',fname='ver'))
acts.append(sa(set=cs,seq=4,spos=0,epos=0,sepr='Nodes',nepr='t'))
acts.append(sa(set=cs,seq=5,spos=0,epos=0,sepr='Name',fname='node'))
acts.append(sa(set=cs,seq=6,spos=0,epos=0,sepr='InstanceName',fname='inst'))
acts.append(sa(set=cs,seq=7,spos=0,epos=0,sepr='Comps',nepr='t'))
acts.append(sa(set=cs,seq=8,spos=0,epos=0,sepr='Name',fname='comp'))
acts.append(sa(set=cs,seq=9,spos=0,epos=0,sepr='PMaps',nepr='t'))
acts.append(sa(set=cs,seq=10,spos=0,epos=0,sepr='Type',fname='ptype'))
acts.append(sa(set=cs,seq=11,spos=0,epos=0,sepr='Name',fepr='MFWTypeDescription',fname='tname'))
acts.append(sa(set=cs,seq=12,spos=0,epos=0,sepr='ParamTable.RowsV',nepr='t'))
acts.append(sa(set=cs,seq=13,spos=0,epos=0,sepr=['Name','MFWTypeName_Version'],eepr='Value', fname='mgwtypname'))
acts.append(sa(set=cs,seq=14,spos=0,epos=0,sepr=['Name','MFWTypePath'],eepr='Value',fname='mgwtyppath'))
acts.append(sa(set=cs,seq=15,spos=0,epos=0,sepr=['Name','MFWEncoding'],eepr='Value',fname='mgwencoding'))

sf = 'D:/XNA/SourceData/default/test_cfx3.json'
tf = 'D:/xna/SourceData/default/testout.log'

#[CFX ParamScalar]
name = 'cfx_param'
type = 'js'    
sepr = 'Dus'
eepr = None
depr = None

cs = NomaSet(name=name, type=type, sepr=sepr, eepr=eepr, depr=depr)
#cs.save()

acts = []
acts.append(sa(set=cs,seq=1,spos=0,epos=0,sepr='DUName',fname='duname'))
acts.append(sa(set=cs,seq=2,spos=0,epos=0,sepr='ReleaseTag',nepr='t'))
acts.append(sa(set=cs,seq=3,spos=0,epos=0,sepr='Ver',fname='ver'))
acts.append(sa(set=cs,seq=4,spos=0,epos=0,sepr='Nodes',nepr='t'))
acts.append(sa(set=cs,seq=5,spos=0,epos=0,sepr='Name',fname='node'))
acts.append(sa(set=cs,seq=6,spos=0,epos=0,sepr='InstanceName',fname='inst'))
acts.append(sa(set=cs,seq=7,spos=0,epos=0,sepr='Comps',nepr='t'))
acts.append(sa(set=cs,seq=8,spos=0,epos=0,sepr='Name',fname='comp'))
acts.append(sa(set=cs,seq=9,spos=0,epos=0,sepr='PMaps',nepr='t'))
acts.append(sa(set=cs,seq=10,spos=0,epos=0,sepr='Type',fname='ptype',fepr='Scalar'))
acts.append(sa(set=cs,seq=11,spos=0,epos=0,sepr='Name',fname='pname'))
acts.append(sa(set=cs,seq=11,spos=0,epos=0,sepr='ParamScalar.Param.Value',fname='pval'))

sf = 'D:/XNA/SourceData/default/test_cfx3.json'
tf = 'D:/xna/SourceData/default/testout.log'

#[CFX LAN]
name = 'cfx_param'
type = 'js'    
sepr = 'Dus'
eepr = None
depr = None

cs = NomaSet(name=name, type=type, sepr=sepr, eepr=eepr, depr=depr)
#cs.save()

acts = []
acts.append(sa(set=cs,seq=1,spos=0,epos=0,sepr='DUName',fname='duname'))
acts.append(sa(set=cs,seq=2,spos=0,epos=0,sepr='ReleaseTag',nepr='t'))
acts.append(sa(set=cs,seq=3,spos=0,epos=0,sepr='Ver',fname='ver'))
acts.append(sa(set=cs,seq=4,spos=0,epos=0,sepr='Nodes',nepr='t'))
acts.append(sa(set=cs,seq=5,spos=0,epos=0,sepr='Name',fname='node'))
acts.append(sa(set=cs,seq=6,spos=0,epos=0,sepr='InstanceName',fname='inst'))
acts.append(sa(set=cs,seq=7,spos=0,epos=0,sepr='Comps',nepr='t'))
acts.append(sa(set=cs,seq=8,spos=0,epos=0,sepr='Name',fname='comp'))
acts.append(sa(set=cs,seq=9,spos=0,epos=0,sepr='PMaps',nepr='t'))
acts.append(sa(set=cs,seq=11,spos=0,epos=0,sepr='Name',fepr='^LAN$'))
acts.append(sa(set=cs,seq=12,spos=0,epos=0,sepr='ParamTable.RowsV',nepr='t'))
acts.append(sa(set=cs,seq=13,spos=0,epos=0,sepr=['Name','LAN_NAME'],eepr='Value', fname='lanname'))
acts.append(sa(set=cs,seq=15,spos=0,epos=0,sepr=['Name','BASE_ADDRESS'],eepr='Value',fname='ipaddr'))
acts.append(sa(set=cs,seq=16,spos=0,epos=0,sepr=['Name','NETMASK'],eepr='Value',fname='netmask'))
acts.append(sa(set=cs,seq=17,spos=0,epos=0,sepr=['Name','INTERFACE_GROUP'],eepr='Value',fname='intf'))


sf = 'D:/XNA/SourceData/default/test_cfx3.json'
tf = 'D:/xna/SourceData/default/cfxlan.csv'

#[CFX LAN]
name = 'cfx_lan'
type = 'js'    
sepr = 'Dus'
eepr = None
depr = None

cs = NomaSet(name=name, type=type, sepr=sepr, eepr=eepr, depr=depr)
cs.save()

acts = []
acts.append(sa(set=cs,seq=1,spos=0,epos=0,sepr='DUName',fname='duname'))
acts.append(sa(set=cs,seq=2,spos=0,epos=0,sepr='ReleaseTag',nepr='t'))
acts.append(sa(set=cs,seq=3,spos=0,epos=0,sepr='Ver',fname='ver'))
acts.append(sa(set=cs,seq=4,spos=0,epos=0,sepr='Nodes',nepr='t'))
acts.append(sa(set=cs,seq=5,spos=0,epos=0,sepr='Name',fname='node'))
acts.append(sa(set=cs,seq=6,spos=0,epos=0,sepr='InstanceName',fname='inst'))
acts.append(sa(set=cs,seq=7,spos=0,epos=0,sepr='Comps',nepr='t'))
acts.append(sa(set=cs,seq=8,spos=0,epos=0,sepr='Name',fname='comp'))
acts.append(sa(set=cs,seq=9,spos=0,epos=0,sepr='PMaps',nepr='t'))
acts.append(sa(set=cs,seq=10,spos=0,epos=0,sepr='Name',fepr='^LAN$'))
acts.append(sa(set=cs,seq=11,spos=0,epos=0,sepr='ParamTable.RowsV',nepr='t'))
acts.append(sa(set=cs,seq=12,spos=0,epos=0,sepr=['Name','LAN_NAME'],eepr='Value', fname='lanname'))
acts.append(sa(set=cs,seq=13,spos=0,epos=0,sepr=['Name','BASE_ADDRESS'],eepr='Value',fname='ipaddr'))
acts.append(sa(set=cs,seq=14,spos=0,epos=0,sepr=['Name','NETMASK'],eepr='Value',fname='netmask'))
acts.append(sa(set=cs,seq=15,spos=0,epos=0,sepr=['Name','INTERFACE_GROUP'],eepr='Value',fname='intf'))

sf = 'D:/XNA/SourceData/default/test_cfx3.json'
tf = 'D:/xna/SourceData/default/cfxlan.csv'


#[CFX LAN]
name = 'cfx_lan'
type = 'js'    
sepr = 'Dus'
eepr = None
depr = None

cs = NomaSet(name=name, type=type, sepr=sepr, eepr=eepr, depr=depr)
#cs.save()

acts = []
acts.append(sa(set=cs,seq=1,spos=0,epos=0,sepr='DUName',fname='duname'))
acts.append(sa(set=cs,seq=2,spos=0,epos=0,sepr='ReleaseTag',nepr='t'))
acts.append(sa(set=cs,seq=3,spos=0,epos=0,sepr='Ver',fname='ver'))
acts.append(sa(set=cs,seq=4,spos=0,epos=0,sepr='Nodes',nepr='t'))
acts.append(sa(set=cs,seq=5,spos=0,epos=0,sepr='Name',fname='node'))
acts.append(sa(set=cs,seq=6,spos=0,epos=0,sepr='InstanceName',fname='inst'))
acts.append(sa(set=cs,seq=7,spos=0,epos=0,sepr='Comps',nepr='t'))
acts.append(sa(set=cs,seq=8,spos=0,epos=0,sepr='Name',fname='comp'))
acts.append(sa(set=cs,seq=9,spos=0,epos=0,sepr='PMaps',nepr='t'))
acts.append(sa(set=cs,seq=10,spos=0,epos=0,sepr='Name',fepr='^LAN$'))
acts.append(sa(set=cs,seq=11,spos=0,epos=0,sepr='ParamTable.RowsV',nepr='t'))
acts.append(sa(set=cs,seq=12,spos=0,epos=0,sepr='Name.LAN_NAME',eepr='Value', fname='lanname'))
acts.append(sa(set=cs,seq=13,spos=0,epos=0,sepr='Name.BASE_ADDRESS',eepr='Value',fname='ipaddr'))
acts.append(sa(set=cs,seq=14,spos=0,epos=0,sepr='Name.NETMASK',eepr='Value',fname='netmask'))
acts.append(sa(set=cs,seq=15,spos=0,epos=0,sepr='Name.INTERFACE_GROUP',eepr='Value',fname='intf'))

sf = 'D:/XNA/SourceData/default/test_cfx3.json'
tf = 'D:/xna/SourceData/default/cfxlan.csv'

#[CFX ParamScalar]
name = 'cfx_param_scalar'
type = 'js'    
sepr = 'Dus'
eepr = None
depr = None

cs = NomaSet(name=name, type=type, sepr=sepr, eepr=eepr, depr=depr)
#cs.save()

acts = []
acts.append(sa(set=cs,seq=1,spos=0,epos=0,sepr='DUName',fname='duname'))
acts.append(sa(set=cs,seq=2,spos=0,epos=0,sepr='ReleaseTag',nepr='t'))
acts.append(sa(set=cs,seq=3,spos=0,epos=0,sepr='Ver',fname='ver'))
acts.append(sa(set=cs,seq=4,spos=0,epos=0,sepr='Nodes',nepr='t'))
acts.append(sa(set=cs,seq=5,spos=0,epos=0,sepr='Name',fname='node'))
acts.append(sa(set=cs,seq=6,spos=0,epos=0,sepr='InstanceName',fname='inst'))
acts.append(sa(set=cs,seq=7,spos=0,epos=0,sepr='Comps',nepr='t'))
acts.append(sa(set=cs,seq=8,spos=0,epos=0,sepr='Name',fname='comp'))
acts.append(sa(set=cs,seq=9,spos=0,epos=0,sepr='PMaps',nepr='t'))
acts.append(sa(set=cs,seq=10,spos=0,epos=0,sepr='Type',fepr='Scalar'))
acts.append(sa(set=cs,seq=11,spos=0,epos=0,sepr='Name',fname='pname'))
acts.append(sa(set=cs,seq=12,spos=0,epos=0,sepr='ParamScalar.Param.Value',fname='pval',fepr='^[^\n]'))

sf = 'D:/XNA/SourceData/default/test_cfx3.json'
tf = 'D:/xna/SourceData/default/cfx_param_scalar.log'

#[MSS Preanalysis]  
name = 'mss_preana'
type = 'tx'    
sepr = r'\n---\s'
eepr = r'\r\nCOMMAND EXECUTED\r\n\n\r\n.+\r\n(?!<  ZRW)'
depr = r'\n---\s'

cs = NomaSet(name=name, type=type, sepr=sepr, eepr=eepr, depr=depr)
if savetable == 1: cs.save()

nf01 = NomaFunc.objects.get(epr='conc')
nf02 = NomaFunc.objects.get(epr='nots')


acts = []
acts.append(sa(set=cs,seq=1,spos=0,epos=3,fname='ptyp',varr=0))
acts.append(sa(set=cs,seq=2,spos=0,epos=0,sepr='=',eepr=r'\n',fname='orig'))
acts.append(sa(set=cs,seq=3,spos=0,epos=0,sepr='TON.+=',eepr=r'\n',fname='ton'))
acts.append(sa(set=cs,seq=4,spos=0,epos=0, sepr='NPI.+=',eepr=r'\n',fname='npi',varr=0))
acts.append(sa(set=cs,seq=5,tfunc=nf01,varr=0,fepr='^NOR|^DEF-$',tpar=r'"-"'))
acts.append(sa(set=cs,seq=6,spos=0,epos=0,sepr='DIGIT.+=|PREFIX.+=',eepr=r'\n',fname='prefix'))
acts.append(sa(set=cs,seq=7,spos=0,epos=0,sepr='RESULT ID.+:',eepr=r'\n',fname='res'))
acts.append(sa(set=cs,seq=8,spos=0,epos=0,sepr='CALL CHAR.+:',eepr=r'\n',fname='cchar'))
acts.append(sa(set=cs,seq=9,spos=0,epos=0,sepr='SERVICE TYPE.+:',eepr=r'\n',fname='styp',tfunc=nf02))
acts.append(sa(set=cs,seq=10,spos=0,epos=0,sepr='NBR OF.+:',eepr=r'\n',fname='nrd',tfunc=nf02))
acts.append(sa(set=cs,seq=11,spos=0,epos=0,sepr='STP OF.+:',eepr=r'\n',fname='srd',tfunc=nf02))
acts.append(sa(set=cs,seq=12,spos=0,epos=0,sepr='CAC LEN.+:',eepr=r'\n',fname='cacl',tfunc=nf02))
acts.append(sa(set=cs,seq=13,spos=0,epos=0,sepr='NUMBER CHAR.+:',eepr=r'\n',fname='con'))
acts.append(sa(set=cs,seq=14,spos=0,epos=0,sepr='NUMBERI.+:',eepr=r'\n',fname='rnpi'))
acts.append(sa(set=cs,seq=15,spos=0,epos=0,sepr='CLI.+:',eepr=r'\n',fname='cli',tfunc=nf02))
acts.append(sa(set=cs,seq=16,spos=0,epos=0,sepr='CELL.+:',eepr=r'\n',fname='cbac',tfunc=nf02))
acts.append(sa(set=cs,seq=17,spos=0,epos=0,sepr='CONTROLLED.+:',eepr=r'\n',fname='cfea',tfunc=nf02))
acts.append(sa(set=cs,seq=18,spos=0,epos=0,sepr='EMLPP.+:',eepr=r'\n',fname='elmpp',tfunc=nf02))
acts.append(sa(set=cs,seq=19,spos=0,epos=0,sepr='CCBS.+:',eepr=r'\n',fname='ccbs',tfunc=nf02))
acts.append(sa(set=cs,seq=20,spos=0,epos=0,sepr='ESTP\s+:',eepr=r'\n',fname='estp',tfunc=nf02))
acts.append(sa(set=cs,seq=21,spos=0,epos=0,sepr='ODC\s+:',eepr=r'\n',fname='odc',tfunc=nf02))

sf = 'D:/xna/SourceData/DTG/MSS/MSSFFM01/routing.log'
tf = 'D:/xna/SourceData/DTG/MSS/test_preana.csv'


#[MSS Attribute ANalysis]  
name = 'mss_atrana'
type = 'tx'    
sepr = r'<  ZRQI:(?=.+STATE=NOR)'
eepr = r'\r\nCOMMAND EXECUTED\r\n\n\r\n.+\r\n(?!<  ZRQ)'
depr = r'<  ZRQI:(?=.+STATE=NOR)'

cs = NomaSet(name=name, type=type, sepr=sepr, eepr=eepr, depr=depr)
#cs.save()

#nf01 = NomaFunc.objects.get(epr='conc(val,"-")')
#nf02 = NomaFunc.objects.get(epr='nots(val)')


acts = []
acts.append(sa(set=cs,seq=1,spos=0,epos=0,eepr=':',fname='atyp'))
acts.append(sa(set=cs,seq=2,spos=0,sepr=r'<  ZRQI:(?=.{2,4}:NAME=)',nepr=r'<  ZRQI:(?=.{2,4}:NAME=)'))
acts.append(sa(set=cs,seq=3,spos=0,epos=0,sepr='=',eepr=r';',fname='subname',fepr='\S'))
acts.append(sa(set=cs,seq=4,spos=0,epos=0, sepr='ANALYSED.+:',eepr=r'\n',fname='attr'))


sf = 'D:/XNA/SourceData/DTG/MSS/QAL_2018-11-22_18-56-51/RMSS13/routing.log'
tf = 'D:/xna/SourceData/DTG/MSS/testsubana.csv'


#[MSS Attr Value Result]  
name = 'mss_attrval'
type = 'tx'    
sepr = r'<  ZRQI:(?=.+STATE=NOR)'
eepr = r'\r\nCOMMAND EXECUTED\r\n\n\r\n.+\r\n(?!<  ZRQ)'
depr = r'<  ZRQI:(?=.+STATE=NOR)'

cs = NomaSet(name=name, type=type, sepr=sepr, eepr=eepr, depr=depr)
cs.save()

nf3 = NomaFunc(epr='truncv(val)', desc='truncate analysis def/unk value')
nf3.save()

#nf01 = NomaFunc.objects.get(epr='conc(val,"-")')
#nf02 = NomaFunc.objects.get(epr='nots(val)')


acts = []
acts.append(sa(set=cs,seq=1,spos=0,epos=0,eepr=':',fname='atyp'))
acts.append(sa(set=cs,seq=2,spos=0,sepr=r'<  ZRQI:(?=.{2,4}:NAME=)',nepr=r'<  ZRQI:(?=.{2,4}:NAME=)'))
acts.append(sa(set=cs,seq=3,spos=0,epos=0,sepr='=',eepr=r';',fname='subname',fepr='\S'))
acts.append(sa(set=cs,seq=4,spos=0,sepr=r'---\n(?=DEF)',eepr=r'\nCOMM',nepr=r'\n{1,2}'))
acts.append(sa(set=cs,seq=5,spos=0,epos=40,tfunc=nf3,fname='aval',fepr=r'^(?!VALUE|-------)'))
acts.append(sa(set=cs,seq=6,spos=46,epos=55,fname='res'))
acts.append(sa(set=cs,seq=7,spos=57,epos=60,fname='rtyp'))


sf = 'D:/XNA/SourceData/DTG/MSS/QAL_2018-11-22_18-56-51/RMSS13/routing.log'
tf = 'D:/xna/SourceData/DTG/MSS/testsubana.csv'

#[MSS Routes]  
name = 'mss_routes'
type = 'tx'    
sepr = r'\nROU.+ICR\r\n'
eepr = r'\r\nCOMMAND EXECUTED'
depr = r'\nROU.+ICR\n'

cs = NomaSet(name=name, type=type, sepr=sepr, eepr=eepr, depr=depr)
if savetable == 1: cs.save()

#nf1 = NomaFunc(epr='repc(val)', desc='replace coma with hyphen')
#nf01 = NomaFunc.objects.get(epr='conc(val,"-")')
#nf02 = NomaFunc.objects.get(epr='nots(val)')


acts = []
acts.append(sa(set=cs,seq=1,spos=0,epos=5,fname='rou'))
acts.append(sa(set=cs,seq=2,spos=6,epos=10,fname='typ'))
acts.append(sa(set=cs,seq=3,spos=11,epos=17,fname='outr'))
acts.append(sa(set=cs,seq=4,spos=18,epos=22,fname='stp'))
acts.append(sa(set=cs,seq=5,spos=31,epos=36,sepr='STATE\n',eepr='\s',fname='sta'))
acts.append(sa(set=cs,seq=6,spos=16,epos=36,sepr=r'ATV\n',eepr='\s',fname='nccp'))
acts.append(sa(set=cs,seq=7,spos=6,epos=12,sepr=r'NCLISET\n',eepr='\s',fname='cliset'))
acts.append(sa(set=cs,seq=8,spos=69,epos=74,sepr=r'NEF\n',eepr='\s',fname='nef'))
acts.append(sa(set=cs,seq=9,spos=6,epos=11,sepr=r'ACGM\n',eepr='\s',fname='updr'))
acts.append(sa(set=cs,seq=10,spos=33,epos=38,sepr=r'ACGM\n',eepr='\n',fname='acgm'))
acts.append(sa(set=cs,seq=11,spos=6,epos=10,sepr=r'FCL\n',eepr='\s',fname='fcl'))

sf = 'D:/xna/SourceData/DTG/MSS/MSSFFM01/routing.log'
tf = 'D:/xna/SourceData/DTG/MSS/test_routes.csv'

#[MSS Routes CGRs]  
name = 'mss_rou_cgrs'
type = 'tx'    
sepr = r'\nROU.+ICR\r\n'
eepr = r'\r\nCOMMAND EXECUTED'
depr = r'\nROU.+ICR\n'

cs = NomaSet(name=name, type=type, sepr=sepr, eepr=eepr, depr=depr)
#cs.save()

#nf1 = NomaFunc(epr='enclo(val)', desc='enclosed string with q')
#nf01 = NomaFunc.objects.get(epr='conc(val,"-")')


acts = []
acts.append(sa(set=cs,seq=1,spos=0,epos=5,fname='rou'))
acts.append(sa(set=cs,seq=2,spos=0,sepr=r'NCGR\n',eepr='\n\n',nepr=','))
acts.append(sa(set=cs,seq=3,spos=0,epos=15,fname='ncgr'))

#sf = 'D:/xna/SourceData/default/MSS465/routing.log'
#tf = 'D:/xna/SourceData/default/testroucgr.csv'

sf = 'D:/XNA/SourceData/DTG/MSS/QAL_2018-11-22_18-56-51/RMSS13/routing.log'
tf = 'D:/xna/SourceData/DTG/MSS/testrou1.csv'


#[MSS Sdest]  
name = 'mss_sdest'
type = 'tx'    
sepr = r'\nNAME.{14}TION:'
eepr = r'\r\nCOMMAND EXECUTED'
depr = r'\nNAME.{14}TION:'

cs = NomaSet(name=name, type=type, sepr=sepr, eepr=eepr, depr=depr)
#cs.save()

#nf1 = NomaFunc(epr='enclo(val)', desc='enclosed string with q')
#nf01 = NomaFunc.objects.get(epr='conc(val,"-")')

acts = []
acts.append(sa(set=cs,seq=1,spos=1,epos=5,eepr=' ',fname='nsdest'))
acts.append(sa(set=cs,seq=2,spos=23,epos=25,eepr=' ',fname='sdest'))
acts.append(sa(set=cs,seq=3,spos=0,epos=10,sepr=r'MNL \n',eepr=' ',fname='ct'))
acts.append(sa(set=cs,seq=4,spos=12,epos=20,sepr=r'MNL \n',eepr=' ',fname='sp'))
acts.append(sa(set=cs,seq=5,spos=23,epos=27,sepr=r'MNL \n',eepr=' ',fname='rc'))
acts.append(sa(set=cs,seq=6,spos=28,epos=32,sepr=r'MNL \n',eepr=' ',fname='rt'))
acts.append(sa(set=cs,seq=7,spos=33,epos=39,sepr=r'MNL \n',eepr=' ',fname='rou'))
acts.append(sa(set=cs,seq=8,spos=41,epos=45,sepr=r'MNL \n',eepr=' ',fname='srcl'))
acts.append(sa(set=cs,seq=9,spos=52,epos=54,sepr=r'MNL \n',eepr=' ',fname='mnl'))
acts.append(sa(set=cs,seq=10,spos=0,epos=5,sepr=r'LANGID \n',eepr=' ',fname='lang'))

#sf = 'D:/xna/SourceData/default/MSS465/routing.log'
#tf = 'D:/xna/SourceData/default/testroucgr.csv'

sf = 'D:/XNA/SourceData/DTG/MSS/QAL_2018-11-22_18-56-51/RMSS13/routing.log'
tf = 'D:/xna/SourceData/DTG/MSS/testsdest.csv'

#[MSS Dests]
name = 'mss_dests'
type = 'tx'    
sepr = r'IARR.+\r\n'
eepr = r'\r\nCOMMAND EXECUTED'
depr = r'IARR.+\n'

cs = NomaSet(name=name, type=type, sepr=sepr, eepr=eepr, depr=depr)
cs.save()

acts = []
acts.append(sa(set=cs,seq=1,spos=0,epos=5,fname='dest'))
acts.append(sa(set=cs,seq=2,spos=6,epos=18,fname='ndest'))
acts.append(sa(set=cs,seq=3,spos=19,epos=22,fname='selo'))
acts.append(sa(set=cs,seq=4,spos=62,epos=67,fname='sset'))
acts.append(sa(set=cs,seq=5,spos=67,epos=70,sepr=r'CDUR \n',eepr=' ',fname='cdur'))
acts.append(sa(set=cs,seq=6,spos=11,epos=16,sepr=r'CDUR \n',eepr=' ',fname='pbxi'))
acts.append(sa(set=cs,seq=7,spos=0,epos=5,sepr=r'INSTR \n',eepr=' ',fname='minnl'))
acts.append(sa(set=cs,seq=8,spos=6,epos=11,sepr=r'INSTR \n',eepr=' ',fname='maxnl'))


#[MSS Trees]
name = 'mss_trees'
type = 'tx'    
sepr = r'\nTREE=(?=.+\r\nDIGITS\s+\r\n)'
eepr = r'\r\nCOMMAND EXECUTED'
depr = r'\nTREE=(?=.+\nDIGITS\s+\n)'

cs = NomaSet(name=name, type=type, sepr=sepr, eepr=eepr, depr=depr)
cs.save()

acts = []
acts.append(sa(set=cs,seq=1,spos=0,epos=5,fname='tree'))
acts.append(sa(set=cs,seq=2,spos=20,epos=25,fname='ton'))
acts.append(sa(set=cs,seq=3,spos=0,sepr=r'DIGITS\s+\n',nepr=r'\n'))
acts.append(sa(set=cs,seq=4,spos=0,epos=36,fname='digits'))
acts.append(sa(set=cs,seq=5,spos=43,epos=53,fname='dest'))


#[MSS ExtPreAnaSub]  
name = 'mss_epa_sub'
type = 'tx'    
sepr = r'ZCWI:NAME='
eepr = r'\r\nCOMMAND EXECUTED\r\n\n\r\n.+\r\n(?!<  ZCWI)'
depr = r'ZCWI:NAME='

cs = NomaSet(name=name, type=type, sepr=sepr, eepr=eepr, depr=depr)
cs.save()

nf1 = NomaFunc(epr='dumm("EPA")', desc='return EPA')
nf1.save()
#nf01 = NomaFunc.objects.get(epr='conc(val,"-")')
#nf02 = NomaFunc.objects.get(epr='nots(val)')


acts = []
acts.append(sa(set=cs,seq=1,spos=0,epos=1,fname='atyp',tfunc=nf1))
acts.append(sa(set=cs,seq=3,spos=0,epos=0,eepr=r';',fname='subname'))
acts.append(sa(set=cs,seq=4,spos=0,epos=0, sepr='ANALYSED.+:',eepr=r'\n',fname='attr'))

#[MSS ExtPreAnaVal]  
name = 'mss_epa_val'
type = 'tx'    
sepr = r'ZCWI:NAME='
eepr = r'\r\nCOMMAND EXECUTED\r\n\n\r\n.+\r\n(?!<  ZCWI)'
depr = r'ZCWI:NAME='

cs = NomaSet(name=name, type=type, sepr=sepr, eepr=eepr, depr=depr)
cs.save()

nf1 = NomaFunc.objects.get(epr='dumm("EPA")')
nf3 = NomaFunc.objects.get(epr='truncv(val)')

acts = []
acts.append(sa(set=cs,seq=1,spos=0,epos=1,fname='atyp',tfunc=nf1))
acts.append(sa(set=cs,seq=2,spos=0,epos=0,eepr=r';',fname='subname'))
acts.append(sa(set=cs,seq=3,spos=0,sepr=r'---\n(?=DEF)',eepr=r'\nCOMM',nepr=r'\n{1,2}'))
acts.append(sa(set=cs,seq=4,spos=0,epos=40,tfunc=nf3,fname='aval',fepr=r'^(?!VALUE|-------)'))
acts.append(sa(set=cs,seq=5,spos=46,epos=55,fname='res'))
acts.append(sa(set=cs,seq=6,spos=57,epos=60,fname='rtyp'))


#[MSS Licences]  
name = 'mss_fea'
type = 'tx'    
sepr = 'LICENCE CODE:'
eepr = r'\r\nCOMMAND EXECUTED'
depr = 'LICENCE CODE:'

cs = NomaSet(name=name, type=type, sepr=sepr, eepr=eepr, depr=depr)
cs.save()

#nf1 = NomaFunc(epr='enclo(val)', desc='enclosed string with q')
#nf01 = NomaFunc.objects.get(epr='conc(val,"-")')

acts = []
acts.append(sa(set=cs,seq=1,spos=14,epos=35,fname='lic'))
acts.append(sa(set=cs,seq=2,spos=14,epos=55,sepr=r'LICENCE NAME:',eepr=r'\n',fname='lname'))
acts.append(sa(set=cs,seq=3,spos=14,epos=55,sepr=r'LICENCE FILE ',eepr=r'\n',fname='lfname'))
acts.append(sa(set=cs,seq=4,spos=14,epos=55,sepr=r'SERIAL NUMBER',eepr=r'\n',fname='sn'))
acts.append(sa(set=cs,seq=5,spos=14,epos=55,sepr=r'ORDER IDENTIF',eepr=r'\n',fname='oid'))
acts.append(sa(set=cs,seq=6,spos=14,epos=55,sepr=r'CUSTOMER ID:.',eepr=r'\n',fname='cid'))
acts.append(sa(set=cs,seq=7,spos=14,epos=55,sepr=r'CUSTOMER NAME',eepr=r'\n',fname='cn'))
acts.append(sa(set=cs,seq=8,spos=14,epos=55,sepr=r'TARGET NE TYP',eepr=r'\n',fname='ntyp'))
acts.append(sa(set=cs,seq=9,spos=14,epos=55,sepr=r'TARGET ID:...',eepr=r'\n',fname='tid'))
acts.append(sa(set=cs,seq=10,spos=14,epos=55,sepr=r'LICENCE STATE',eepr=r'\n',fname='sta'))
acts.append(sa(set=cs,seq=11,spos=14,epos=55,sepr=r'START DATE:..',eepr=r'\n',fname='srtd'))
acts.append(sa(set=cs,seq=12,spos=14,epos=55,sepr=r'EXPIRATION WA',eepr=r'\n',fname='expr'))
acts.append(sa(set=cs,seq=13,spos=14,epos=55,sepr=r'LICENCE CAPAC',eepr=r'\n',fname='cap'))


#[MSS Features]  
name = 'mss_fea'
type = 'tx'    
sepr = 'FEATURE CODE:'
eepr = r'\r\nCOMMAND EXECUTED'
depr = 'FEATURE CODE:'

cs = NomaSet(name=name, type=type, sepr=sepr, eepr=eepr, depr=depr)
cs.save()

#nf1 = NomaFunc(epr='enclo(val)', desc='enclosed string with q')
#nf01 = NomaFunc.objects.get(epr='conc(val,"-")')

acts = []
acts.append(sa(set=cs,seq=1,spos=14,epos=0,eepr=r'\n',fname='fea'))
acts.append(sa(set=cs,seq=2,spos=14,epos=55,sepr=r'FEATURE NAME:',eepr=r'\n|,',fname='fname'))
acts.append(sa(set=cs,seq=3,spos=14,epos=55,sepr=r'FEATURE STATE',eepr=r'\n',fname='sta'))
acts.append(sa(set=cs,seq=4,spos=14,epos=55,sepr=r'FEATURE CAPAC',eepr=r'\n',fname='cap'))

#[MSS FIFILE]  
name = 'mss_fifile'
type = 'tx'    
sepr = 'PARAMETER CLASS:'
eepr = r'\r\nCOMMAND EXECUTED'
depr = '\n\nPARAMETER CLASS:'

cs = NomaSet(name=name, type=type, sepr=sepr, eepr=eepr, depr=depr)
cs.save()

#nf1 = NomaFunc(epr='enclo(val)', desc='enclosed string with q')
#nf01 = NomaFunc.objects.get(epr='conc(val,"-")')

acts = []
acts.append(sa(set=cs,seq=1,spos=1,epos=6,fname='pclass'))
acts.append(sa(set=cs,seq=2,spos=8,epos=0,eepr=r'\n',fname='pclan'))
acts.append(sa(set=cs,seq=3,spos=0,sepr=r'STATUS\n\n',nepr=r'\n'))
acts.append(sa(set=cs,seq=4,spos=0,epos=10,fname='pid'))
acts.append(sa(set=cs,seq=5,spos=13,epos=40,fname='pname'))
acts.append(sa(set=cs,seq=6,spos=41,epos=53,fname='sta'))


#[MSS 3G SA]  
name = 'mss_3gcells'
type = 'tx'    
sepr = 'SA    NAME :'
eepr = r'\r\nCOMMAND EXECUTED'
depr = 'SA    NAME :'

cs = NomaSet(name=name, type=type, sepr=sepr, eepr=eepr, depr=depr)
cs.save()

#nf1 = NomaFunc(epr='enclo(val)', desc='enclosed string with q')
#nf01 = NomaFunc.objects.get(epr='conc(val,"-")')

acts = []
acts.append(sa(set=cs,seq=1,spos=0,epos=25,fname='celln'))
acts.append(sa(set=cs,seq=2,spos=38,epos=0,eepr=r'\n',fname='cellid'))
acts.append(sa(set=cs,seq=3,spos=0,epos=0,sepr='LAC.+:',eepr=r'\n',fname='lac'))
acts.append(sa(set=cs,seq=4,spos=0,epos=0,sepr=r'\(MCC.+:',eepr=r'\n',fname='mcc'))
acts.append(sa(set=cs,seq=5,spos=0,epos=0,sepr=r'\(MNC.+:',eepr=r'\n',fname='mnc'))
acts.append(sa(set=cs,seq=6,spos=0,epos=0,sepr=r'\(SAC.+:',eepr=r'\n',fname='sac'))
acts.append(sa(set=cs,seq=7,spos=0,epos=0,sepr=r'ADMIN.+:',eepr=r'\n',fname='sta'))
acts.append(sa(set=cs,seq=8,spos=0,epos=0,sepr=r'\(RZ.+:',eepr=r'\n',fname='rz'))
acts.append(sa(set=cs,seq=9,spos=0,epos=0,sepr=r'\(TA.+:',eepr=r'\n',fname='ta'))
acts.append(sa(set=cs,seq=10,spos=0,epos=0,sepr=r'\(CDR.+:',eepr=r'\n',fname='cdr'))
acts.append(sa(set=cs,seq=11,spos=0,epos=0,sepr=r'\(BAN.+:',eepr=r'\n',fname='band'))
acts.append(sa(set=cs,seq=12,spos=0,epos=0,sepr=r'\(TE.+:',eepr=r'\n',fname='te'))
acts.append(sa(set=cs,seq=13,spos=0,epos=0,sepr=r'\(LAD.+:',eepr=r'\n',fname='lad'))
acts.append(sa(set=cs,seq=14,spos=0,epos=0,sepr=r'\(CA.+:',eepr=r'\n',fname='ca'))
acts.append(sa(set=cs,seq=15,spos=0,epos=0,sepr=r'\(SCA.+:',eepr=r'\n',fname='sca'))
acts.append(sa(set=cs,seq=16,spos=0,epos=0,sepr=r'\(NON.+:',eepr=r'\n',fname='noncas'))
acts.append(sa(set=cs,seq=17,spos=0,epos=0,sepr=r'\(POS.+:',eepr=r'\n',fname='post'))
acts.append(sa(set=cs,seq=18,spos=0,epos=0,sepr=r'\(EU.+:',eepr=r'\n',fname='eu'))
acts.append(sa(set=cs,seq=19,spos=0,epos=0,sepr=r'\(ESR.+:',eepr=r'\n',fname='esrk'))
acts.append(sa(set=cs,seq=20,spos=0,epos=0,sepr=r'\(PSE.+:',eepr=r'\n',fname='psek'))
acts.append(sa(set=cs,seq=21,spos=0,epos=0,sepr=r'\(ERG.+:',eepr=r'\n',fname='ergmlc'))
acts.append(sa(set=cs,seq=22,spos=0,epos=0,sepr=r'\(NOP.+:',eepr=r'\n',fname='nopos'))
acts.append(sa(set=cs,seq=23,spos=0,epos=0,sepr=r'\(ESG.+:',eepr=r'\n',fname='esgmlc'))
acts.append(sa(set=cs,seq=24,spos=0,epos=0,sepr=r'\(CLN.+:',eepr=r'\n',fname='cln'))
acts.append(sa(set=cs,seq=25,spos=0,epos=0,sepr=r'\(TON.+:',eepr=r'\n',fname='ton'))
acts.append(sa(set=cs,seq=26,spos=0,epos=0,sepr=r'\(NPI.+:',eepr=r'\n',fname='npi'))
acts.append(sa(set=cs,seq=27,spos=0,epos=0,sepr=r'\(PRE.+:',eepr=r'\n',fname='pres'))
acts.append(sa(set=cs,seq=28,spos=0,epos=0,sepr=r'\(SCR.+:',eepr=r'\n',fname='screen'))
acts.append(sa(set=cs,seq=29,spos=0,epos=0,sepr=r'\(INN.+:',eepr=r'\n',fname='inn'))


#[MSS 2G BTS]  
name = 'mss_2gcells'
type = 'tx'    
sepr = 'BTS   NAME :'
eepr = r'\r\nCOMMAND EXECUTED'
depr = 'BTS   NAME :'

cs = NomaSet(name=name, type=type, sepr=sepr, eepr=eepr, depr=depr)
cs.save()

#nf1 = NomaFunc(epr='enclo(val)', desc='enclosed string with q')
#nf01 = NomaFunc.objects.get(epr='conc(val,"-")')

acts = []
acts.append(sa(set=cs,seq=1,spos=0,epos=25,fname='celln'))
acts.append(sa(set=cs,seq=2,spos=38,epos=0,eepr=r'\n',fname='cellid'))
acts.append(sa(set=cs,seq=3,spos=0,epos=0,sepr='BSC   NAME :',eepr=r' ',fname='bsc'))
acts.append(sa(set=cs,seq=4,spos=0,epos=0,sepr='LAC.+:',eepr=r'\n',fname='lac'))
acts.append(sa(set=cs,seq=5,spos=0,epos=0,sepr=r'\(MCC.+:',eepr=r'\n',fname='mcc'))
acts.append(sa(set=cs,seq=6,spos=0,epos=0,sepr=r'\(MNC.+:',eepr=r'\n',fname='mnc'))
acts.append(sa(set=cs,seq=7,spos=0,epos=0,sepr=r'\(CI.+:',eepr=r'\n',fname='ci'))
acts.append(sa(set=cs,seq=8,spos=0,epos=0,sepr=r'ADMIN.+:',eepr=r'\n',fname='sta'))
acts.append(sa(set=cs,seq=9,spos=0,epos=0,sepr=r'\(RZ.+:',eepr=r'\n',fname='rz'))
acts.append(sa(set=cs,seq=10,spos=0,epos=0,sepr=r'\(TA.+:',eepr=r'\n',fname='ta'))
acts.append(sa(set=cs,seq=11,spos=0,epos=0,sepr=r'\(DTX.+:',eepr=r'\n',fname='dtx'))
acts.append(sa(set=cs,seq=12,spos=0,epos=0,sepr=r'\(CDR.+:',eepr=r'\n',fname='cdr'))
acts.append(sa(set=cs,seq=13,spos=0,epos=0,sepr=r'\(BAN.+:',eepr=r'\n',fname='band'))
acts.append(sa(set=cs,seq=14,spos=0,epos=0,sepr=r'\(TE.+:',eepr=r'\n',fname='te'))
acts.append(sa(set=cs,seq=15,spos=0,epos=0,sepr=r'\(LAD.+:',eepr=r'\n',fname='lad'))
acts.append(sa(set=cs,seq=16,spos=0,epos=0,sepr=r'\(CA.+:',eepr=r'\n',fname='ca'))
acts.append(sa(set=cs,seq=17,spos=0,epos=0,sepr=r'\(SCA.+:',eepr=r'\n',fname='sca'))
acts.append(sa(set=cs,seq=18,spos=0,epos=0,sepr=r'\(NON.+:',eepr=r'\n',fname='noncas'))
acts.append(sa(set=cs,seq=19,spos=0,epos=0,sepr=r'\(POS.+:',eepr=r'\n',fname='post'))
acts.append(sa(set=cs,seq=20,spos=0,epos=0,sepr=r'\(EU.+:',eepr=r'\n',fname='eu'))
acts.append(sa(set=cs,seq=21,spos=0,epos=0,sepr=r'\(ESR.+:',eepr=r'\n',fname='esrk'))
acts.append(sa(set=cs,seq=22,spos=0,epos=0,sepr=r'\(PSE.+:',eepr=r'\n',fname='psek'))
acts.append(sa(set=cs,seq=23,spos=0,epos=0,sepr=r'\(ERG.+:',eepr=r'\n',fname='ergmlc'))
acts.append(sa(set=cs,seq=24,spos=0,epos=0,sepr=r'\(NOP.+:',eepr=r'\n',fname='nopos'))
acts.append(sa(set=cs,seq=25,spos=0,epos=0,sepr=r'\(ESG.+:',eepr=r'\n',fname='esgmlc'))
acts.append(sa(set=cs,seq=26,spos=0,epos=0,sepr=r'\(CLN.+:',eepr=r'\n',fname='cln'))
acts.append(sa(set=cs,seq=27,spos=0,epos=0,sepr=r'\(TON.+:',eepr=r'\n',fname='ton'))
acts.append(sa(set=cs,seq=28,spos=0,epos=0,sepr=r'\(NPI.+:',eepr=r'\n',fname='npi'))
acts.append(sa(set=cs,seq=29,spos=0,epos=0,sepr=r'\(PRE.+:',eepr=r'\n',fname='pres'))
acts.append(sa(set=cs,seq=30,spos=0,epos=0,sepr=r'\(SCR.+:',eepr=r'\n',fname='screen'))
acts.append(sa(set=cs,seq=31,spos=0,epos=0,sepr=r'\(INN.+:',eepr=r'\n',fname='inn'))


#[MSS BSC]  
name = 'mss_bsc'
type = 'tx'    
sepr = 'BSC.+\(NAME\).+:'
eepr = r'\r\nCOMMAND EXECUTED'
depr = 'BSC.+\(NAME\).+:'

cs = NomaSet(name=name, type=type, sepr=sepr, eepr=eepr, depr=depr)
cs.save()

#nf1 = NomaFunc(epr='enclo(val)', desc='enclosed string with q')
nf1 = NomaFunc.objects.get(epr='repc(val)')

acts = []
acts.append(sa(set=cs,seq=1,spos=0,epos=0,eepr=r'\n',fname='bscn'))
acts.append(sa(set=cs,seq=2,spos=0,epos=0,sepr=r'BSC NUM.+:',eepr=r'\n',fname='bscid'))
acts.append(sa(set=cs,seq=3,spos=0,epos=0,sepr=r'BSC ADMIN.+:',eepr=r'\n',fname='sta'))
acts.append(sa(set=cs,seq=4,spos=0,epos=0,sepr=r'BSC OPER.+:',eepr=r'\n',fname='oper'))
acts.append(sa(set=cs,seq=5,spos=0,epos=0,sepr=r'BSC TRAF.+:',eepr=r'\n',fname='trafl'))
acts.append(sa(set=cs,seq=6,spos=0,epos=0,sepr=r'\(SNC.+:',eepr=r'\n',fname='snc'))
acts.append(sa(set=cs,seq=7,spos=0,epos=0,sepr=r'\(SPC.+:',eepr=r' ',fname='spc'))
acts.append(sa(set=cs,seq=8,spos=0,epos=0,sepr=r'\(SSN.+:',eepr=r' ',fname='ssn'))
acts.append(sa(set=cs,seq=9,spos=0,epos=0,sepr=r'\(CID.+:',eepr=r'\n',fname='cid'))
acts.append(sa(set=cs,seq=10,spos=0,epos=0,sepr=r'PAG.+:',eepr=r'\n',fname='pmtd'))
acts.append(sa(set=cs,seq=11,spos=0,epos=0,sepr=r'\(VER.+:',eepr=r'\n',fname='ver'))
acts.append(sa(set=cs,seq=12,spos=0,epos=0,sepr=r'PRIO.+:',eepr=r'\n',fname='prio'))
acts.append(sa(set=cs,seq=13,spos=0,epos=0,sepr=r'\(UPD.+:',eepr=r'\n',fname='upd'))
acts.append(sa(set=cs,seq=14,spos=0,epos=0,sepr=r'\(FRM.+:',eepr=r'\n',fname='frmset'))
acts.append(sa(set=cs,seq=15,spos=0,epos=0,sepr=r'FR AMR NB ACS.+:',eepr=r'\n',fname='frnbm',tfunc=nf1))
acts.append(sa(set=cs,seq=16,spos=0,epos=0,sepr=r'\(HRM.+:',eepr=r'\n',fname='hrmset'))
acts.append(sa(set=cs,seq=17,spos=0,epos=0,sepr=r'HR AMR NB ACS.+:',eepr=r'\n',fname='hrnbm',tfunc=nf1))
acts.append(sa(set=cs,seq=18,spos=0,epos=0,sepr=r'\(WBM.+:',eepr=r'\n',fname='wbmset'))
acts.append(sa(set=cs,seq=19,spos=0,epos=0,sepr=r'FR AMR WB ACS.+:',eepr=r'\n',fname='frwbm',tfunc=nf1))

#[MSS RNC]  
name = 'mss_rnc'
type = 'tx'    
sepr = 'RNCID ... :'
eepr = r'\r\nCOMMAND EXECUTED'
depr = 'RNCID ... :'

cs = NomaSet(name=name, type=type, sepr=sepr, eepr=eepr, depr=depr)
cs.save()

nf1 = NomaFunc(epr='repcnl(val)', desc='replace coma & CRLF with hyphen')
nf1.save()
#nf1 = NomaFunc.objects.get(epr='repc(val)')

acts = []
acts.append(sa(set=cs,seq=1,spos=0,epos=0,eepr=r'\n',fname='rncid'))
acts.append(sa(set=cs,seq=2,spos=0,epos=0,sepr=r'MCC.+:',eepr=r'\n',fname='mcc'))
acts.append(sa(set=cs,seq=3,spos=0,epos=0,sepr=r'MNC.+:',eepr=r'\n',fname='mnc'))
acts.append(sa(set=cs,seq=4,spos=0,epos=0,sepr=r'RNCNAME.+:',eepr=r'\n',fname='rncn'))
acts.append(sa(set=cs,seq=5,spos=0,epos=0,sepr=r'RNC STA.+:',eepr=r'\n',fname='sta'))
acts.append(sa(set=cs,seq=6,spos=0,epos=0,sepr=r'RNC OPER.+:',eepr=r'\n',fname='oper'))
acts.append(sa(set=cs,seq=7,spos=0,epos=0,sepr=r'NETWORK IND.+:',eepr=r'\n',fname='ni'))
acts.append(sa(set=cs,seq=8,spos=0,epos=0,sepr=r'SPC.+:',eepr=r'\n',fname='spc'))
acts.append(sa(set=cs,seq=9,spos=0,epos=0,sepr=r'VER.+:',eepr=r'\n',fname='ver'))
acts.append(sa(set=cs,seq=10,spos=0,epos=0,sepr=r'UPD.+:',eepr=r'\n',fname='upd'))
acts.append(sa(set=cs,seq=11,spos=0,epos=0,sepr=r'AMR SPEECH.+:',eepr=r'\n',fname='amr'))
acts.append(sa(set=cs,seq=12,spos=0,epos=0,sepr=r'DIG.+:',eepr=r'\n',fname='gt'))
acts.append(sa(set=cs,seq=13,spos=0,epos=0,sepr=r'NP.+:',eepr=r'\n',fname='np'))
acts.append(sa(set=cs,seq=14,spos=0,epos=0,sepr=r'TON.+:',eepr=r'\n',fname='ton'))
acts.append(sa(set=cs,seq=15,spos=0,epos=0,sepr=r'AMR CODEC.+:',eepr=r'\n\n',fname='amrms',tfunc=nf1))

\nROOT((.+?)\n)+\n{1,2}((.+?)\n)+.+---\n

#[MSS GTAna]  
name = 'mss_gtana'
type = 'tx'    
sepr = r'\nROOT.+\r\n.+\r\nSS7='
eepr = r'\r\nCOMMAND EXECUTED'
depr = r'\nROOT.+\n.+\nSS7='

#depr = r'\n|\n|\nROOT((.+?)\n)+\n{1,2}((.+?)\n)+.+---\n'

cs = NomaSet(name=name, type=type, sepr=sepr, eepr=eepr, depr=depr)
cs.save()

#nf1 = NomaFunc(epr='repcnl(val)', desc='replace coma & CRLF with hyphen')
#nf1.save()
#nf1 = NomaFunc.objects.get(epr='repc(val)')

acts = []
acts.append(sa(set=cs,seq=1,spos=0,epos=4,fname='ss7'))
acts.append(sa(set=cs,seq=2,spos=0,epos=3,sepr=r'\nGTI= ',fname='gti'))
acts.append(sa(set=cs,seq=3,spos=0,epos=3,sepr=r'\nTT = ',fname='tt'))
acts.append(sa(set=cs,seq=4,spos=0,epos=3,sepr=r'\nNP = ',fname='np'))
acts.append(sa(set=cs,seq=5,spos=0,epos=3,sepr=r'\nNAI= ',fname='nai'))
acts.append(sa(set=cs,seq=6,spos=0,sepr='---\n',eepr=r'\n\n',nepr=r'\n'))
acts.append(sa(set=cs,seq=7,spos=21,epos=46,fname='dig'))
acts.append(sa(set=cs,seq=8,spos=48,epos=54,fname='res'))
acts.append(sa(set=cs,seq=9,spos=56,epos=65,fname='atyp'))


#sf = 'D:/xna/SourceData/default/MSS465/signaling_network.log'
#tf = 'D:/xna/SourceData/default/test_sfr.csv'

sf = 'D:/XNA/SourceData/DTG/MSS/MSSFFM01/signalling_network.log'
tf = 'D:/xna/SourceData/DTG/MSS/test_gt_ana.csv'

print(nomaMain(sf,tf,cs,acts))
#for act in acts: act.save()

#[MSS GTRes]  
name = 'mss_gtres'
type = 'tx'    
sepr = r'WGHT\r\n.+---\r\n'
eepr = r'\r\nCOMMAND EXECUTED'
depr = r'\n (?=\S)'

#depr = r'\n|\n|\nROOT((.+?)\n)+\n{1,2}((.+?)\n)+.+---\n'

cs = NomaSet(name=name, type=type, sepr=sepr, eepr=eepr, depr=depr)
cs.save()

#nf1 = NomaFunc(epr='repcnl(val)', desc='replace coma & CRLF with hyphen')
#nf1.save()
#nf1 = NomaFunc.objects.get(epr='repc(val)')

acts = []
acts.append(sa(set=cs,seq=1,spos=0,epos=6,fname='res'))
acts.append(sa(set=cs,seq=2,spos=7,epos=10,fname='sta'))
acts.append(sa(set=cs,seq=3,spos=10,nepr=r'\n\s{11}(?!\s+CALL|\s+NEW)'))
acts.append(sa(set=cs,seq=4,spos=0,epos=3,fname='lsi'))
acts.append(sa(set=cs,seq=5,spos=4,epos=7,fname='net'))
acts.append(sa(set=cs,seq=6,spos=8,epos=25,fname='spc'))
acts.append(sa(set=cs,seq=7,spos=27,epos=43,fname='spn'))
acts.append(sa(set=cs,seq=8,spos=44,epos=47,fname='rind'))
acts.append(sa(set=cs,seq=9,spos=48,epos=53,fname='esta'))
acts.append(sa(set=cs,seq=10,spos=54,epos=56,fname='prio'))
acts.append(sa(set=cs,seq=11,spos=57,epos=61,fname='wght'))
acts.append(sa(set=cs,seq=12,spos=0,epos=5,sepr=r'CALLE.+D.{9}',fname='cdgtm'))
acts.append(sa(set=cs,seq=13,spos=0,epos=5,sepr=r'CALLI.+D.{8}',fname='cggtm'))
acts.append(sa(set=cs,seq=14,spos=0,epos=6,sepr=r'NEW.+D.{18}',fname='nssn'))

#[MSS Sig Route-Sets]  
name = 'mss_sig_rousets'
type = 'tx'    
sepr = r'PAR SET\r\n.+--\r\n'
eepr = r'\r\n<  ZNGI:NA1;'
depr = r'PAR SET\n.+--\n'

cs = NomaSet(name=name, type=type, sepr=sepr, eepr=eepr, depr=depr)
cs.save()

#nf1 = NomaFunc(epr='repcnl(val)', desc='replace coma & CRLF with hyphen')
#nf1.save()
#nf1 = NomaFunc.objects.get(epr='repc(val)')

acts = []
acts.append(sa(set=cs,seq=1,spos=0,epos=3,fname='net'))
acts.append(sa(set=cs,seq=2,spos=5,epos=11,fname='spc'))
acts.append(sa(set=cs,seq=3,spos=0,sepr=r'PRIO\n.+--\n',eepr=r'\n\n',nepr=r'\n\s{10}'))
acts.append(sa(set=cs,seq=4,spos=18,epos=34,fname='rou'))
acts.append(sa(set=cs,seq=5,spos=36,epos=42,fname='rsta'))
acts.append(sa(set=cs,seq=6,spos=44,epos=48,fname='prio'))

#[MSS Sig Routes]  
name = 'mss_sig_routes'
type = 'tx'    
sepr = r'PAR SET\r\n.+--\r\n'
eepr = r'\r\n<  ZNGI:NA1;'
depr = r'PAR SET\n.+--\n'

cs = NomaSet(name=name, type=type, sepr=sepr, eepr=eepr, depr=depr)
cs.save()

#nf1 = NomaFunc(epr='repcnl(val)', desc='replace coma & CRLF with hyphen')
#nf1.save()
nf1 = NomaFunc.objects.get(epr='repc(val)')

acts = []
acts.append(sa(set=cs,seq=1,spos=0,epos=3,fname='net'))
acts.append(sa(set=cs,seq=2,spos=5,epos=11,fname='spc'))
acts.append(sa(set=cs,seq=3,spos=25,epos=41,fname='spn'))
acts.append(sa(set=cs,seq=4,spos=43,epos=51,fname='sta'))
acts.append(sa(set=cs,seq=5,spos=54,epos=56,eepr=r'\n',fname='parset'))
acts.append(sa(set=cs,seq=6,spos=0,epos=6,sepr=r'LOAD.+ROUTES ',eepr=r'\n',fname='lsh'))
acts.append(sa(set=cs,seq=7,spos=0,epos=2,sepr=r'SCR.+PS: ',eepr=r'\n',fname='scrg',tfunc=nf1))

#[MSS Sig Linksets]  
name = 'mss_sig_linksets'
type = 'tx'    
sepr = r'\n<  ZNSI:'
eepr = r'\r\n<  ZNGI:NA1;'
depr = r'\n<  ZNSI:'

cs = NomaSet(name=name, type=type, sepr=sepr, eepr=eepr, depr=depr)
cs.save()

#nf1 = NomaFunc(epr='repcnl(val)', desc='replace coma & CRLF with hyphen')
#nf1.save()
#nf1 = NomaFunc.objects.get(epr='repc(val)')

acts = []
acts.append(sa(set=cs,seq=1,spos=0,epos=3,fname='net'))
acts.append(sa(set=cs,seq=2,spos=0,sepr=r'LINK\n.+--\n',eepr=r'\n\n\n',nepr=r'\n\n'))
acts.append(sa(set=cs,seq=3,spos=4,epos=10,fname='spc'))
acts.append(sa(set=cs,seq=4,spos=23,epos=27,fname='lsi'))
acts.append(sa(set=cs,seq=5,spos=28,epos=44,fname='lsn'))
acts.append(sa(set=cs,seq=6,spos=45,epos=49,fname='asn'))

#[MSS Sig Assoc Set]  
name = 'mss_sig_as_set'
type = 'tx'    
sepr = r'ROLE\r\n.+--\r\n'
eepr = r'\r\nCOMMAND EXECUTED'
depr = r'ROLE\n.+--\n'

cs = NomaSet(name=name, type=type, sepr=sepr, eepr=eepr, depr=depr)
cs.save()

#nf1 = NomaFunc(epr='repcnl(val)', desc='replace coma & CRLF with hyphen')
#nf1.save()
#nf1 = NomaFunc.objects.get(epr='repc(val)')

acts = []
acts.append(sa(set=cs,seq=1,spos=0,epos=20,fname='asn'))
acts.append(sa(set=cs,seq=2,spos=23,epos=35,fname='asi'))
acts.append(sa(set=cs,seq=3,spos=38,epos=47,fname='user'))
acts.append(sa(set=cs,seq=4,spos=50,epos=54,eepr=r'\n',fname='role'))
acts.append(sa(set=cs,seq=5,spos=25,epos=28,sepr=r'\nSPEC',eepr=r'\n',fname='spec'))
acts.append(sa(set=cs,seq=6,spos=25,epos=28,sepr=r'\nTRAF',eepr=r'\n',fname='traf'))
acts.append(sa(set=cs,seq=7,spos=12,epos=15,sepr=r'MESSAGES . .',eepr=r'\n',fname='asp'))
acts.append(sa(set=cs,seq=8,spos=25,epos=28,sepr=r'\nREGI',eepr=r'\n',fname='reg'))
acts.append(sa(set=cs,seq=9,spos=25,epos=28,sepr=r'\nSSNM',eepr=r'\n',fname='ssnm'))
acts.append(sa(set=cs,seq=10,spos=25,epos=28,sepr=r'\nNETW',eepr=r'\n',fname='neta'))
acts.append(sa(set=cs,seq=11,spos=9,epos=12,sepr=r'IPSP',eepr=r'\n',fname='ipsp'))
acts.append(sa(set=cs,seq=12,spos=25,epos=28,sepr=r'\nROUT',eepr=r'\n',fname='rctx'))
acts.append(sa(set=cs,seq=13,spos=25,epos=28,sepr=r'\nFIRS',eepr=r'\n',fname='fdsn'))
acts.append(sa(set=cs,seq=14,spos=25,epos=28,sepr=r'\nTACK',eepr=r'SEC',fname='tack'))
acts.append(sa(set=cs,seq=15,spos=25,epos=28,sepr=r'\nM3UA',eepr=r'SEC',fname='m3hb'))
acts.append(sa(set=cs,seq=16,spos=25,epos=28,sepr=r'\nACTI',eepr=r'SEC',fname='actd'))

#[MSS Sig Associations]  
name = 'mss_sig_as'
type = 'tx'    
sepr = r':START='
eepr = r'\r\nCOMMAND EXECUTED'
depr = r'ROLE\n.+--\n'

cs = NomaSet(name=name, type=type, sepr=sepr, eepr=eepr, depr=depr)
cs.save()

#nf1 = NomaFunc(epr='repcnl(val)', desc='replace coma & CRLF with hyphen')
#nf1.save()
#nf1 = NomaFunc.objects.get(epr='repc(val)')

acts = []
acts.append(sa(set=cs,seq=1,spos=23,epos=35,fname='asi'))
acts.append(sa(set=cs,seq=2,spos=0,sepr=r'STATE\n.+--(?=-\n)',eepr=r'\n\nSPEC',nepr=r'STATE\n.+--(?=-\n)'))
acts.append(sa(set=cs,seq=3,spos=6,epos=9,fname='aind'))
acts.append(sa(set=cs,seq=4,spos=13,epos=20,fname='unit'))
acts.append(sa(set=cs,seq=5,spos=31,epos=47,fname='parset'))
acts.append(sa(set=cs,seq=6,spos=48,epos=68,fname='sta'))
acts.append(sa(set=cs,seq=7,spos=13,epos=23,sepr=r'RESS 1',eepr=r'\n',fname='saddr1'))
acts.append(sa(set=cs,seq=8,spos=13,epos=23,sepr=r'RESS 2',eepr=r'\n',fname='saddr2'))
acts.append(sa(set=cs,seq=9,spos=18,epos=20,sepr=r'CE PORT',eepr=r'\n',fname='sport'))
acts.append(sa(set=cs,seq=10,spos=26,epos=28,sepr=r'PRI',eepr=r'\n',fname='dest1'))
acts.append(sa(set=cs,seq=11,spos=26,epos=28,sepr=r'SEC',eepr=r'\n',fname='dest2'))
acts.append(sa(set=cs,seq=12,spos=24,epos=26,sepr=r'DESTI',eepr=r'\n',fname='dport'))
acts.append(sa(set=cs,seq=13,spos=25,epos=26,sepr=r'DATA',eepr=r'\n',fname='dsc'))

#[MSS AA Start]  
name = 'mss_attr_srt'
type = 'tx'    
sepr = r'\n<  Z..I:(?=.*START=)'
eepr = r'\r\n<  ZCWI;'
depr = r'\n<  Z..I:(?=.*START=)'

cs = NomaSet(name=name, type=type, sepr=sepr, eepr=eepr, depr=depr)
cs.save()

#nf1 = NomaFunc(epr='repcnl(val)', desc='replace coma & CRLF with hyphen')
#nf1.save()
#nf1 = NomaFunc.objects.get(epr='repc(val)')

acts = []
acts.append(sa(set=cs,seq=1,spos=0,epos=3,fname='atyp'))
acts.append(sa(set=cs,seq=2,spos=11,epos=20,sepr=r'NAME:',eepr=r'\n',fname='subname',fepr=r'^(?=\S)'))


sf = 'D:/xna/SourceData/DTG/MSS/MSSFFM01/routing.log'
tf = 'D:/xna/SourceData/DTG/MSS/test_aa_srt.csv'

#[MSS EPA Results]  
name = 'mss_ares_epa'
type = 'tx'    
sepr = r'\nEXT.+FINAL.+\r\n\r\n\r\n\r\nRES.+:'
eepr = r'\r\nCOMMAND EXECUTED'
depr = r'\nRES.+:'

cs = NomaSet(name=name, type=type, sepr=sepr, eepr=eepr, depr=depr)
cs.save()

#nf1 = NomaFunc(epr='enclo(val)', desc='enclosed string with q')
#nf01 = NomaFunc.objects.get(epr='conc(val,"-")')
nf01 = NomaFunc.objects.get(epr='nots(val)')

acts = []
acts.append(sa(set=cs,seq=1,spos=1,epos=10,eepr=r'\n',fname='resn'))
acts.append(sa(set=cs,seq=2,spos=1,epos=0,sepr=r'\nC.{8}P\s+:',eepr=r'\n',fname='cset'))
acts.append(sa(set=cs,seq=3,spos=1,epos=0,sepr=r'\nO.{21}S\s+:',eepr=r'\n',fname='odc',tfunc=nf01))
acts.append(sa(set=cs,seq=4,spos=1,epos=0,sepr=r'\nC.{23}R\s+:',eepr=r'\n',fname='con',tfunc=nf01))
acts.append(sa(set=cs,seq=5,spos=1,epos=0,sepr=r'\nS.{21}R\s+:',eepr=r'\n',fname='scon',tfunc=nf01))
acts.append(sa(set=cs,seq=6,spos=1,epos=0,sepr=r'\nN.{14}N\s+:',eepr=r'\n',fname='npi',tfunc=nf01))
acts.append(sa(set=cs,seq=7,spos=1,epos=0,sepr=r'\nC.{20}S\s+:',eepr=r'\n',fname='cchar',tfunc=nf01))
acts.append(sa(set=cs,seq=8,spos=1,epos=0,sepr=r'\nN.{19}D\s+:',eepr=r'\n',fname='nbr',tfunc=nf01))
acts.append(sa(set=cs,seq=9,spos=1,epos=0,sepr=r'\nN.{22}S\s+:',eepr=r'\n',fname='nrd',tfunc=nf01))
acts.append(sa(set=cs,seq=10,spos=1,epos=0,sepr=r'\nS.{27}S\s+:',eepr=r'\n',fname='srd',tfunc=nf01))
acts.append(sa(set=cs,seq=11,spos=1,epos=0,sepr=r'\nS.{23}S\s+:',eepr=r'\n',fname='strd',tfunc=nf01))
acts.append(sa(set=cs,seq=12,spos=1,epos=0,sepr=r'\nS.{25}S\s+:',eepr=r'\n',fname='sad',tfunc=nf01))
acts.append(sa(set=cs,seq=13,spos=1,epos=0,sepr=r'\nD.{16}D\s+:',eepr=r'\n',fname='digs',tfunc=nf01))
acts.append(sa(set=cs,seq=14,spos=1,epos=0,sepr=r'\nS.{10}T\s+:',eepr=r'\n',fname='styp',tfunc=nf01))
acts.append(sa(set=cs,seq=15,spos=1,epos=0,sepr=r'\nS.{15}X\s+:',eepr=r'\n',fname='sset',tfunc=nf01))
acts.append(sa(set=cs,seq=16,spos=1,epos=0,sepr=r'C.{18}R\s+:',eepr=r'\n',fname='acgi',tfunc=nf01))
acts.append(sa(set=cs,seq=17,spos=1,epos=0,sepr=r'M.{18}R\s+:',eepr=r'\n',fname='amnc',tfunc=nf01))
acts.append(sa(set=cs,seq=18,spos=1,epos=0,sepr=r'L.{18}R\s+:',eepr=r'\n',fname='alac',tfunc=nf01))
acts.append(sa(set=cs,seq=19,spos=1,epos=0,sepr=r'C.{17}R\s+:',eepr=r'\n',fname='aci',tfunc=nf01))
acts.append(sa(set=cs,seq=20,spos=1,epos=0,sepr=r'\nE.{22}T\s+:',eepr=r'\n',fname='emlpp',tfunc=nf01))
acts.append(sa(set=cs,seq=21,spos=1,epos=0,sepr=r'\nC.{20}Y\s+:',eepr=r'\n',fname='cgcat',tfunc=nf01))
acts.append(sa(set=cs,seq=22,spos=1,epos=0,sepr=r'\nC.{26}S\s+:',eepr=r'\n',fname='chrs',tfunc=nf01))
acts.append(sa(set=cs,seq=23,spos=1,epos=0,sepr=r'\nM.{27}S\s+:',eepr=r'\n',fname='mprs',tfunc=nf01))
acts.append(sa(set=cs,seq=24,spos=1,epos=0,sepr=r'\nC.{30}S\s+:',eepr=r'\n',fname='ctrs',tfunc=nf01))
acts.append(sa(set=cs,seq=25,spos=1,epos=0,sepr=r'\nC.{14}T\s+:',eepr=r'\n',fname='clia',tfunc=nf01))
acts.append(sa(set=cs,seq=26,spos=1,epos=0,sepr=r'\nC.{16}T\s+:',eepr=r'\n',fname='clis',tfunc=nf01))
acts.append(sa(set=cs,seq=27,spos=1,epos=0,sepr=r'\nC.{23}X\s+:',eepr=r'\n',fname='cdpns',tfunc=nf01))
acts.append(sa(set=cs,seq=28,spos=1,epos=0,sepr=r'\nE.{26}Y\s+:',eepr=r'\n',fname='ecgc',tfunc=nf01))
acts.append(sa(set=cs,seq=29,spos=1,epos=0,sepr=r'\nC.{17}S\s+:',eepr=r'\n',fname='cdig',tfunc=nf01))
acts.append(sa(set=cs,seq=30,spos=1,epos=0,sepr=r'\nS.{15}E\s+:',eepr=r'\n',fname='scmpl',tfunc=nf01))
acts.append(sa(set=cs,seq=31,spos=1,epos=0,sepr=r'\nO.{20}G\s+:',eepr=r'\n',fname='oiwf',tfunc=nf01))
acts.append(sa(set=cs,seq=32,spos=1,epos=0,sepr=r'\nR.{26}R\s+:',eepr=r'\n',fname='rpdn',tfunc=nf01))
acts.append(sa(set=cs,seq=33,spos=1,epos=0,sepr=r'\nL.{13}R\s+:',eepr=r'\n',fname='locn',tfunc=nf01))
acts.append(sa(set=cs,seq=34,spos=1,epos=0,sepr=r'\nT.{21}R\s+:',eepr=r'\n',fname='lton',tfunc=nf01))
acts.append(sa(set=cs,seq=35,spos=1,epos=0,sepr=r'\nN.{27}N\s+:',eepr=r'\n',fname='lnpi',tfunc=nf01))
acts.append(sa(set=cs,seq=36,spos=1,epos=0,sepr=r'\nN.{24}S\s+:',eepr=r'\n',fname='lpres',tfunc=nf01))
acts.append(sa(set=cs,seq=37,spos=1,epos=0,sepr=r'\nI.{26}.\s+:',eepr=r'\n',fname='inni',tfunc=nf01))
acts.append(sa(set=cs,seq=38,spos=1,epos=0,sepr=r'\nN.{11}R\s+:',eepr=r'\n',fname='mtnr',tfunc=nf01))
acts.append(sa(set=cs,seq=39,spos=1,epos=0,sepr=r'\nL.{25}Y\s+:',eepr=r'\n',fname='lqh',tfunc=nf01))
acts.append(sa(set=cs,seq=40,spos=1,epos=0,sepr=r'\nL.{23}Y\s+:',eepr=r'\n',fname='lqv',tfunc=nf01))


#[MSS SERV AA Results]  
name = 'mss_ares_serv'
type = 'tx'    
sepr = r'ZRQQ:SERV;\r\n((.*?)\r\n)+?RES.+:'
eepr = r'\r\nCOMMAND EXECUTED'
depr = r'\nRES.+:'

cs = NomaSet(name=name, type=type, sepr=sepr, eepr=eepr, depr=depr)
cs.save()

#nf1 = NomaFunc(epr='enclo(val)', desc='enclosed string with q')
#nf01 = NomaFunc.objects.get(epr='conc(val,"-")')
nf01 = NomaFunc.objects.get(epr='nots')
nf02 = NomaFunc.objects.get(epr='dumm')

acts = []
acts.append(sa(set=cs,seq=1,spos=1,epos=10,fname='rtyp',tfunc=nf02,tpar='"SERV"'))
acts.append(sa(set=cs,seq=2,spos=1,epos=10,eepr=r'\n',fname='resn'))
acts.append(sa(set=cs,seq=3,spos=1,epos=0,sepr=r'\nC.{8}P\s+:',eepr=r'\n',fname='cset'))
acts.append(sa(set=cs,seq=4,spos=1,epos=0,sepr=r'\nO.{21}S\s+:',eepr=r'\n',fname='odc',tfunc=nf01))
acts.append(sa(set=cs,seq=5,spos=1,epos=0,sepr=r'\nA.{25}Y\s+:',eepr=r'\n',fname='adrc',tfunc=nf01))
acts.append(sa(set=cs,seq=6,spos=1,epos=0,sepr=r'\nA.{22}D\s+:',eepr=r'\n',fname='anni',tfunc=nf01))
acts.append(sa(set=cs,seq=7,spos=1,epos=0,sepr=r'\nN.{27}X\s+:',eepr=r'\n',fname='nms',tfunc=nf01))
acts.append(sa(set=cs,seq=8,spos=1,epos=0,sepr=r'\nM.{27}I\s+:',eepr=r'\n',fname='clit',tfunc=nf01))
acts.append(sa(set=cs,seq=9,spos=1,epos=0,sepr=r'\nE.{18}L\s+:',eepr=r'\n',fname='emlpp',tfunc=nf01))
acts.append(sa(set=cs,seq=10,spos=1,epos=0,sepr=r'\nE.{26}Y\s+:',eepr=r'\n',fname='ecgc',tfunc=nf01))
acts.append(sa(set=cs,seq=11,spos=1,epos=0,sepr=r'\nN.{23}S\s+:',eepr=r'\n',fname='nps',tfunc=nf01))
acts.append(sa(set=cs,seq=12,spos=1,epos=0,sepr=r'\nPREFIX\s+:',eepr=r'\n',fname='pref',tfunc=nf01))
acts.append(sa(set=cs,seq=13,spos=1,epos=0,sepr=r'\nR.{14}Y\s+:',eepr=r'\n',fname='rouc',tfunc=nf01))
acts.append(sa(set=cs,seq=14,spos=1,epos=0,sepr=r'\nS.{11}S\s+:',eepr=r'\n',fname='sclass',tfunc=nf01))
acts.append(sa(set=cs,seq=15,spos=1,epos=0,sepr=r'\nS.{14}E\s+:',eepr=r'\n',fname='stds',tfunc=nf01))
acts.append(sa(set=cs,seq=16,spos=1,epos=0,sepr=r'\nC.{13}N\s+:',eepr=r'\n',fname='csis',tfunc=nf01))
acts.append(sa(set=cs,seq=17,spos=1,epos=0,sepr=r'\nS.{15}X\s+:',eepr=r'\n',fname='sset',tfunc=nf01))
acts.append(sa(set=cs,seq=18,spos=1,epos=0,sepr=r'\nN.{22}I\s+:',eepr=r'\n',fname='ncli',tfunc=nf01))
acts.append(sa(set=cs,seq=19,spos=1,epos=0,sepr=r'\nS.{24}I\s+:',eepr=r'\n',fname='scri',tfunc=nf01))
acts.append(sa(set=cs,seq=20,spos=1,epos=0,sepr=r'\nT.{36}M\s+:',eepr=r'\n',fname='acgpn',tfunc=nf01))
acts.append(sa(set=cs,seq=21,spos=1,epos=0,sepr=r'\nM.{34}I\s+:',eepr=r'\n',fname='aclit',tfunc=nf01))
acts.append(sa(set=cs,seq=22,spos=1,epos=0,sepr=r'\nO.{20}G\s+:',eepr=r'\n',fname='oiwf',tfunc=nf01))
acts.append(sa(set=cs,seq=23,spos=1,epos=0,sepr=r'\nP.{31}G\s+:',eepr=r'\n',fname='piwf',tfunc=nf01))

#[MSS EPA Results] 
name = 'mss_ares_epa'
type = 'tx'    
sepr = r'\nEXT.+(\r\n)+?RES.+:'
eepr = r'\r\nCOMMAND EXECUTED'
depr = r'\nRES.+:'

cs = NomaSet(name=name, type=type, sepr=sepr, eepr=eepr, depr=depr)
if savetable == 1: cs.save()

#nf1 = NomaFunc(epr='enclo(val)', desc='enclosed string with q')
#nf01 = NomaFunc.objects.get(epr='conc(val,"-")')
nf01 = NomaFunc.objects.get(epr='nots')
nf02 = NomaFunc.objects.get(epr='dumm')
nf03 = NomaFunc.objects.get(epr='nume')

acts = []
acts.append(sa(set=cs,seq=1,spos=1,epos=10,fname='rtyp',tfunc=nf02,tpar='"EPA"'))
acts.append(sa(set=cs,seq=2,spos=1,epos=10,eepr=r'\n',fname='resn'))
acts.append(sa(set=cs,seq=3,spos=1,epos=0,sepr=r'\nC.{8}P\s+:',eepr=r'\n',fname='cset'))
acts.append(sa(set=cs,seq=4,spos=1,epos=0,sepr=r'\nO.{21}S\s+:',eepr=r'\n',fname='odc',tfunc=nf01))
acts.append(sa(set=cs,seq=5,spos=1,epos=0,sepr=r'\nC.{23}R\s+:',eepr=r'\n',fname='con',tfunc=nf01))
acts.append(sa(set=cs,seq=6,spos=1,epos=0,sepr=r'\nS.{21}R\s+:',eepr=r'\n',fname='scon',tfunc=nf01))
acts.append(sa(set=cs,seq=7,spos=1,epos=0,sepr=r'\nN.{14}N\s+:',eepr=r'\n',fname='npi',tfunc=nf01))
acts.append(sa(set=cs,seq=8,spos=1,epos=0,sepr=r'\nC.{20}S\s+:',eepr=r'\n',fname='cchar',tfunc=nf01))
acts.append(sa(set=cs,seq=9,spos=1,epos=0,sepr=r'\nN.{19}D\s+:',eepr=r'\n',fname='nbr',tfunc=nf01))
acts.append(sa(set=cs,seq=10,spos=1,epos=0,sepr=r'\nN.{22}S\s+:',eepr=r'\n',fname='nrd',tfunc=nf01))
acts.append(sa(set=cs,seq=11,spos=1,epos=0,sepr=r'\nS.{27}S\s+:',eepr=r'\n',fname='srd',tfunc=nf01))
acts.append(sa(set=cs,seq=12,spos=1,epos=0,sepr=r'\nS.{23}S\s+:',eepr=r'\n',fname='strd',tfunc=nf01))
acts.append(sa(set=cs,seq=13,spos=1,epos=0,sepr=r'\nS.{25}S\s+:',eepr=r'\n',fname='sad',tfunc=nf01))
acts.append(sa(set=cs,seq=14,spos=1,epos=0,sepr=r'\nD.{16}D\s+:',eepr=r'\n',fname='digs',tfunc=nf01))
acts.append(sa(set=cs,seq=15,spos=1,epos=0,sepr=r'\nS.{10}T\s+:',eepr=r'\n',fname='styp',tfunc=nf01))
acts.append(sa(set=cs,seq=16,spos=0,epos=0,sepr=r'\nS.{15}X\s+:\s+',eepr=r'\s',fname='sset',tfunc=nf03))
acts.append(sa(set=cs,seq=17,spos=1,epos=0,sepr=r'C.{18}R\s+:',eepr=r'\n',fname='acgi',tfunc=nf01))
acts.append(sa(set=cs,seq=18,spos=1,epos=0,sepr=r'M.{18}R\s+:',eepr=r'\n',fname='amnc',tfunc=nf01))
acts.append(sa(set=cs,seq=19,spos=1,epos=0,sepr=r'L.{18}R\s+:',eepr=r'\n',fname='alac',tfunc=nf01))
acts.append(sa(set=cs,seq=20,spos=1,epos=0,sepr=r'C.{17}R\s+:',eepr=r'\n',fname='aci',tfunc=nf01))
acts.append(sa(set=cs,seq=21,spos=1,epos=0,sepr=r'\nE.{22}T\s+:',eepr=r'\n',fname='emlpp',tfunc=nf01))
acts.append(sa(set=cs,seq=22,spos=1,epos=0,sepr=r'\nC.{20}Y\s+:',eepr=r'\n',fname='cgcat',tfunc=nf01))
acts.append(sa(set=cs,seq=23,spos=1,epos=0,sepr=r'\nC.{26}S\s+:',eepr=r'\n',fname='chrs',tfunc=nf01))
acts.append(sa(set=cs,seq=24,spos=1,epos=0,sepr=r'\nM.{27}S\s+:',eepr=r'\n',fname='mprs',tfunc=nf01))
acts.append(sa(set=cs,seq=25,spos=1,epos=0,sepr=r'\nC.{30}S\s+:',eepr=r'\n',fname='ctrs',tfunc=nf01))
acts.append(sa(set=cs,seq=26,spos=1,epos=0,sepr=r'\nC.{14}T\s+:',eepr=r'\n',fname='clia',tfunc=nf01))
acts.append(sa(set=cs,seq=27,spos=1,epos=0,sepr=r'\nC.{16}T\s+:',eepr=r'\n',fname='clis',tfunc=nf01))
acts.append(sa(set=cs,seq=28,spos=1,epos=0,sepr=r'\nC.{23}X\s+:',eepr=r'\n',fname='cdpns',tfunc=nf01))
acts.append(sa(set=cs,seq=29,spos=1,epos=0,sepr=r'\nE.{26}Y\s+:',eepr=r'\n',fname='ecgc',tfunc=nf01))
acts.append(sa(set=cs,seq=30,spos=1,epos=0,sepr=r'\nC.{17}S\s+:',eepr=r'\n',fname='cdig',tfunc=nf01))
acts.append(sa(set=cs,seq=31,spos=1,epos=0,sepr=r'\nS.{15}E\s+:',eepr=r'\n',fname='scmpl',tfunc=nf01))
acts.append(sa(set=cs,seq=32,spos=1,epos=0,sepr=r'\nO.{20}G\s+:',eepr=r'\n',fname='oiwf',tfunc=nf01))
acts.append(sa(set=cs,seq=33,spos=1,epos=0,sepr=r'\nR.{26}R\s+:',eepr=r'\n',fname='rpdn',tfunc=nf01))
acts.append(sa(set=cs,seq=34,spos=1,epos=0,sepr=r'\nL.{13}R\s+:',eepr=r'\n',fname='locn',tfunc=nf01))
acts.append(sa(set=cs,seq=35,spos=1,epos=0,sepr=r'\nT.{21}R\s+:',eepr=r'\n',fname='lton',tfunc=nf01))
acts.append(sa(set=cs,seq=36,spos=1,epos=0,sepr=r'\nN.{27}N\s+:',eepr=r'\n',fname='lnpi',tfunc=nf01))
acts.append(sa(set=cs,seq=37,spos=1,epos=0,sepr=r'\nN.{24}S\s+:',eepr=r'\n',fname='lpres',tfunc=nf01))
acts.append(sa(set=cs,seq=38,spos=1,epos=0,sepr=r'\nI.{26}.\s+:',eepr=r'\n',fname='inni',tfunc=nf01))
acts.append(sa(set=cs,seq=39,spos=1,epos=0,sepr=r'\nN.{11}R\s+:',eepr=r'\n',fname='nilr',tfunc=nf01))
acts.append(sa(set=cs,seq=40,spos=1,epos=0,sepr=r'\nL.{25}Y\s+:',eepr=r'\n',fname='lqh',tfunc=nf01))
acts.append(sa(set=cs,seq=41,spos=1,epos=0,sepr=r'\nL.{23}Y\s+:',eepr=r'\n',fname='lqv',tfunc=nf01))

sf = 'D:/xna/SourceData/DTG/MSS/MSSFFM01/routing.log'
tf = 'D:/xna/SourceData/DTG/MSS/test_ares_epa.csv'

#[MSS EOS Results]  
name = 'mss_ares_eos'
type = 'tx'    
sepr = r'ZRQQ:EOS;((.*?)\r\n)+?RES.+:'
eepr = r'\r\nCOMMAND EXECUTED'
depr = r'\nRES.+:'

cs = NomaSet(name=name, type=type, sepr=sepr, eepr=eepr, depr=depr)
cs.save()

#nf1 = NomaFunc(epr='enclo(val)', desc='enclosed string with q')
#nf01 = NomaFunc.objects.get(epr='conc(val,"-")')
nf01 = NomaFunc.objects.get(epr='nots')
nf02 = NomaFunc.objects.get(epr='dumm')

acts = []
acts.append(sa(set=cs,seq=1,spos=1,epos=10,fname='rtyp',tfunc=nf02,tpar='"EOS"'))
acts.append(sa(set=cs,seq=2,spos=1,epos=10,eepr=r'\n',fname='resn'))
acts.append(sa(set=cs,seq=3,spos=1,epos=0,sepr=r'\nC.{8}P\s+:',eepr=r'\n',fname='cset'))
acts.append(sa(set=cs,seq=4,spos=1,epos=0,sepr=r'\nO.{21}S\s+:',eepr=r'\n',fname='odc',tfunc=nf01))
acts.append(sa(set=cs,seq=5,spos=1,epos=0,sepr=r'\nT.{21}E\s+:',eepr=r'\n',fname='tone',tfunc=nf01))
acts.append(sa(set=cs,seq=6,spos=1,epos=0,sepr=r'\nA.{17}R\s+:',eepr=r'\n',fname='anni',tfunc=nf01))
acts.append(sa(set=cs,seq=7,spos=1,epos=0,sepr=r'\nA.{19}G\s+:',eepr=r'\n',fname='annc',tfunc=nf01))
acts.append(sa(set=cs,seq=8,spos=1,epos=0,sepr=r'\nN.{15}O\s+:',eepr=r'\n',fname='notif',tfunc=nf01))
acts.append(sa(set=cs,seq=9,spos=1,epos=0,sepr=r'\nD.{17}E\s+:',eepr=r'\n',fname='tree',tfunc=nf01))
acts.append(sa(set=cs,seq=10,spos=1,epos=0,sepr=r'\nC.{13}N\s+:',eepr=r'\n',fname='corg',tfunc=nf01))
acts.append(sa(set=cs,seq=11,spos=1,epos=0,sepr=r'\nN.{18}S\s+:',eepr=r'\n',fname='nratt',tfunc=nf01))
acts.append(sa(set=cs,seq=12,spos=1,epos=0,sepr=r'\nA.{21}S\s+:',eepr=r'\n',fname='aratt',tfunc=nf01))
acts.append(sa(set=cs,seq=13,spos=1,epos=0,sepr=r'\nI.{31}S\s+:',eepr=r'\n',fname='iratt',tfunc=nf01))
acts.append(sa(set=cs,seq=14,spos=1,epos=0,sepr=r'\nP.{31}G\s+:',eepr=r'\n',fname='piwf',tfunc=nf01))
acts.append(sa(set=cs,seq=15,spos=1,epos=0,sepr=r'\nI.{16}T\s+:',eepr=r'\n',fname='indp',tfunc=nf01))
acts.append(sa(set=cs,seq=16,spos=1,epos=0,sepr=r'\nAU.{17}G\s+:',eepr=r'\n',fname='arr',tfunc=nf01))
acts.append(sa(set=cs,seq=17,spos=1,epos=0,sepr=r'\nM.{21}N\s+:',eepr=r'\n',fname='mgwoc',tfunc=nf01))
acts.append(sa(set=cs,seq=18,spos=1,epos=0,sepr=r'\nD.{11}E\s+:',eepr=r'\n',fname='cause',tfunc=nf01))
acts.append(sa(set=cs,seq=19,spos=1,epos=0,sepr=r'\nF.{13}E\s+:',eepr=r'\n',fname='frel',tfunc=nf01))


sf = 'D:/xna/SourceData/DTG/MSS/MSSFFM01/routing.log'
tf = 'D:/xna/SourceData/DTG/MSS/test_ares_eos.csv'

#[MSS IN Results]  
name = 'mss_ares_in'
type = 'tx'    
sepr = r'ZRQQ:IN;((.*?)\r\n)+?RES.+:'
eepr = r'\r\nCOMMAND EXECUTED'
depr = r'\nRES.+:'

cs = NomaSet(name=name, type=type, sepr=sepr, eepr=eepr, depr=depr)
if savetable == 1: cs.save()

#nf03 = NomaFunc(epr='nume', desc='return only if numeric')
nf01 = NomaFunc.objects.get(epr='nots')
nf02 = NomaFunc.objects.get(epr='dumm')
nf03 = NomaFunc.objects.get(epr='nume')

acts = []
acts.append(sa(set=cs,seq=1,spos=1,epos=10,fname='rtyp',tfunc=nf02,tpar='"IN"'))
acts.append(sa(set=cs,seq=2,spos=1,epos=10,eepr=r'\n',fname='resn'))
acts.append(sa(set=cs,seq=3,spos=1,epos=0,sepr=r'\nC.{8}P\s+:',eepr=r'\n',fname='cset'))
acts.append(sa(set=cs,seq=4,spos=0,epos=0,sepr=r'\nS.{15}X\s+:\s+',eepr=r'\s',fname='sset',tfunc=nf03))
acts.append(sa(set=cs,seq=5,spos=1,epos=0,sepr=r'\nT.{17}N\s+:',eepr=r'\n',fname='tsupp',tfunc=nf01))
acts.append(sa(set=cs,seq=6,spos=1,epos=0,sepr=r'\nC.{22}N\s+:',eepr=r'\n',fname='camph',tfunc=nf01))
acts.append(sa(set=cs,seq=7,spos=1,epos=0,sepr=r'\nD.{13}N\s+:',eepr=r'\n',fname='dpmod',tfunc=nf01))
acts.append(sa(set=cs,seq=8,spos=1,epos=0,sepr=r'\nS.{15}T\s+:',eepr=r'\n',fname='scpps',tfunc=nf01))
acts.append(sa(set=cs,seq=9,spos=1,epos=0,sepr=r'\nE.{26}Y\s+:',eepr=r'\n',fname='ecgc',tfunc=nf01))


sf = 'D:/xna/SourceData/DTG/MSS/MSSFFM01/routing.log'
tf = 'D:/xna/SourceData/DTG/MSS/test_ares_in.csv'


#[MSS ROU Results]  
name = 'mss_ares_rou'
type = 'tx'    
sepr = r'ZRQQ:ROU;((.*?)\r\n)+?RES.+:'
eepr = r'\r\nCOMMAND EXECUTED'
depr = r'\nRES.+:'

cs = NomaSet(name=name, type=type, sepr=sepr, eepr=eepr, depr=depr)
cs.save()

#nf1 = NomaFunc(epr='enclo(val)', desc='enclosed string with q')
#nf01 = NomaFunc.objects.get(epr='conc(val,"-")')
nf01 = NomaFunc.objects.get(epr='nots')
nf02 = NomaFunc.objects.get(epr='dumm')

acts = []
acts.append(sa(set=cs,seq=1,spos=1,epos=10,fname='rtyp',tfunc=nf02,tpar='"ROU"'))
acts.append(sa(set=cs,seq=2,spos=1,epos=10,eepr=r'\n',fname='resn'))
acts.append(sa(set=cs,seq=3,spos=1,epos=0,sepr=r'\nC.{8}P\s+:',eepr=r'\n',fname='cset'))
acts.append(sa(set=cs,seq=4,spos=1,epos=0,sepr=r'\nD.{17}E\s+:',eepr=r'\n',fname='tree',tfunc=nf01))
acts.append(sa(set=cs,seq=5,spos=1,epos=0,sepr=r'\nA.{17}R\s+:',eepr=r'\n',fname='anni',tfunc=nf01))
acts.append(sa(set=cs,seq=6,spos=1,epos=0,sepr=r'\nA.{19}G\s+:',eepr=r'\n',fname='annc',tfunc=nf01))
acts.append(sa(set=cs,seq=7,spos=1,epos=0,sepr=r'\nS.{15}X\s+:',eepr=r'\n',fname='sset',tfunc=nf01))
acts.append(sa(set=cs,seq=8,spos=1,epos=0,sepr=r'\nD.{11}E\s+:',eepr=r'\n',fname='dxcc',tfunc=nf01))
acts.append(sa(set=cs,seq=9,spos=1,epos=0,sepr=r'\nO.{28}R\s+:',eepr=r'\n',fname='orig',tfunc=nf01))


sf = 'D:/xna/SourceData/DTG/MSS/MSSFFM01/routing.log'
tf = 'D:/xna/SourceData/DTG/MSS/test_ares_rou.csv'

#[MSS AIF Results]  
name = 'mss_ares_aif'
type = 'tx'    
sepr = r'ZRQQ:AIF;((.*?)\r\n)+?RES.+:'
eepr = r'\r\nCOMMAND EXECUTED'
depr = r'\nRES.+:'

cs = NomaSet(name=name, type=type, sepr=sepr, eepr=eepr, depr=depr)
cs.save()

#nf1 = NomaFunc(epr='enclo(val)', desc='enclosed string with q')
#nf01 = NomaFunc.objects.get(epr='conc(val,"-")')
nf02 = NomaFunc.objects.get(epr='dumm')

acts = []
acts.append(sa(set=cs,seq=1,spos=1,epos=10,fname='rtyp',tfunc=nf02,tpar='"AIF"'))
acts.append(sa(set=cs,seq=2,spos=1,epos=10,eepr=r'\n',fname='resn'))
acts.append(sa(set=cs,seq=3,spos=1,epos=0,sepr=r'\nP.{12}L\s+:',eepr=r'\n',fname='prio'))
acts.append(sa(set=cs,seq=4,spos=1,epos=0,sepr=r'\nP.{30}R\s+:',eepr=r'\n',fname='peci'))
acts.append(sa(set=cs,seq=5,spos=1,epos=0,sepr=r'\nQ.{23}R\s+:',eepr=r'\n',fname='qai'))
acts.append(sa(set=cs,seq=6,spos=1,epos=0,sepr=r'\nP.{33}R\s+:',eepr=r'\n',fname='pevi'))
acts.append(sa(set=cs,seq=7,spos=1,epos=0,sepr=r'\nP.{23}L\s+:',eepr=r'\n',fname='ptch'))


sf = 'D:/xna/SourceData/DTG/MSS/MSSFFM01/routing.log'
tf = 'D:/xna/SourceData/DTG/MSS/test_ares_aif.csv'

#[MSS EOS Ana]  
name = 'mss_ana_eos'
type = 'tx'    
sepr = r'\nRESGR='
eepr = r'<RX_>\r\n<  (?!ZRX)'
depr = r'\nRESGR='

cs = NomaSet(name=name, type=type, sepr=sepr, eepr=eepr, depr=depr)
if savetable == 1: cs.save()

#nf03 = NomaFunc(epr='nume', desc='return only if numeric')
nf01 = NomaFunc.objects.get(epr='nots')
nf02 = NomaFunc.objects.get(epr='dumm')
nf03 = NomaFunc.objects.get(epr='nume')

acts = []
acts.append(sa(set=cs,seq=1,spos=0,epos=2,fname='resgr'))
acts.append(sa(set=cs,seq=2,spos=0,epos=8,sepr=r'CAUSE=',fname='dxcc'))
acts.append(sa(set=cs,seq=3,spos=0,epos=0,sepr=r'INFO=',eepr=r'\n',fname='ntype',tfunc=nf01))
acts.append(sa(set=cs,seq=4,spos=1,epos=0,sepr=r'\nR.{15}R\s+:',eepr=r'\n',fname='rid'))
acts.append(sa(set=cs,seq=5,spos=1,epos=0,sepr=r'\nC.{14}E\s+:',eepr=r'\n',fname='tree',tfunc=nf01))
acts.append(sa(set=cs,seq=6,spos=1,epos=0,sepr=r'\nC.{13}N\s+:',eepr=r'\n',fname='corg',tfunc=nf01))
acts.append(sa(set=cs,seq=7,spos=1,epos=0,sepr=r'\nN.{15}O\s+:',eepr=r'\n',fname='notif',tfunc=nf01))
acts.append(sa(set=cs,seq=8,spos=1,epos=0,sepr=r'\nT.{14}E\s+:',eepr=r'\n',fname='tone',tfunc=nf01))
acts.append(sa(set=cs,seq=9,spos=1,epos=0,sepr=r'\nA.{17}R\s+:',eepr=r'\n',fname='anni',tfunc=nf01))
acts.append(sa(set=cs,seq=10,spos=1,epos=0,sepr=r'\nA.{19}G\s+:',eepr=r'\n',fname='annc',tfunc=nf01))
acts.append(sa(set=cs,seq=11,spos=1,epos=0,sepr=r'\nI.{16}T\s+:',eepr=r'\n',fname='indp',tfunc=nf01))
acts.append(sa(set=cs,seq=12,spos=1,epos=0,sepr=r'\nN.{15}E\s+:',eepr=r'\n',fname='ncc',tfunc=nf01))
acts.append(sa(set=cs,seq=13,spos=1,epos=0,sepr=r'\nF.{18}O\s+:',eepr=r'\n',fname='frel',tfunc=nf01))
acts.append(sa(set=cs,seq=14,spos=1,epos=0,sepr=r'\nM.{21}N\s+:',eepr=r'\n',fname='mgwoc',tfunc=nf01))


sf = 'D:/xna/SourceData/DTG/MSS/MSSFFM01/routing.log'
tf = 'D:/xna/SourceData/DTG/MSS/test_ana_eos.csv'


#[MSS Ann]  
name = 'mss_ann'
type = 'tx'    
sepr = r'AFIL\r\n\r\n'
eepr = r'\r\n<  Z(?!RAI)'
depr = r'\n(?=\d)'

cs = NomaSet(name=name, type=type, sepr=sepr, eepr=eepr, depr=depr)
if savetable == 1: cs.save()

nf01 = NomaFunc.objects.get(epr='repstr')
nf02 = NomaFunc.objects.get(epr='dumm')

acts = []
acts.append(sa(set=cs,seq=1,spos=0,epos=5,fname='spr'))
acts.append(sa(set=cs,seq=2,spos=6,epos=10,fepr='\S',fname='pha'))
acts.append(sa(set=cs,seq=3,spos=16,epos=21,fname='sta'))
acts.append(sa(set=cs,seq=4,spos=11,epos=15,fname='dev',fepr=r'VAN',skipf=9))
acts.append(sa(set=cs,seq=5,spos=22,epos=26,fname='aind'))
acts.append(sa(set=cs,seq=6,spos=27,epos=32,fname='allo'))
acts.append(sa(set=cs,seq=7,spos=34,epos=39,fname='fich'))
acts.append(sa(set=cs,seq=8,spos=41,epos=46,fname='anam'))
acts.append(sa(set=cs,seq=9,spos=22,epos=26,fname='tone',tfunc=nf02,tpar=r'""'))
acts.append(sa(set=cs,seq=10,spos=27,epos=32,fname='ltim',tfunc=nf02,tpar=r'""'))
acts.append(sa(set=cs,seq=11,spos=47,epos=51,fname='bto'))
acts.append(sa(set=cs,seq=12,spos=52,epos=58,fname='txind'))
acts.append(sa(set=cs,seq=13,spos=59,epos=300,eepr=r'\n\S',fname='afil',tfunc=nf01,tpar=r'"\n\s+",","',skipf=9))
acts.append(sa(set=cs,seq=14,spos=22,epos=26,fname='aind',tfunc=nf02,tpar=r'""'))
acts.append(sa(set=cs,seq=15,spos=27,epos=32,fname='allo',tfunc=nf02,tpar=r'""'))
acts.append(sa(set=cs,seq=16,spos=34,epos=39,fname='fich',tfunc=nf02,tpar=r'""'))
acts.append(sa(set=cs,seq=17,spos=41,epos=46,fname='anam',tfunc=nf02,tpar=r'""'))
acts.append(sa(set=cs,seq=18,spos=22,epos=26,fname='tone'))
acts.append(sa(set=cs,seq=19,spos=27,epos=32,fname='ltim'))
acts.append(sa(set=cs,seq=20,spos=32,epos=36,fname='bto'))
acts.append(sa(set=cs,seq=21,spos=37,epos=43,fname='txind'))
acts.append(sa(set=cs,seq=22,spos=59,epos=60,fname='afil',tfunc=nf02,tpar=r'""'))

sf = 'D:/xna/SourceData/DTG/MSS/MSSFFM01/routing.log'
tf = 'D:/xna/SourceData/DTG/MSS/test_ann.tsv'

#[MSS Triggers]  
tname = 'mss_in_triggers'
ttype = 'tx'    
sepr = r'\n\*TRIGGER:'
eepr = r'\r\nCOMMAND EXECUTED'
depr = r'\n\*TRIGGER:'

cs = NomaSet(name=tname, type=ttype, sepr=sepr, eepr=eepr, depr=depr)
if savenoma == 1: cs.save()

#nf01 = NomaFunc.objects.get(epr='conc(val,"-")')
#nf02 = NomaFunc.objects.get(epr='nots(val)')

acts = []
acts.append(sa(set=cs,seq=1,spos=1,epos=9,fname='tid',fchar=r'VARCHAR(10)'))
acts.append(sa(set=cs,seq=2,spos=10,epos=13,eepr=r'\s',fname='tgn',fchar=r'VARCHAR(20)'))
acts.append(sa(set=cs,seq=3,spos=61,epos=63,eepr=r'\n',fname='ref',fchar=r'VARCHAR(10)'))
acts.append(sa(set=cs,seq=4,spos=12,epos=0,sepr=r'AP\n',eepr=r'\s',fname='skey',fchar=r'VARCHAR(10)'))
acts.append(sa(set=cs,seq=5,spos=23,epos=0,sepr=r'AP\n',eepr=r'\s',fname='sta',fchar=r'VARCHAR(5)'))
acts.append(sa(set=cs,seq=6,spos=28,epos=0,sepr=r'AP\n',eepr=r'\s',fname='dp',fchar=r'VARCHAR(5)'))
acts.append(sa(set=cs,seq=7,spos=31,epos=0,sepr=r'AP\n',eepr=r'\s',fname='prio',fchar=r'VARCHAR(10)'))
acts.append(sa(set=cs,seq=8,spos=39,epos=0,sepr=r'AP\n',eepr=r'\s',fname='bcsm',fchar=r'VARCHAR(10)'))
acts.append(sa(set=cs,seq=9,spos=44,epos=0,sepr=r'AP\n',eepr=r'\s',fname='fop',fchar=r'VARCHAR(5)'))
acts.append(sa(set=cs,seq=10,spos=49,epos=0,sepr=r'AP\n',eepr=r'\s',fname='ac',fchar=r'VARCHAR(10)'))
acts.append(sa(set=cs,seq=11,spos=59,epos=0,sepr=r'AP\n',eepr=r'\n',fname='ap',fchar=r'VARCHAR(10)'))
acts.append(sa(set=cs,seq=12,spos=12,epos=0,sepr=r'INANA\s+\n',eepr=r'\s',fname='ompc',fchar=r'VARCHAR(10)'))
acts.append(sa(set=cs,seq=13,spos=17,epos=0,sepr=r'INANA\s+\n',eepr=r'\s',fname='stoc',fchar=r'VARCHAR(10)'))
acts.append(sa(set=cs,seq=14,spos=22,epos=0,sepr=r'INANA\s+\n',eepr=r'\s',fname='omcs',fchar=r'VARCHAR(10)'))
acts.append(sa(set=cs,seq=15,spos=27,epos=0,sepr=r'INANA\s+\n',eepr=r'\s',fname='seoc',fchar=r'VARCHAR(10)'))
acts.append(sa(set=cs,seq=16,spos=32,epos=0,sepr=r'INANA\s+\n',eepr=r'\s',fname='td',fchar=r'VARCHAR(10)'))
acts.append(sa(set=cs,seq=17,spos=36,epos=0,sepr=r'INANA\s+\n',eepr=r'\s',fname='ss7',fchar=r'VARCHAR(10)'))
acts.append(sa(set=cs,seq=18,spos=41,epos=0,sepr=r'INANA\s+\n',eepr=r'\s',fname='ari',fchar=r'VARCHAR(10)'))
acts.append(sa(set=cs,seq=19,spos=48,epos=0,sepr=r'INANA\s+\n',eepr=r'\n',fname='inana',fchar=r'VARCHAR(10)'))
acts.append(sa(set=cs,seq=20,spos=12,epos=0,sepr=r'NVTON.+\n',eepr=r'\s',fname='vlr',fchar=r'VARCHAR(20)'))
acts.append(sa(set=cs,seq=21,spos=23,epos=0,sepr=r'NVTON.+\n',eepr=r'\s',fname='vton',fchar=r'VARCHAR(20)'))
acts.append(sa(set=cs,seq=22,spos=33,epos=0,sepr=r'NVTON.+\n',eepr=r'\s',fname='nvlr',fchar=r'VARCHAR(20)'))
acts.append(sa(set=cs,seq=23,spos=44,epos=0,sepr=r'NVTON.+\n',eepr=r'\s',fname='nvton',fchar=r'VARCHAR(10)'))
acts.append(sa(set=cs,seq=24,spos=51,epos=0,sepr=r'NVTON.+\n',eepr=r'\n',fname='idx',fchar=r'VARCHAR(10)'))
acts.append(sa(set=cs,seq=25,spos=12,epos=0,sepr=r'SCPSET\n',eepr=r'\s',fname='al',fchar=r'VARCHAR(5)'))
acts.append(sa(set=cs,seq=26,spos=15,epos=0,sepr=r'SCPSET\n',eepr=r'\s',fname='gt',fchar=r'VARCHAR(30)'))
acts.append(sa(set=cs,seq=27,spos=35,epos=0,sepr=r'SCPSET\n',eepr=r'\s',fname='stmr',fchar=r'VARCHAR(10)'))
acts.append(sa(set=cs,seq=28,spos=41,epos=0,sepr=r'SCPSET\n',eepr=r'\s',fname='mtmr',fchar=r'VARCHAR(10)'))
acts.append(sa(set=cs,seq=29,spos=47,epos=0,sepr=r'SCPSET\n',eepr=r'\n',fname='scpset',fchar=r'VARCHAR(20)'))
acts.append(sa(set=cs,seq=30,spos=12,epos=0,sepr=r'\sNAI\n',eepr=r'\s',fname='gti',fchar=r'VARCHAR(5)'))
acts.append(sa(set=cs,seq=31,spos=18,epos=0,sepr=r'\sNAI\n',eepr=r'\s',fname='tt',fchar=r'VARCHAR(5)'))
acts.append(sa(set=cs,seq=32,spos=23,epos=0,sepr=r'\sNAI\n',eepr=r'\s',fname='npi',fchar=r'VARCHAR(5)'))
acts.append(sa(set=cs,seq=33,spos=28,epos=0,sepr=r'\sNAI\n',eepr=r'\n',fname='nai',fchar=r'VARCHAR(5)'))

sf = 'D:/xna/SourceData/DTG/MSS/MSSFFM01/in_para.log'
tf = 'D:/xna/SourceData/DTG/MSS/test_triggers.tsv'

#[MSS SSET]  
tname = 'mss_in_sset'
ttype = 'tx'    
sepr = r'\n\*SERVICE SET:'
eepr = r'\r\nCOMMAND EXECUTED'
depr = r'\n\*SERVICE SET:'

cs = NomaSet(name=tname, type=ttype, sepr=sepr, eepr=eepr, depr=depr)
if savenoma == 1: cs.save()

#nf01 = NomaFunc.objects.get(epr='conc(val,"-")')
#nf02 = NomaFunc.objects.get(epr='nots(val)')

acts = []
acts.append(sa(set=cs,seq=1,spos=1,epos=5,fname='sset',fchar=r'VARCHAR(10)'))
acts.append(sa(set=cs,seq=2,spos=6,epos=8,eepr=r'\s',fname='ssetn',fchar=r'VARCHAR(20)'))
acts.append(sa(set=cs,seq=3,spos=58,epos=60,eepr=r'\n',fname='ref',fchar=r'VARCHAR(10)'))
acts.append(sa(set=cs,seq=4,spos=0,sepr=r'\n\sTRIGGERS:\s+',eepr=r'\n\n',nepr=r'\n\s+'))
acts.append(sa(set=cs,seq=5,spos=0,epos=0,eepr=r'\s',fname='tid',fchar=r'VARCHAR(10)'))

sf = 'D:/xna/SourceData/DTG/MSS/MSSFFM01/in_para.log'
tf = 'D:/xna/SourceData/DTG/MSS/test_ssets.tsv'

#[MSS SpRNM]  
tname = 'mss_rou_sprnm'
ttype = 'tx'    
sepr = r'\nSPR    DIG\r\n'
eepr = r'\r\nCOMMAND EXECUTED'
depr = r'\nSPR    DIG\n'

cs = NomaSet(name=tname, type=ttype, sepr=sepr, eepr=eepr, depr=depr)
if savenoma == 1: cs.save()

#nf01 = NomaFunc.objects.get(epr='conc(val,"-")')
#nf02 = NomaFunc.objects.get(epr='nots(val)')

acts = []
acts.append(sa(set=cs,seq=1,spos=0,epos=6,fname='spr',fchar=r'VARCHAR(10)'))
acts.append(sa(set=cs,seq=2,spos=6,epos=7,eepr=r'\n',fname='dig',fchar=r'VARCHAR(32)'))
acts.append(sa(set=cs,seq=3,spos=0,epos=4,sepr=r'\nNRD.+\n',eepr=r'\s',fname='nrd',fchar=r'VARCHAR(5)'))
acts.append(sa(set=cs,seq=4,spos=5,epos=9,sepr=r'\nNRD.+\n',eepr=r'\s',fname='srd',fchar=r'VARCHAR(5)'))
acts.append(sa(set=cs,seq=5,spos=10,epos=14,sepr=r'\nNRD.+\n',eepr=r'\s',fname='sad',fchar=r'VARCHAR(5)'))
acts.append(sa(set=cs,seq=6,spos=15,epos=20,sepr=r'\nNRD.+\n',eepr=r'\s',fname='rt',fchar=r'VARCHAR(10)'))
acts.append(sa(set=cs,seq=7,spos=21,epos=28,sepr=r'\nNRD.+\n',eepr=r'\s',fname='nb',fchar=r'VARCHAR(10)'))
acts.append(sa(set=cs,seq=8,spos=29,epos=40,sepr=r'\nNRD.+\n',eepr=r'\s',fname='dst',fchar=r'VARCHAR(15)'))
acts.append(sa(set=cs,seq=9,spos=41,epos=46,sepr=r'\nNRD.+\n',eepr=r'\s',fname='ton',fchar=r'VARCHAR(10)'))
acts.append(sa(set=cs,seq=10,spos=47,epos=49,sepr=r'\nNRD.+\n',eepr=r'\s',fname='dccbr',fchar=r'VARCHAR(10)'))
acts.append(sa(set=cs,seq=11,spos=1,epos=3,sepr=r'\nDTREE =',eepr=r'\s',fname='dtree',fchar=r'VARCHAR(10)'))

sf = 'D:/xna/SourceData/DTG/MSS/MSSFFM01/routing.log'
tf = 'D:/xna/SourceData/DTG/MSS/test_sprnm.tsv'

#[MSS SPR SRT]  
tname = 'mss_rou_srt'
ttype = 'tx'    
sepr = r'ZRPI:SRT='
eepr = r'\<RP_>\r\n<  (?!ZRPI)'
depr = r'ZRPI:SRT='

cs = NomaSet(name=tname, type=ttype, sepr=sepr, eepr=eepr, depr=depr)
if savenoma == 1: cs.save()

nf01 = NomaFunc.objects.get(epr='dumm')
#nf02 = NomaFunc.objects.get(epr='nots(val)')

acts = []
acts.append(sa(set=cs,seq=1,spos=0,epos=5,eepr=r';',fepr=r'HLRENQ',skipf=16))
acts.append(sa(set=cs,seq=2,spos=0,epos=5,eepr=r';',fname='srt',fchar=r'VARCHAR(15)'))
acts.append(sa(set=cs,seq=3,spos=0,sepr=r'CODE\n',eepr=r'\nCOMM',nepr=r'CODE\n\s'))
acts.append(sa(set=cs,seq=4,spos=0,epos=14,fname='outr',tfunc=nf01,nepr=r'""',fchar=r'VARCHAR(15)'))
acts.append(sa(set=cs,seq=5,spos=0,epos=5,fname='spr',fchar=r'VARCHAR(10)'))
acts.append(sa(set=cs,seq=6,spos=8,epos=11,fname='stp',fchar=r'VARCHAR(5)'))
acts.append(sa(set=cs,seq=7,spos=13,epos=20,fname='ni',fchar=r'VARCHAR(10)'))
acts.append(sa(set=cs,seq=8,spos=26,epos=43,fname='spc',fchar=r'VARCHAR(20)'))
acts.append(sa(set=cs,seq=9,spos=46,epos=51,fname='tree',fchar=r'VARCHAR(10)'))
acts.append(sa(set=cs,seq=10,spos=52,epos=56,fname='corg',fchar=r'VARCHAR(5)'))
acts.append(sa(set=cs,seq=11,spos=61,epos=64,fname='cli',fchar=r'VARCHAR(5)'))
acts.append(sa(set=cs,seq=12,spos=65,epos=68,fname='tt',fchar=r'VARCHAR(5)'))
acts.append(sa(set=cs,seq=13,spos=69,epos=73,fname='orii',fchar=r'VARCHAR(5)'))
acts.append(sa(set=cs,seq=14,spos=9,epos=20,sepr=r'SSSET\s\n\n',fname='stpap',fchar=r'VARCHAR(20)'))
acts.append(sa(set=cs,seq=15,spos=21,epos=27,sepr=r'SSSET\s\n\n',fname='stcsi',fchar=r'VARCHAR(10)'))
acts.append(sa(set=cs,seq=16,spos=28,epos=33,sepr=r'SSSET\s\n\n',fname='ssset',fchar=r'VARCHAR(10)'))
acts.append(sa(set=cs,seq=17,spos=1,epos=14,fname='exaserv',tfunc=nf01,nepr=r'""',fchar=r'VARCHAR(15)',skipf=34))
acts.append(sa(set=cs,seq=18,spos=0,epos=0,eepr=r';',fepr=r'GSMEND|HO',skipf=16))
acts.append(sa(set=cs,seq=19,spos=0,epos=0,eepr=r';',fname='srt',fchar=r'VARCHAR(15)'))
acts.append(sa(set=cs,seq=20,spos=0,sepr=r'SPR((.*?)\n){3}',eepr=r'\nCOMM',nepr=r'\n\s'))
acts.append(sa(set=cs,seq=21,spos=0,epos=13,fname='outr',fchar=r'VARCHAR(15)'))
acts.append(sa(set=cs,seq=22,spos=32,epos=39,fname='spr',fchar=r'VARCHAR(10)'))
acts.append(sa(set=cs,seq=23,spos=16,epos=19,fname='stp',fchar=r'VARCHAR(5)'))
acts.append(sa(set=cs,seq=24,spos=14,epos=21,fname='ni',tfunc=nf01,nepr=r'""',fchar=r'VARCHAR(10)'))
acts.append(sa(set=cs,seq=25,spos=27,epos=44,fname='spc',tfunc=nf01,nepr=r'""',fchar=r'VARCHAR(20)'))
acts.append(sa(set=cs,seq=26,spos=47,epos=52,fname='tree',tfunc=nf01,nepr=r'""',fchar=r'VARCHAR(10)'))
acts.append(sa(set=cs,seq=27,spos=53,epos=57,fname='corg',tfunc=nf01,nepr=r'""',fchar=r'VARCHAR(5)'))
acts.append(sa(set=cs,seq=28,spos=62,epos=65,fname='cli',tfunc=nf01,nepr=r'""',fchar=r'VARCHAR(5)'))
acts.append(sa(set=cs,seq=29,spos=66,epos=69,fname='tt',tfunc=nf01,nepr=r'""',fchar=r'VARCHAR(5)'))
acts.append(sa(set=cs,seq=30,spos=70,epos=74,fname='tt',tfunc=nf01,nepr=r'""',fchar=r'VARCHAR(5)'))
acts.append(sa(set=cs,seq=31,spos=9,epos=20,fname='stpap',tfunc=nf01,nepr=r'""',fchar=r'VARCHAR(20)'))
acts.append(sa(set=cs,seq=32,spos=21,epos=27,fname='stcsi',tfunc=nf01,nepr=r'""',fchar=r'VARCHAR(10)'))
acts.append(sa(set=cs,seq=33,spos=28,epos=33,fname='ssset',tfunc=nf01,nepr=r'""',fchar=r'VARCHAR(10)'))
acts.append(sa(set=cs,seq=34,spos=1,epos=14,fname='exaserv',tfunc=nf01,nepr=r'""',fchar=r'VARCHAR(15)',skipf=17))
acts.append(sa(set=cs,seq=35,spos=0,epos=0,eepr=r';',fepr=r'CC',skipf=16))
acts.append(sa(set=cs,seq=36,spos=0,epos=0,eepr=r';',fname='srt',fchar=r'VARCHAR(15)'))
acts.append(sa(set=cs,seq=37,spos=0,sepr=r'SPR.+\n',eepr=r'\nCOMM',nepr=r'\n\s+'))
acts.append(sa(set=cs,seq=38,spos=0,epos=14,fname='outr',fchar=r'VARCHAR(15)',tfunc=nf01,nepr=r'""'))
acts.append(sa(set=cs,seq=39,spos=0,epos=7,fname='spr',fchar=r'VARCHAR(10)'))
acts.append(sa(set=cs,seq=40,spos=17,epos=20,fname='stp',fchar=r'VARCHAR(5)',tfunc=nf01,nepr=r'""'))
acts.append(sa(set=cs,seq=41,spos=14,epos=21,fname='ni',tfunc=nf01,nepr=r'""',fchar=r'VARCHAR(10)'))
acts.append(sa(set=cs,seq=42,spos=27,epos=44,fname='spc',tfunc=nf01,nepr=r'""',fchar=r'VARCHAR(20)'))
acts.append(sa(set=cs,seq=43,spos=47,epos=52,fname='tree',tfunc=nf01,nepr=r'""',fchar=r'VARCHAR(10)'))
acts.append(sa(set=cs,seq=44,spos=53,epos=57,fname='corg',tfunc=nf01,nepr=r'""',fchar=r'VARCHAR(5)'))
acts.append(sa(set=cs,seq=45,spos=62,epos=65,fname='cli',tfunc=nf01,nepr=r'""',fchar=r'VARCHAR(5)'))
acts.append(sa(set=cs,seq=46,spos=66,epos=69,fname='tt',tfunc=nf01,nepr=r'""',fchar=r'VARCHAR(5)'))
acts.append(sa(set=cs,seq=47,spos=70,epos=74,fname='tt',tfunc=nf01,nepr=r'""',fchar=r'VARCHAR(5)'))
acts.append(sa(set=cs,seq=48,spos=9,epos=20,fname='stpap',tfunc=nf01,nepr=r'""',fchar=r'VARCHAR(20)'))
acts.append(sa(set=cs,seq=49,spos=21,epos=27,fname='stcsi',tfunc=nf01,nepr=r'""',fchar=r'VARCHAR(10)'))
acts.append(sa(set=cs,seq=50,spos=28,epos=33,fname='ssset',tfunc=nf01,nepr=r'""',fchar=r'VARCHAR(10)'))
acts.append(sa(set=cs,seq=51,spos=7,epos=18,fname='exaserv',fchar=r'VARCHAR(15)'))


sf = 'D:/xna/SourceData/DTG/MSS/MSSFFM01/routing.log'
tf = 'D:/xna/SourceData/DTG/MSS/test_srt.tsv'

#[MSS VMGW]  
tname = 'mss_up_vmgw'
ttype = 'tx'    
sepr = r'ZJGI:MODE=1((.*?)\r\n)+?MGW ID'
eepr = r'<JG_>\r\n<  (?!ZJGI)'
depr = r'\nMGW ID'

cs = NomaSet(name=tname, type=ttype, sepr=sepr, eepr=eepr, depr=depr)
if savenoma == 1: cs.save()

nf01 = NomaFunc.objects.get(epr='dumm')
#nf02 = NomaFunc.objects.get(epr='nots(val)')

acts = []
acts.append(sa(set=cs,seq=1,spos=0,sepr=r'\.+',eepr=r'\n',fname='mgwid',fchar=r'VARCHAR(10)'))
acts.append(sa(set=cs,seq=2,spos=0,sepr=r'\nMG.{5}E\.+',eepr=r'\n',fname='mgwn',fchar=r'VARCHAR(20)'))
acts.append(sa(set=cs,seq=3,spos=0,sepr=r'\nMG.{8}S\.+',eepr=r'\n',fname='mgwaddr',fchar=r'VARCHAR(30)'))
acts.append(sa(set=cs,seq=4,spos=0,sepr=r'\nPO.{8}R\.+',eepr=r'\n',fname='dport',fchar=r'VARCHAR(10)'))
acts.append(sa(set=cs,seq=5,spos=0,sepr=r'\nDO.{8}E\.+',eepr=r'\n',fname='dn',fchar=r'VARCHAR(30)'))
acts.append(sa(set=cs,seq=6,spos=0,sepr=r'\nROUTE\.+',eepr=r'\n',fname='rou',fchar=r'VARCHAR(10)'))
acts.append(sa(set=cs,seq=7,spos=0,sepr=r'\nUN.{6}E\.+',eepr=r'\n',fname='utype',fchar=r'VARCHAR(10)'))
acts.append(sa(set=cs,seq=8,spos=0,sepr=r'\nUN.{7}X\.+',eepr=r'\n',fname='uidx',fchar=r'VARCHAR(10)'))
acts.append(sa(set=cs,seq=9,spos=0,sepr=r'\nPR.{17}S\.+',eepr=r'\n',fname='addr1',fchar=r'VARCHAR(20)'))
acts.append(sa(set=cs,seq=10,spos=0,sepr=r'\nSE.{19}S\.+',eepr=r'\n',fname='addr2',fchar=r'VARCHAR(20)'))
acts.append(sa(set=cs,seq=11,spos=0,sepr=r'\nE.{8}A\.+',eepr=r'\n',fname='aesa',fchar=r'VARCHAR(30)'))
acts.append(sa(set=cs,seq=12,spos=0,sepr=r'\nL.{10}D\.+',eepr=r'\n',fname='lbcuid',fchar=r'VARCHAR(10)'))
acts.append(sa(set=cs,seq=13,spos=0,sepr=r'\nD.{19}T\.+',eepr=r'\n',fname='dpars',fchar=r'VARCHAR(10)'))
acts.append(sa(set=cs,seq=14,spos=0,sepr=r'\nP.{22}T\.+',eepr=r'\n',fname='psatt',fchar=r'VARCHAR(20)'))
acts.append(sa(set=cs,seq=15,spos=0,sepr=r'\nM.{9}E\.+',eepr=r'\n',fname='mgwprof',fchar=r'VARCHAR(50)'))
acts.append(sa(set=cs,seq=16,spos=0,sepr=r'\nR.{20}E\.+',eepr=r'\n',fname='rega',fchar=r'VARCHAR(20)'))
acts.append(sa(set=cs,seq=17,spos=0,sepr=r'\nR.{17}S\.+',eepr=r'\n',fname='regsta',fchar=r'VARCHAR(20)'))
acts.append(sa(set=cs,seq=18,spos=0,sepr=r'\nA.{10}S\.+',eepr=r'\n',fname='audit',fchar=r'VARCHAR(20)'))
acts.append(sa(set=cs,seq=19,spos=0,sepr=r'\nL.{8}T\.+',eepr=r'\n',fname='lport',fchar=r'VARCHAR(10)'))
acts.append(sa(set=cs,seq=20,spos=0,sepr=r'\nT.{12}E\.+',eepr=r'\n',fname='trans',fchar=r'VARCHAR(10)'))
acts.append(sa(set=cs,seq=21,spos=0,sepr=r'\nS.{23}R\.+',eepr=r'\n',fname='sctpps',fchar=r'VARCHAR(5)'))
acts.append(sa(set=cs,seq=22,spos=0,sepr=r'\nS.{7}E\.+',eepr=r'\n',fname='sctpm',fchar=r'VARCHAR(20)'))
acts.append(sa(set=cs,seq=23,spos=0,sepr=r'\nL.{23}E\.+',eepr=r'\n',fname='lrp',fchar=r'VARCHAR(10)'))
acts.append(sa(set=cs,seq=24,spos=0,sepr=r'\nN.{16}E\.+',eepr=r'M',fname='ndt',fchar=r'VARCHAR(10)'))
acts.append(sa(set=cs,seq=25,spos=0,sepr=r'\nVMSC ID\.+',eepr=r'\n',fname='vmsc',fchar=r'VARCHAR(20)'))
acts.append(sa(set=cs,seq=26,spos=0,sepr=r'\nH.{11}N\.+',eepr=r'\n',fname='hver',fchar=r'VARCHAR(5)'))
acts.append(sa(set=cs,seq=27,spos=0,sepr=r'\nH.{10}G\.+',eepr=r'\n',fname='hcod',fchar=r'VARCHAR(10)'))
acts.append(sa(set=cs,seq=28,spos=0,sepr=r'\nU.{16}T\.+',eepr=r'\n',fname='ups',fchar=r'VARCHAR(5)'))
acts.append(sa(set=cs,seq=29,spos=0,sepr=r'\nN.{22}E\.+',eepr=r'M',fname='mget',fchar=r'VARCHAR(10)'))
acts.append(sa(set=cs,seq=30,spos=0,sepr=r'\nN.{23}E\.+',eepr=r'M',fname='mgcet',fchar=r'VARCHAR(10)'))
acts.append(sa(set=cs,seq=31,spos=0,sepr=r'\nM.{26}E\.+',eepr=r'M',fname='mgpt',fchar=r'VARCHAR(10)'))
acts.append(sa(set=cs,seq=32,spos=0,sepr=r'\nM.{27}E\.+',eepr=r'M',fname='mgcpt',fchar=r'VARCHAR(10)'))
acts.append(sa(set=cs,seq=33,spos=0,sepr=r'\nN.{15}E\.+',eepr=r'M',fname='nehbt',fchar=r'VARCHAR(10)'))
acts.append(sa(set=cs,seq=34,spos=0,sepr=r'\nC.{29}E\.+',eepr=r'M',fname='ctxhbt',fchar=r'VARCHAR(10)'))
acts.append(sa(set=cs,seq=35,spos=0,sepr=r'\nT.{6}R\.+',eepr=r'M',fname='twt',fchar=r'VARCHAR(10)'))
acts.append(sa(set=cs,seq=36,spos=0,sepr=r'\nTRFO\.+',eepr=r'\n',fname='trfo',fchar=r'VARCHAR(20)'))
acts.append(sa(set=cs,seq=37,spos=0,sepr=r'\nTFO 2G\.+',eepr=r'\n',fname='tfo',fchar=r'VARCHAR(20)'))
acts.append(sa(set=cs,seq=38,spos=0,sepr=r'\nTFO AMR\.+',eepr=r'\n',fname='tfoamr',fchar=r'VARCHAR(20)'))
acts.append(sa(set=cs,seq=39,spos=0,sepr=r'\nM.{25}T\.+',eepr=r'\n',fname='mgopl',fchar=r'VARCHAR(10)'))
acts.append(sa(set=cs,seq=40,spos=0,sepr=r'\nM.{26}T\.+',eepr=r'\n',fname='mgcopl',fchar=r'VARCHAR(10)'))
acts.append(sa(set=cs,seq=41,spos=0,sepr=r'\nS.{49}S\.+',eepr=r'\n',fname='pckp',fchar=r'VARCHAR(20)'))
acts.append(sa(set=cs,seq=42,spos=0,sepr=r'\nR.{13}L\s+',eepr=r'\n',fname='rtcpbwc',fchar=r'VARCHAR(20)'))
acts.append(sa(set=cs,seq=43,spos=0,sepr=r'\nA.{19}Y\s+',eepr=r'\n',fname='alredu',fchar=r'VARCHAR(20)'))
acts.append(sa(set=cs,seq=44,spos=0,sepr=r'\nMB LTE\s+',eepr=r'\n',fname='mblte',fchar=r'VARCHAR(20)'))
acts.append(sa(set=cs,seq=45,spos=0,sepr=r'\nG.{21}G\s+',eepr=r'\n',fname='g722wb',fchar=r'VARCHAR(20)'))


sf = 'D:/xna/SourceData/DTG/MSS/MSSFFM01/vmgw_data.log'
tf = 'D:/xna/SourceData/DTG/MSS/test_vmgw.tsv'

#[MSS UPD]  
tname = 'mss_up_upd'
ttype = 'tx'    
sepr = r'ZJFI:UPD=((.*?)\r\n)+?NAME:'
eepr = r'<JF_>\r\n<  (?!ZJFI)'
depr = r'\nNAME:'

cs = NomaSet(name=tname, type=ttype, sepr=sepr, eepr=eepr, depr=depr)
if savenoma == 1: cs.save()

nf01 = NomaFunc.objects.get(epr='dumm')
#nf02 = NomaFunc.objects.get(epr='nots(val)')

acts = []
acts.append(sa(set=cs,seq=1,spos=1,eepr=r'\s',fname='updn',fchar=r'VARCHAR(30)'))
acts.append(sa(set=cs,seq=2,spos=22,eepr=r'\n',fname='upd',fchar=r'VARCHAR(5)'))
acts.append(sa(set=cs,seq=3,spos=0,sepr=r'N.{10}S:',eepr=r'\n',fname='rsnc',fchar=r'VARCHAR(30)'))
acts.append(sa(set=cs,seq=4,spos=0,sepr=r'E.{13}S:',eepr=r'\n',fname='rsec',fchar=r'VARCHAR(30)'))
acts.append(sa(set=cs,seq=5,spos=0,sepr=r'\nB.{17}S:',eepr=r'\n',fname='bnc',fchar=r'VARCHAR(10)'))
acts.append(sa(set=cs,seq=6,spos=0,sepr=r'STOM:',eepr=r'\n',fname='stom',fchar=r'VARCHAR(30)'))
acts.append(sa(set=cs,seq=7,spos=0,sepr=r'AU.{23}D:',eepr=r'\n',fname='achm',fchar=r'VARCHAR(30)'))
acts.append(sa(set=cs,seq=8,spos=0,sepr=r'IN.{18}N:',eepr=r'\n',fname='ibrd',fchar=r'VARCHAR(30)'))
acts.append(sa(set=cs,seq=9,spos=0,sepr=r'OU.{14}Y:',eepr=r'\n',fname='obcap',fchar=r'VARCHAR(30)'))
acts.append(sa(set=cs,seq=10,spos=0,sepr=r'TRUNK:',eepr=r'\n',fname='trunk',fchar=r'VARCHAR(30)'))
acts.append(sa(set=cs,seq=11,spos=0,sepr=r'CO.{23}T:',eepr=r'\n',fname='cms',fchar=r'VARCHAR(30)'))
acts.append(sa(set=cs,seq=12,spos=0,sepr=r'MI.{31}T:',eepr=r'\n',fname='mccn',fchar=r'VARCHAR(30)'))
acts.append(sa(set=cs,seq=13,spos=0,sepr=r'TO.{33}M:',eepr=r'\n',fname='tdec',fchar=r'VARCHAR(30)'))
acts.append(sa(set=cs,seq=14,spos=0,sepr=r'SOCOOR:',eepr=r'\n',fname='socoor',fchar=r'VARCHAR(30)'))
acts.append(sa(set=cs,seq=15,spos=0,sepr=r'NB.{14}M:',eepr=r'\n',fname='tdsip',fchar=r'VARCHAR(30)'))
acts.append(sa(set=cs,seq=16,spos=0,sepr=r'FA.{16}T:',eepr=r'\n',fname='fpl',fchar=r'VARCHAR(30)'))
acts.append(sa(set=cs,seq=17,spos=0,sepr=r'AO.{23}E:',eepr=r'\n',fname='aclp',fchar=r'VARCHAR(30)'))
acts.append(sa(set=cs,seq=18,spos=0,sepr=r'PR.{27}D:',eepr=r'\n',fname='ppp',fchar=r'VARCHAR(30)'))
acts.append(sa(set=cs,seq=19,spos=0,sepr=r'DT.{23}P:',eepr=r'\n',fname='dtmfsip',fchar=r'VARCHAR(30)'))
acts.append(sa(set=cs,seq=20,spos=0,sepr=r'CO.{29}P:',eepr=r'\n',fname='cosip',fchar=r'VARCHAR(30)'))
acts.append(sa(set=cs,seq=21,spos=0,sepr=r'PR.{30}1:',eepr=r'\n',fname='pttg711',fchar=r'VARCHAR(30)'))
acts.append(sa(set=cs,seq=22,spos=0,sepr=r'\D.{11}C:',eepr=r'\n',fname='defcod',fchar=r'VARCHAR(30)'))
acts.append(sa(set=cs,seq=23,spos=0,sepr=r'IPNWR:',eepr=r'\n',fname='ipnwr',fchar=r'VARCHAR(10)'))
acts.append(sa(set=cs,seq=24,spos=0,sepr=r'\nRTCP CONTROL:',eepr=r'\n',fname='rtcpc',fchar=r'VARCHAR(20)'))
acts.append(sa(set=cs,seq=25,spos=0,sepr=r'\(RS\):',eepr=r'\n',fname='rs',fchar=r'VARCHAR(10)'))
acts.append(sa(set=cs,seq=26,spos=0,sepr=r'\(RR\):',eepr=r'\n',fname='rr',fchar=r'VARCHAR(10)'))
acts.append(sa(set=cs,seq=27,spos=0,sepr=r'\(RSH\):',eepr=r'\n',fname='rsh',fchar=r'VARCHAR(10)'))
acts.append(sa(set=cs,seq=28,spos=0,sepr=r'\(RRH\):',eepr=r'\n',fname='rrh',fchar=r'VARCHAR(10)'))
acts.append(sa(set=cs,seq=29,spos=0,sepr=r'\B.{28}W:',eepr=r'\n',fname='brsrr',fchar=r'VARCHAR(10)'))
acts.append(sa(set=cs,seq=30,spos=0,sepr=r'\nUP.{23}P:',eepr=r'\n',fname='uprps',fchar=r'VARCHAR(20)'))
acts.append(sa(set=cs,seq=31,spos=0,sepr=r'REDUNDANCY:',eepr=r'\n',fname='sred',fchar=r'VARCHAR(10)'))
acts.append(sa(set=cs,seq=32,spos=0,sepr=r'MAXPTIME:',eepr=r'\n',fname='maxptime',fchar=r'VARCHAR(10)'))


sf = 'D:/xna/SourceData/DTG/MSS/MSSFFM01/userplane_ana.log'
tf = 'D:/xna/SourceData/DTG/MSS/test_upd.tsv'

#[MSS UPD VMGW]  
tname = 'mss_up_updmgw'
ttype = 'tx'    
sepr = r'ZJFI:UPD=((.*?)\r\n)+?NAME:'
eepr = r'<JF_>\r\n<  (?!ZJFI)'
depr = r'\nNAME:'

cs = NomaSet(name=tname, type=ttype, sepr=sepr, eepr=eepr, depr=depr)
if savenoma == 1: cs.save()

nf01 = NomaFunc.objects.get(epr='dumm')
#nf02 = NomaFunc.objects.get(epr='nots(val)')

acts = []
acts.append(sa(set=cs,seq=1,spos=22,eepr=r'\n',fname='upd',fchar=r'VARCHAR(5)'))
acts.append(sa(set=cs,seq=2,spos=0,sepr=r'LDSH((.+?)\n){2}',eepr=r'\nCOMM',nepr=r'\n\s+'))
acts.append(sa(set=cs,seq=3,spos=18,epos=23,fname='mgwid',fchar=r'VARCHAR(10)'))
acts.append(sa(set=cs,seq=4,spos=30,epos=33,fname='reg',fchar=r'VARCHAR(5)'))
acts.append(sa(set=cs,seq=5,spos=35,epos=39,fname='ldsh',fchar=r'VARCHAR(5)'))
acts.append(sa(set=cs,seq=6,spos=41,epos=45,fname='racc',fchar=r'VARCHAR(5)'))
acts.append(sa(set=cs,seq=7,spos=47,epos=52,fname='rorig',fchar=r'VARCHAR(5)'))
acts.append(sa(set=cs,seq=8,spos=54,epos=59,fname='fault',fchar=r'VARCHAR(5)'))


sf = 'D:/xna/SourceData/DTG/MSS/MSSFFM01/userplane_ana.log'
tf = 'D:/xna/SourceData/DTG/MSS/test_updmgw.tsv'


#[MSS SIP Address]  
tname = 'mss_sip_addr'
ttype = 'tx'    
sepr = r'\n UNIT TYPE:'
eepr = r'<JI_>\r\n<  (?!ZJII)'
depr = r'\n UNIT TYPE:'

cs = NomaSet(name=tname, type=ttype, sepr=sepr, eepr=eepr, depr=depr)
if savenoma == 1: cs.save()


nf01 = NomaFunc.objects.get(epr='dumm')
#nf02 = NomaFunc.objects.get(epr='nots(val)')

acts = []
acts.append(sa(set=cs,seq=1,spos=0,eepr=r'\n',fname='utyp',fchar=r'VARCHAR(5)'))
acts.append(sa(set=cs,seq=2,spos=0,sepr=r'UNIT INDEX:',eepr=r'\n',fname='uid',fchar=r'VARCHAR(10)'))
acts.append(sa(set=cs,seq=3,spos=0,sepr=r'-----\n\n',eepr=r'\nCOMM',nepr=r'\n\n'))
acts.append(sa(set=cs,seq=4,spos=0,sepr=r'ID:',eepr='\n',fname='pid',fchar=r'VARCHAR(5)'))
acts.append(sa(set=cs,seq=5,spos=0,sepr=r'type:',eepr='\n',fname='ityp',fchar=r'VARCHAR(5)'))
acts.append(sa(set=cs,seq=6,spos=0,sepr=r'address:',eepr='\n',fname='ipaddr',fchar=r'VARCHAR(30)'))
acts.append(sa(set=cs,seq=7,spos=0,sepr=r'number:',eepr='\n',fname='sctpps',fchar=r'VARCHAR(10)'))
acts.append(sa(set=cs,seq=8,spos=0,sepr=r'Primary:',eepr='\n',fname='ipaddr1',fchar=r'VARCHAR(30)'))
acts.append(sa(set=cs,seq=9,spos=0,sepr=r'Secondary:',eepr='\n',fname='ipaddr2',fchar=r'VARCHAR(30)'))
acts.append(sa(set=cs,seq=10,spos=0,sepr=r'Port:',eepr='\n',fname='lport',fchar=r'VARCHAR(10)'))


sf = 'D:/xna/SourceData/DTG/MSS/MSSFFM01/sip.log'
tf = 'D:/xna/SourceData/DTG/MSS/test_sip_addr.tsv'

#[MSS SIP FQDN]  
tname = 'mss_sip_fqdn'
ttype = 'tx'    
sepr = r'ZJNM:FQDN='
eepr = r'<JN_>\r\n<  (?!(ZJNI|ZJNM))'
depr = r'ZJNM:FQDN='

cs = NomaSet(name=tname, type=ttype, sepr=sepr, eepr=eepr, depr=depr)
if savenoma == 1: cs.save()

nf01 = NomaFunc.objects.get(epr='repstra')
nf02 = NomaFunc.objects.get(epr='repstr1')
nf03 = NomaFunc.objects.get(epr='trim')

acts = []
acts.append(sa(set=cs,seq=1,spos=0,eepr=r';',fname='fqdn',fchar=r'VARCHAR(100)'))
acts.append(sa(set=cs,seq=2,spos=0,sepr=r'URI USAGE\n\s+REQ.+:',eepr=r'\n\s{4}\S',tfunc=nf01,nepr=r'"\n.+: ","",1',fname='teluri',fchar=r'VARCHAR(10)'))
acts.append(sa(set=cs,seq=3,spos=0,sepr=r'RE.{12}T.+:',eepr=r'\n',fname='rport',fchar=r'VARCHAR(10)'))
acts.append(sa(set=cs,seq=4,spos=0,sepr=r'NP.{18}D.+: ',eepr=r'\n|\s',fname='nphan',fchar=r'VARCHAR(30)'))
acts.append(sa(set=cs,seq=5,spos=0,sepr=r'CI.{19}D.+: ',eepr=r'\n|\s',fname='cichan',fchar=r'VARCHAR(30)'))
acts.append(sa(set=cs,seq=6,spos=0,sepr=r'DI.{14}G.+: ',eepr=r'\n|\s',fname='divhdr',fchar=r'VARCHAR(30)'))
acts.append(sa(set=cs,seq=7,spos=0,sepr=r'DI.{21}D.+: ',eepr=r'\n|\s',fname='divhan',fchar=r'VARCHAR(30)'))
acts.append(sa(set=cs,seq=8,spos=0,sepr=r'NAT TO.+\n\s+FROM.+:',eepr=r'\n\s{4}\S',tfunc=nf01,nepr=r'"\n.+: ","",1',fname='nat2int',fchar=r'VARCHAR(10)'))
acts.append(sa(set=cs,seq=9,spos=0,sepr=r'INT TO.+\n\s+FROM.+:',eepr=r'\n\s{4}\S',tfunc=nf01,nepr=r'"\n.+: ","",1',fname='int2nat',fchar=r'VARCHAR(10)'))
acts.append(sa(set=cs,seq=10,spos=0,sepr=r'FO.{20}N.+:',eepr=r'\n',fname='fptunk',fchar=r'VARCHAR(10)'))
acts.append(sa(set=cs,seq=11,spos=0,sepr=r'SI.{17}G.+:',eepr=r'\n',tfunc=nf02,nepr=r'10',fname='sipmes',fchar=r'VARCHAR(20)'))
acts.append(sa(set=cs,seq=12,spos=0,sepr=r'NOT.{21}T.+ AS',eepr=r'\n\s{4}\S',tfunc=nf01,nepr=r'"\n.+AS ","",1',fname='numfor',fchar=r'VARCHAR(10)'))
acts.append(sa(set=cs,seq=13,spos=0,sepr=r'SI.{21}E.+:',eepr=r'\n',tfunc=nf02,nepr=r'10',fname='isupver',fchar=r'VARCHAR(20)'))
acts.append(sa(set=cs,seq=14,spos=0,sepr=r'P-.{25}G.+:',eepr=r'\n',fname='paihan',fchar=r'VARCHAR(10)'))
acts.append(sa(set=cs,seq=15,spos=0,sepr=r'SE.{25}G.+:',eepr=r'\n',fname='sesref',fchar=r'VARCHAR(10)'))
acts.append(sa(set=cs,seq=16,spos=0,sepr=r'US.{25}S.+:',eepr=r'\n',fname='compac',fchar=r'VARCHAR(10)'))
acts.append(sa(set=cs,seq=17,spos=0,sepr=r'SE.{21}I.+:',eepr=r'\n',fname='pairpi',fchar=r'VARCHAR(10)'))
acts.append(sa(set=cs,seq=18,spos=0,sepr=r'HEADER.+\n\s+FROM.+:',eepr=r'\n\s{4}\S',tfunc=nf01,nepr=r'"\n.+: ","",1',fname='clirh',fchar=r'VARCHAR(10)'))
acts.append(sa(set=cs,seq=19,spos=0,sepr=r'ACGPN MAP.+\n\s+FROM.+:',eepr=r'\n\s{4}\S',tfunc=nf01,nepr=r'"\n.+: ","",1',fname='acgpnmap',fchar=r'VARCHAR(10)'))
acts.append(sa(set=cs,seq=20,spos=0,sepr=r'RELIABLE.+\n\s+REQ.+:',eepr=r'\n\s{4}\S',tfunc=nf01,nepr=r'"\n.+: ","",1',fname='relresp',fchar=r'VARCHAR(10)'))
acts.append(sa(set=cs,seq=21,spos=0,sepr=r'CA.{23}G.+:',eepr=r'\n',fname='chmap',fchar=r'VARCHAR(10)'))
acts.append(sa(set=cs,seq=22,spos=0,sepr=r'HI.{23}T.+:',eepr=r'\n',fname='hips',fchar=r'VARCHAR(20)'))
acts.append(sa(set=cs,seq=23,spos=0,sepr=r'FO.{25}S.+:',eepr=r'\n',fname='odf',fchar=r'VARCHAR(20)'))
acts.append(sa(set=cs,seq=24,spos=0,sepr=r'P-.{19}X.+?:',eepr=r'\n',tfunc=nf02,nepr=r'1',fname='pem18x',fchar=r'VARCHAR(10)'))
acts.append(sa(set=cs,seq=25,spos=0,sepr=r'P-.{19}V.+:',eepr=r'\n',tfunc=nf02,nepr=r'1',fname='peminv',fchar=r'VARCHAR(10)'))
acts.append(sa(set=cs,seq=26,spos=0,sepr=r'RI.{10}E.+:',eepr=r'\n',tfunc=nf02,nepr=r'5',fname='rbthan',fchar=r'VARCHAR(10)'))
acts.append(sa(set=cs,seq=27,spos=0,sepr=r'EARLY AC.+:',eepr=r'\n',tfunc=nf02,nepr=r'3',fname='eacm',fchar=r'VARCHAR(10)'))
acts.append(sa(set=cs,seq=28,spos=0,sepr=r'SE.{16}P.+:',eepr=r'\n',tfunc=nf02,nepr=r'5',fname='unrsdp',fchar=r'VARCHAR(10)'))
acts.append(sa(set=cs,seq=29,spos=0,sepr=r'EARLY ANS.+:',eepr=r'\n',tfunc=nf03,nepr=r'0,1',fname='early',fchar=r'VARCHAR(5)'))
acts.append(sa(set=cs,seq=30,spos=0,sepr=r'RI.{22}E.+:',eepr=r'\n',tfunc=nf03,nepr=r'0,1',fname='rbtcmn',fchar=r'VARCHAR(5)'))
acts.append(sa(set=cs,seq=31,spos=0,sepr=r'CW.{27}E:',eepr=r'\n',tfunc=nf03,nepr=r'0,1',fname='cwtcmn',fchar=r'VARCHAR(5)'))
acts.append(sa(set=cs,seq=32,spos=0,sepr=r'DE.{14}T.+:',eepr=r'\n|BY',fname='deftra',fchar=r'VARCHAR(10)'))
acts.append(sa(set=cs,seq=33,spos=0,sepr=r'RE.{20}E.+:',eepr=r'\%',fname='rpcent',fchar=r'VARCHAR(5)'))
acts.append(sa(set=cs,seq=34,spos=0,sepr=r'TR.{21}E.+:',eepr=r'\n',fname='trasel',fchar=r'VARCHAR(5)'))
acts.append(sa(set=cs,seq=35,spos=0,sepr=r'SE.{22}R.+:',eepr=r'\n',fname='sctppsn',fchar=r'VARCHAR(5)'))
acts.append(sa(set=cs,seq=36,spos=0,sepr=r'TR.{18}Y.+:',eepr=r'SEC',fname='trrtry',fchar=r'VARCHAR(5)'))
acts.append(sa(set=cs,seq=37,spos=0,sepr=r'FQ.{22}T.+:',eepr=r'\n',fname='intass',fchar=r'VARCHAR(10)'))
acts.append(sa(set=cs,seq=38,spos=0,sepr=r'OP.{23}K.+:',eepr=r'\SEC',fname='ocheck',fchar=r'VARCHAR(5)'))
acts.append(sa(set=cs,seq=39,spos=0,sepr=r'OP.{27}T:',eepr=r'\SEC',fname='otout',fchar=r'VARCHAR(5)'))
acts.append(sa(set=cs,seq=40,spos=0,sepr=r'RE.{20}T.+:',eepr=r'\n',tfunc=nf03,nepr=r'9,12',fname='refuct',fchar=r'VARCHAR(10)'))
acts.append(sa(set=cs,seq=41,spos=0,sepr=r'RE.{18}T.+:',eepr=r'\n',tfunc=nf03,nepr=r'9,12',fname='refact',fchar=r'VARCHAR(10)'))
acts.append(sa(set=cs,seq=42,spos=0,sepr=r'OU.{26}S.:',eepr=r'\n',fname='outbp',fchar=r'VARCHAR(30)'))
acts.append(sa(set=cs,seq=43,spos=0,sepr=r'AD.{26}E.:',eepr=r'\n',fname='rouind',fchar=r'VARCHAR(10)'))
acts.append(sa(set=cs,seq=44,spos=0,sepr=r'RE.{18}G.+:',eepr=r'\n',fname='recrou',fchar=r'VARCHAR(10)'))
acts.append(sa(set=cs,seq=45,spos=0,sepr=r'P-.{20}E.+:',eepr=r'\n',fname='pcvu',fchar=r'VARCHAR(10)'))
acts.append(sa(set=cs,seq=46,spos=0,sepr=r'P-.{23}N.+:',eepr=r'\n',fname='pcvioi',fchar=r'VARCHAR(10)'))
acts.append(sa(set=cs,seq=47,spos=0,sepr=r'LO.{27}T:',eepr=r'\n',tfunc=nf02,nepr=r'5',fname='lnmap',fchar=r'VARCHAR(10)'))
acts.append(sa(set=cs,seq=48,spos=0,sepr=r'RE.{19}X.+:',eepr=r'\n',fname='cc18x',fchar=r'VARCHAR(10)'))
acts.append(sa(set=cs,seq=49,spos=0,sepr=r'DT.{23}O.+:',eepr=r'MS',fname='dtmfdur',fchar=r'VARCHAR(10)'))
acts.append(sa(set=cs,seq=50,spos=0,sepr=r'RE.{21}S.+:',eepr=r'\n',fname='rrctpbwm',fchar=r'VARCHAR(10)'))
acts.append(sa(set=cs,seq=51,spos=0,sepr=r'SI.{27}T:',eepr=r'\n',fname='stcmsid',fchar=r'VARCHAR(5)'))
acts.append(sa(set=cs,seq=52,spos=0,sepr=r'CC.{27}T:',eepr=r'\n',fname='ctsmsid',fchar=r'VARCHAR(5)'))
acts.append(sa(set=cs,seq=53,spos=0,sepr=r'AC.{25}F.+:',eepr=r'\n',tfunc=nf03,nepr=r'0,6',fname='acccon',fchar=r'VARCHAR(20)'))
acts.append(sa(set=cs,seq=55,spos=0,sepr=r'CO.{8}G.+=',eepr=r'\n',fname='cotmap',fchar=r'VARCHAR(20)'))
acts.append(sa(set=cs,seq=56,spos=0,sepr=r'MI.{16}G.+:',eepr=r'\n',tfunc=nf02,nepr=r'5',fname='nocotmap',fchar=r'VARCHAR(10)'))
acts.append(sa(set=cs,seq=58,spos=0,sepr=r'PR.{27}A:',eepr=r'\n',fname='precinact',fchar=r'VARCHAR(5)'))
acts.append(sa(set=cs,seq=59,spos=0,sepr=r'UU.{20}P.+:',eepr=r'\n',fname='uusiwf',fchar=r'VARCHAR(5)'))

sf = 'D:/xna/SourceData/DTG/MSS/MSSFFM01/sip.log'
tf = 'D:/xna/SourceData/DTG/MSS/test_sip_fqdn.tsv'

#[MSS ANA ICC]  
tname = 'mss_ana_icc'
ttype = 'tx'    
sepr = r'\nINC((.*?)\r\n)+?INDEX\s:'
eepr = r'\nCOMMAND'
depr = r'\nINDEX\s:'

cs = NomaSet(name=tname, type=ttype, sepr=sepr, eepr=eepr, depr=depr)
if savenoma == 1: cs.save()

#nf01 = NomaFunc.objects.get(epr='repstra(val,smap,')
#nf03 = NomaFunc.objects.get(epr='trim(val,')

acts = []
acts.append(sa(set=cs,seq=1,spos=0,eepr=r'\n',fname='psid',fchar=r'VARCHAR(10)'))
acts.append(sa(set=cs,seq=2,spos=0,sepr=r'\nNAME.+:',eepr=r'\n',fname='psn',fchar=r'VARCHAR(20)'))
acts.append(sa(set=cs,seq=3,spos=0,sepr=r'\nRESU.+:',eepr=r'\n',fname='resgr',fchar=r'VARCHAR(10)'))
acts.append(sa(set=cs,seq=4,spos=0,sepr=r'\nINQ.+:',eepr=r'\n',fname='inql',fchar=r'VARCHAR(10)'))
acts.append(sa(set=cs,seq=5,spos=0,sepr=r'\nMS P.+:',eepr=r'\n',fname='mspcu',fchar=r'VARCHAR(20)'))
acts.append(sa(set=cs,seq=6,spos=0,sepr=r'\nASKCLI(.+?)=\s',eepr=r'\s',fname='p_acli',fchar=r'VARCHAR(10)'))
acts.append(sa(set=cs,seq=7,spos=0,sepr=r'\nASKCPC(.+?)=\s',eepr=r'\s',fname='p_acpc',fchar=r'VARCHAR(10)'))
acts.append(sa(set=cs,seq=8,spos=0,sepr=r'\nNOASK(.+?)=\s',eepr=r'\s',fname='p_noa',fchar=r'VARCHAR(10)'))
acts.append(sa(set=cs,seq=9,spos=0,sepr=r'\nOWN(.+?)=\s',eepr=r'\s',fname='p_own',fchar=r'VARCHAR(10)'))
acts.append(sa(set=cs,seq=10,spos=0,sepr=r'\nVPS(.+?)=\s',eepr=r'\s',fname='p_vps',fchar=r'VARCHAR(10)'))
acts.append(sa(set=cs,seq=11,spos=0,sepr=r'\nCLIS(.+?)=\s',eepr=r'\s',fname='p_clis',fchar=r'VARCHAR(10)'))
acts.append(sa(set=cs,seq=12,spos=0,sepr=r'\nCLIA(.+?)=\s',eepr=r'\s',fname='p_clia',fchar=r'VARCHAR(10)'))
acts.append(sa(set=cs,seq=13,spos=0,sepr=r'\nNATCLI(.+?)=\s',eepr=r'\s',fname='p_nlic',fchar=r'VARCHAR(10)'))
acts.append(sa(set=cs,seq=14,spos=0,sepr=r'\nGMSC(.+?)=\s',eepr=r'\s',fname='p_gmsc',fchar=r'VARCHAR(10)'))
acts.append(sa(set=cs,seq=15,spos=0,sepr=r'\nNCLIC(.+?)=\s',eepr=r'\s',fname='p_nclic',fchar=r'VARCHAR(10)'))
acts.append(sa(set=cs,seq=16,spos=0,sepr=r'\nCLIT(.+?)=\s',eepr=r'\s',fname='p_clit',fchar=r'VARCHAR(10)'))
acts.append(sa(set=cs,seq=17,spos=0,sepr=r'\nCALLNS(.+?)=\s',eepr=r'\s',fname='p_cns',fchar=r'VARCHAR(10)'))
acts.append(sa(set=cs,seq=18,spos=0,sepr=r'\nRABIU(.+?)=\s',eepr=r'\s',fname='p_rabiu',fchar=r'VARCHAR(10)'))
acts.append(sa(set=cs,seq=19,spos=0,sepr=r'\nRABSE(.+?)=\s',eepr=r'\s',fname='p_rabse',fchar=r'VARCHAR(10)'))
acts.append(sa(set=cs,seq=20,spos=0,sepr=r'\nRABER(.+?)=\s',eepr=r'\s',fname='p_raber',fchar=r'VARCHAR(10)'))
acts.append(sa(set=cs,seq=21,spos=0,sepr=r'\nPREVT(.+?)=\s',eepr=r'\s',fname='p_prevt',fchar=r'VARCHAR(10)'))
acts.append(sa(set=cs,seq=22,spos=0,sepr=r'\nACTCO(.+?)=\s',eepr=r'\s',fname='p_actco',fchar=r'VARCHAR(10)'))
acts.append(sa(set=cs,seq=23,spos=0,sepr=r'\nIGNOR(.+?)=\s',eepr=r'\s',fname='p_ingor',fchar=r'VARCHAR(10)'))
acts.append(sa(set=cs,seq=24,spos=0,sepr=r'\nCLITR(.+?)=\s',eepr=r'\s',fname='p_clitr',fchar=r'VARCHAR(10)'))
acts.append(sa(set=cs,seq=25,spos=0,sepr=r'\nFCLIA(.+?)=\s',eepr=r'\s',fname='p_fclia',fchar=r'VARCHAR(10)'))
acts.append(sa(set=cs,seq=26,spos=0,sepr=r'\nARABT(.+?)=\s',eepr=r'\s',fname='p_arabt',fchar=r'VARCHAR(10)'))
acts.append(sa(set=cs,seq=27,spos=0,sepr=r'\nARABI(.+?)=\s',eepr=r'\s',fname='p_arabi',fchar=r'VARCHAR(10)'))
acts.append(sa(set=cs,seq=28,spos=0,sepr=r'\nSKIPA(.+?)=\s',eepr=r'\s',fname='p_skipa',fchar=r'VARCHAR(10)'))
acts.append(sa(set=cs,seq=29,spos=0,sepr=r'\sPREAC(.+?)=\s',eepr=r'\s',fname='p_preac',fchar=r'VARCHAR(10)'))
acts.append(sa(set=cs,seq=30,spos=0,sepr=r'\sFIXRC(.+?)=\s',eepr=r'\s',fname='p_fixrc',fchar=r'VARCHAR(10)'))
acts.append(sa(set=cs,seq=31,spos=0,sepr=r'\sREROU(.+?)=\s',eepr=r'\s',fname='p_rerou',fchar=r'VARCHAR(10)'))
acts.append(sa(set=cs,seq=32,spos=0,sepr=r'\sACMF(.+?)=\s',eepr=r'\s',fname='p_acmf',fchar=r'VARCHAR(10)'))
acts.append(sa(set=cs,seq=33,spos=0,sepr=r'\sANMF(.+?)=\s',eepr=r'\s',fname='p_anmf',fchar=r'VARCHAR(10)'))
acts.append(sa(set=cs,seq=34,spos=0,sepr=r'\sCPGF(.+?)=\s',eepr=r'\s',fname='p_cpgf',fchar=r'VARCHAR(10)'))
acts.append(sa(set=cs,seq=35,spos=0,sepr=r'\sCFO(.+?)=\s',eepr=r'\s',fname='p_cfo',fchar=r'VARCHAR(10)'))
acts.append(sa(set=cs,seq=36,spos=0,sepr=r'\sNOANM(.+?)=\s',eepr=r'\s',fname='p_noanm',fchar=r'VARCHAR(10)'))
acts.append(sa(set=cs,seq=37,spos=0,sepr=r'\sCHRNI(.+?)=\s',eepr=r'\s',fname='p_chrni',fchar=r'VARCHAR(10)'))
acts.append(sa(set=cs,seq=38,spos=0,sepr=r'\sOLI(.+?)=\s',eepr=r'\s',fname='p_OLI',fchar=r'VARCHAR(10)'))
acts.append(sa(set=cs,seq=39,spos=0,sepr=r'\sECINF(.+?)=\s',eepr=r'\s',fname='p_ecinf',fchar=r'VARCHAR(10)'))
acts.append(sa(set=cs,seq=40,spos=0,sepr=r'\sCDFRE(.+?)=\s',eepr=r'\s',fname='p_cdfre',fchar=r'VARCHAR(10)'))
acts.append(sa(set=cs,seq=41,spos=0,sepr=r'\sPARRA(.+?)=\s',eepr=r'\s',fname='p_parra',fchar=r'VARCHAR(10)'))
acts.append(sa(set=cs,seq=42,spos=0,sepr=r'\sACMRI(.+?)=\s',eepr=r'\s',fname='p_acmri',fchar=r'VARCHAR(10)'))
acts.append(sa(set=cs,seq=43,spos=0,sepr=r'\sORDRE(.+?)=\s',eepr=r'\s',fname='p_ordre',fchar=r'VARCHAR(10)'))
acts.append(sa(set=cs,seq=44,spos=0,sepr=r'\sIGSCP(.+?)=\s',eepr=r'\s',fname='p_igscp',fchar=r'VARCHAR(10)'))
acts.append(sa(set=cs,seq=45,spos=0,sepr=r'\sIBITR(.+?)=\s',eepr=r'\s',fname='p_ibitr',fchar=r'VARCHAR(10)'))
acts.append(sa(set=cs,seq=46,spos=0,sepr=r'\sRESET(.+?)=\s',eepr=r'\s',fname='p_reset',fchar=r'VARCHAR(10)'))
acts.append(sa(set=cs,seq=47,spos=0,sepr=r'\sSANN(.+?)=\s',eepr=r'\s',fname='a_sann',fchar=r'VARCHAR(10)'))
acts.append(sa(set=cs,seq=48,spos=0,sepr=r'\sMODCF(.+?)=\s\s',eepr=r'\s',fname='f_modcf',fchar=r'VARCHAR(10)'))
acts.append(sa(set=cs,seq=49,spos=0,sepr=r'\sNEWCF(.+?)=\s\s',eepr=r'\s',fname='f_newcf',fchar=r'VARCHAR(10)'))
acts.append(sa(set=cs,seq=50,spos=0,sepr=r'\sCONNF.+=\s',eepr=r'\s',fname='k_connf',fchar=r'VARCHAR(10)'))
acts.append(sa(set=cs,seq=51,spos=0,sepr=r'\sCONNP.+=\s',eepr=r'\s',fname='k_connp',fchar=r'VARCHAR(10)'))
acts.append(sa(set=cs,seq=52,spos=0,sepr=r'\sFECHO.+=\s',eepr=r'\s',fname='k_fecho',fchar=r'VARCHAR(10)'))
acts.append(sa(set=cs,seq=53,spos=0,sepr=r'\sISVER.+=\s',eepr=r'\s',fname='k_isver',fchar=r'VARCHAR(10)'))
acts.append(sa(set=cs,seq=54,spos=0,sepr=r'\sOVISU.+=\s',eepr=r'\s',fname='k_ovisu',fchar=r'VARCHAR(10)'))
acts.append(sa(set=cs,seq=55,spos=0,sepr=r'\sCUGIS.+=\s',eepr=r'\s',fname='k_cugis',fchar=r'VARCHAR(10)'))
acts.append(sa(set=cs,seq=56,spos=0,sepr=r'\sISUP6.+=\s',eepr=r'\s',fname='k_isup6',fchar=r'VARCHAR(10)'))
acts.append(sa(set=cs,seq=57,spos=0,sepr=r'\sSATIN.+=\s',eepr=r'\s',fname='k_satin',fchar=r'VARCHAR(10)'))
acts.append(sa(set=cs,seq=58,spos=0,sepr=r'\sACOL.+=\s',eepr=r'\s',fname='k_acol',fchar=r'VARCHAR(10)'))
acts.append(sa(set=cs,seq=59,spos=0,sepr=r'\sOMITC.+=\s',eepr=r'\s',fname='k_omitc',fchar=r'VARCHAR(10)'))
acts.append(sa(set=cs,seq=60,spos=0,sepr=r'\sTONSU.+=\s',eepr=r'\s',fname='k_tonsu',fchar=r'VARCHAR(10)'))
acts.append(sa(set=cs,seq=61,spos=0,sepr=r'\sWBAMR.+=\s',eepr=r'\s',fname='k_wbamr',fchar=r'VARCHAR(10)'))
acts.append(sa(set=cs,seq=62,spos=0,sepr=r'\sBLCSD.+=\s',eepr=r'\s',fname='k_blcsd',fchar=r'VARCHAR(10)'))
acts.append(sa(set=cs,seq=63,spos=0,sepr=r'\sBLMM6.+=\s',eepr=r'\s',fname='k_blmm6',fchar=r'VARCHAR(10)'))
acts.append(sa(set=cs,seq=64,spos=0,sepr=r'\sNUMNO.+=\s',eepr=r'\s',fname='k_numno',fchar=r'VARCHAR(10)'))
acts.append(sa(set=cs,seq=65,spos=0,sepr=r'\sTRUNK.+=\s',eepr=r'\s',fname='k_trunk',fchar=r'VARCHAR(10)'))
acts.append(sa(set=cs,seq=66,spos=0,sepr=r'\sCHANN.+=\s',eepr=r'\s',fname='k_chann',fchar=r'VARCHAR(10)'))
acts.append(sa(set=cs,seq=67,spos=0,sepr=r'\sNETIN.+=\s',eepr=r'\s',fname='k_netin',fchar=r'VARCHAR(10)'))
acts.append(sa(set=cs,seq=68,spos=0,sepr=r'\nCDR.+=\s',eepr=r'\s',fname='c_cdr',fchar=r'VARCHAR(10)'))
acts.append(sa(set=cs,seq=69,spos=0,sepr=r'\nHOCDR.+=\s',eepr=r'\s',fname='c_hocdr',fchar=r'VARCHAR(10)'))
acts.append(sa(set=cs,seq=70,spos=0,sepr=r'\nCHSTB.+=\s',eepr=r'\s',fname='c_chstb',fchar=r'VARCHAR(10)'))
acts.append(sa(set=cs,seq=71,spos=0,sepr=r'\nTRNKU.+=\s',eepr=r'\s',fname='c_trnku',fchar=r'VARCHAR(10)'))


sf = 'D:/xna/SourceData/DTG/MSS/MSSFFM01/cc_para.log'
tf = 'D:/xna/SourceData/DTG/MSS/test_ana_icc.tsv'

#[MSS ANA OCC]  
tname = 'mss_ana_occ'
ttype = 'tx'    
sepr = r'\nOUT((.*?)\r\n)+?INDEX\s:'
eepr = r'\nCOMMAND'
depr = r'\nINDEX\s:'

cs = NomaSet(name=tname, type=ttype, sepr=sepr, eepr=eepr, depr=depr)
if savenoma == 1: cs.save()

#nf01 = NomaFunc.objects.get(epr='repstra(val,smap,')
#nf03 = NomaFunc.objects.get(epr='trim(val,')

acts = []
acts.append(sa(set=cs,seq=1,spos=0,eepr=r'\n',fname='psid',fchar=r'VARCHAR(10)'))
acts.append(sa(set=cs,seq=2,spos=0,sepr=r'\nNAME.+:',eepr=r'\n',fname='psn',fchar=r'VARCHAR(20)'))
acts.append(sa(set=cs,seq=3,spos=0,sepr=r'\nIIDCL(.+?)=\s',eepr=r'\s',fname='p_iidcl',fchar=r'VARCHAR(10)'))
acts.append(sa(set=cs,seq=4,spos=0,sepr=r'\nRICLI(.+?)=\s',eepr=r'\s',fname='p_ricli',fchar=r'VARCHAR(10)'))
acts.append(sa(set=cs,seq=5,spos=0,sepr=r'\nLONGC(.+?)=\s',eepr=r'\s',fname='p_longc',fchar=r'VARCHAR(10)'))
acts.append(sa(set=cs,seq=6,spos=0,sepr=r'\nNOCLI(.+?)=\s',eepr=r'\s',fname='p_nocli',fchar=r'VARCHAR(10)'))
acts.append(sa(set=cs,seq=7,spos=0,sepr=r'\nCLI(.+?)=\s',eepr=r'\s',fname='p_cli',fchar=r'VARCHAR(10)'))
acts.append(sa(set=cs,seq=8,spos=0,sepr=r'\nNATCL(.+?)=\s',eepr=r'\s',fname='p_natcl',fchar=r'VARCHAR(10)'))
acts.append(sa(set=cs,seq=9,spos=0,sepr=r'\nMAXCL(.+?)=\s',eepr=r'\s',fname='p_maxcl',fchar=r'VARCHAR(10)'))
acts.append(sa(set=cs,seq=10,spos=0,sepr=r'\nMSCCL(.+?)=\s',eepr=r'\s',fname='p_msccl',fchar=r'VARCHAR(10)'))
acts.append(sa(set=cs,seq=11,spos=0,sepr=r'\nSART(.+?)=\s',eepr=r'\s',fname='p_sart',fchar=r'VARCHAR(10)'))
acts.append(sa(set=cs,seq=12,spos=0,sepr=r'\nSBRN(.+?)=\s',eepr=r'\s',fname='p_sbrn',fchar=r'VARCHAR(10)'))
acts.append(sa(set=cs,seq=13,spos=0,sepr=r'\nSWAPC(.+?)=\s',eepr=r'\s',fname='p_swapc',fchar=r'VARCHAR(10)'))
acts.append(sa(set=cs,seq=14,spos=0,sepr=r'\nMCU(.+?)=\s',eepr=r'\s',fname='p_mcu',fchar=r'VARCHAR(10)'))
acts.append(sa(set=cs,seq=15,spos=0,sepr=r'\nIGNOR(.+?)=\s',eepr=r'\s',fname='p_ignor',fchar=r'VARCHAR(10)'))
acts.append(sa(set=cs,seq=16,spos=0,sepr=r'\nCLISE(.+?)=\s',eepr=r'\s',fname='p_clise',fchar=r'VARCHAR(10)'))
acts.append(sa(set=cs,seq=17,spos=0,sepr=r'\nACPNC(.+?)=\s',eepr=r'\s',fname='p_acpnc',fchar=r'VARCHAR(10)'))
acts.append(sa(set=cs,seq=18,spos=0,sepr=r'\nEXACS(.+?)=\s',eepr=r'\s',fname='p_esacs',fchar=r'VARCHAR(10)'))
acts.append(sa(set=cs,seq=19,spos=0,sepr=r'\sOPCX(.+?)=\s',eepr=r'\s',fname='p_opcx',fchar=r'VARCHAR(10)'))
acts.append(sa(set=cs,seq=20,spos=0,sepr=r'\sVPS(.+?)=\s',eepr=r'\s',fname='p_vps',fchar=r'VARCHAR(10)'))
acts.append(sa(set=cs,seq=21,spos=0,sepr=r'\sEMER(.+?)=\s',eepr=r'\s',fname='p_emer',fchar=r'VARCHAR(10)'))
acts.append(sa(set=cs,seq=22,spos=0,sepr=r'\sINEMO(.+?)=\s',eepr=r'\s',fname='p_inemo',fchar=r'VARCHAR(10)'))
acts.append(sa(set=cs,seq=23,spos=0,sepr=r'\sMMLIN(.+?)=\s',eepr=r'\s',fname='p_mmlin',fchar=r'VARCHAR(10)'))
acts.append(sa(set=cs,seq=24,spos=0,sepr=r'\sSEECL(.+?)=\s',eepr=r'\s',fname='p_seecl',fchar=r'VARCHAR(10)'))
acts.append(sa(set=cs,seq=25,spos=0,sepr=r'\sSPICK(.+?)=\s',eepr=r'\s',fname='p_spick',fchar=r'VARCHAR(10)'))
acts.append(sa(set=cs,seq=26,spos=0,sepr=r'\sOCDSE(.+?)=\s',eepr=r'\s',fname='p_ocdse',fchar=r'VARCHAR(10)'))
acts.append(sa(set=cs,seq=27,spos=0,sepr=r'\sRDNSE(.+?)=\s',eepr=r'\s',fname='p_rdnse',fchar=r'VARCHAR(10)'))
acts.append(sa(set=cs,seq=28,spos=0,sepr=r'\sCDMOD(.+?)=\s+',eepr=r'\s',fname='p_cdmod',fchar=r'VARCHAR(10)'))
acts.append(sa(set=cs,seq=29,spos=0,sepr=r'\sSCREC(.+?)=\s',eepr=r'\s',fname='p_serec',fchar=r'VARCHAR(10)'))
acts.append(sa(set=cs,seq=30,spos=0,sepr=r'\sDBSCC(.+?)=\s',eepr=r'\s',fname='p_dbscc',fchar=r'VARCHAR(10)'))
acts.append(sa(set=cs,seq=31,spos=0,sepr=r'\sFECHO(.+?)=\s',eepr=r'\s',fname='k_fecho',fchar=r'VARCHAR(10)'))
acts.append(sa(set=cs,seq=32,spos=0,sepr=r'\sISVER(.+?)=\s',eepr=r'\s',fname='k_isver',fchar=r'VARCHAR(10)'))
acts.append(sa(set=cs,seq=33,spos=0,sepr=r'\sITCMO(.+?)=\s',eepr=r'\s',fname='k_itcmo',fchar=r'VARCHAR(10)'))
acts.append(sa(set=cs,seq=34,spos=0,sepr=r'\sIHOPC(.+?)=\s',eepr=r'\s',fname='k_ihopc',fchar=r'VARCHAR(10)'))
acts.append(sa(set=cs,seq=35,spos=0,sepr=r'\sSIPCF(.+?)=\s',eepr=r'\s',fname='k_sipcf',fchar=r'VARCHAR(10)'))
acts.append(sa(set=cs,seq=36,spos=0,sepr=r'\sWBAMR(.+?)=\s',eepr=r'\s',fname='k_wbamr',fchar=r'VARCHAR(10)'))
acts.append(sa(set=cs,seq=37,spos=0,sepr=r'\sBLCSD(.+?)=\s',eepr=r'\s',fname='k_blcsd',fchar=r'VARCHAR(10)'))
acts.append(sa(set=cs,seq=38,spos=0,sepr=r'\sBLMM6(.+?)=\s',eepr=r'\s',fname='k_blmm6',fchar=r'VARCHAR(10)'))
acts.append(sa(set=cs,seq=39,spos=0,sepr=r'\sNUMNO(.+?)=\s',eepr=r'\s',fname='k_numno',fchar=r'VARCHAR(10)'))
acts.append(sa(set=cs,seq=40,spos=0,sepr=r'\sCHANN(.+?)=\s',eepr=r'\s',fname='k_chann',fchar=r'VARCHAR(10)'))
acts.append(sa(set=cs,seq=41,spos=0,sepr=r'\sNETIN(.+?)=\s',eepr=r'\s',fname='k_netin',fchar=r'VARCHAR(10)'))
acts.append(sa(set=cs,seq=42,spos=0,sepr=r'\sACMF(.+?)=\s',eepr=r'\s',fname='m_acmf',fchar=r'VARCHAR(10)'))
acts.append(sa(set=cs,seq=43,spos=0,sepr=r'\sANMF(.+?)=\s',eepr=r'\s',fname='m_anmf',fchar=r'VARCHAR(10)'))
acts.append(sa(set=cs,seq=44,spos=0,sepr=r'\sCPGF(.+?)=\s',eepr=r'\s',fname='m_cpgf',fchar=r'VARCHAR(10)'))
acts.append(sa(set=cs,seq=45,spos=0,sepr=r'\sFIXRC(.+?)=\s',eepr=r'\s',fname='m_fixrc',fchar=r'VARCHAR(10)'))
acts.append(sa(set=cs,seq=46,spos=0,sepr=r'\sFT9IN(.+?)=\s',eepr=r'\s',fname='m_ft9in',fchar=r'VARCHAR(10)'))
acts.append(sa(set=cs,seq=47,spos=0,sepr=r'\sFTCIN(.+?)=\s',eepr=r'\s',fname='m_ftcin',fchar=r'VARCHAR(10)'))
acts.append(sa(set=cs,seq=48,spos=0,sepr=r'\sECINF(.+?)=\s',eepr=r'\s',fname='m_ecinf',fchar=r'VARCHAR(10)'))
acts.append(sa(set=cs,seq=49,spos=0,sepr=r'\sSENDM(.+?)=\s',eepr=r'\s',fname='m_sendm',fchar=r'VARCHAR(10)'))
acts.append(sa(set=cs,seq=50,spos=0,sepr=r'\sCWOCO(.+?)=\s',eepr=r'\s',fname='m_cwoco',fchar=r'VARCHAR(10)'))
acts.append(sa(set=cs,seq=51,spos=0,sepr=r'\sCOTSU(.+?)=\s',eepr=r'\s',fname='m_cotsu',fchar=r'VARCHAR(10)'))
acts.append(sa(set=cs,seq=52,spos=0,sepr=r'\sREVRE(.+?)=\s',eepr=r'\s',fname='m_revre',fchar=r'VARCHAR(10)'))
acts.append(sa(set=cs,seq=53,spos=0,sepr=r'\sPARTC(.+?)=\s',eepr=r'\s',fname='m_partc',fchar=r'VARCHAR(10)'))
acts.append(sa(set=cs,seq=54,spos=0,sepr=r'\sIGSCP(.+?)=\s',eepr=r'\s',fname='m_igscp',fchar=r'VARCHAR(10)'))
acts.append(sa(set=cs,seq=55,spos=0,sepr=r'\sRESET(.+?)=\s',eepr=r'\s',fname='m_reset',fchar=r'VARCHAR(10)'))
acts.append(sa(set=cs,seq=56,spos=0,sepr=r'\sNOTON(.+?)=\s',eepr=r'\s',fname='m_noton',fchar=r'VARCHAR(10)'))
acts.append(sa(set=cs,seq=57,spos=0,sepr=r'\sSAMUN(.+?)=\s',eepr=r'\s',fname='m_samun',fchar=r'VARCHAR(10)'))
acts.append(sa(set=cs,seq=58,spos=0,sepr=r'\sPRGDE(.+?)=\s',eepr=r'\s',fname='m_prgde',fchar=r'VARCHAR(10)'))
acts.append(sa(set=cs,seq=59,spos=0,sepr=r'\sCHISD(.+?)=\s',eepr=r'\s',fname='m_chisd',fchar=r'VARCHAR(10)'))
acts.append(sa(set=cs,seq=60,spos=0,sepr=r'\sSNDLC(.+?)=\s',eepr=r'\s',fname='m_sndlc',fchar=r'VARCHAR(10)'))
acts.append(sa(set=cs,seq=61,spos=0,sepr=r'\sCDR.+=\s',eepr=r'\s',fname='c_cdr',fchar=r'VARCHAR(10)'))
acts.append(sa(set=cs,seq=62,spos=0,sepr=r'\sHOCDR.+=\s',eepr=r'\s',fname='c_hocdr',fchar=r'VARCHAR(10)'))
acts.append(sa(set=cs,seq=63,spos=0,sepr=r'\sTRNKU.+=\s',eepr=r'\s',fname='c_trnku',fchar=r'VARCHAR(10)'))
acts.append(sa(set=cs,seq=64,spos=0,sepr=r'\nTRUNK(.+?)=\s',eepr=r'\s',fname='n_trunk',fchar=r'VARCHAR(10)'))


sf = 'D:/xna/SourceData/DTG/MSS/MSSFFM01/cc_para.log'
tf = 'D:/xna/SourceData/DTG/MSS/test_ana_occ.tsv'

#[MSS PLMN]  
tname = 'mss_plmn'
ttype = 'tx'    
sepr = r'PLMN PARA.+\r\n\r\n'
eepr = r'<MX_>\r\n<  (?!ZMXP)'
depr = r'PLMN PARA.+\n\n'

cs = NomaSet(name=tname, type=ttype, sepr=sepr, eepr=eepr, depr=depr)
if savenoma == 1: cs.save()

#nf01 = NomaFunc.objects.get(epr='repstra(val,smap,')
#nf03 = NomaFunc.objects.get(epr='trim(val,')

acts = []
acts.append(sa(set=cs,seq=1,spos=0,eepr=r'\s',fname='hplmn',fchar=r'VARCHAR(10)'))
acts.append(sa(set=cs,seq=2,spos=0,sepr='PLMN\s(?=.+\sIN.+\sCOU)',eepr=r'\s',fname='plmnn',fchar=r'VARCHAR(20)'))
acts.append(sa(set=cs,seq=3,spos=0,sepr='PLMN\s.+\sIN\s(?=.+\sCOU)',eepr=r'\s',fname='hcoun',fchar=r'VARCHAR(10)'))
acts.append(sa(set=cs,seq=4,spos=0,sepr='\nINDEX:',eepr=r'\n',fname='plmni',fchar=r'VARCHAR(10)'))
acts.append(sa(set=cs,seq=5,spos=0,sepr='\nCIPHE.+:',eepr=r'\n',fname='ciph',fchar=r'VARCHAR(10)'))
acts.append(sa(set=cs,seq=6,spos=0,sepr='\nTRIPL.+:',eepr=r'\n',fname='trpu',fchar=r'VARCHAR(10)'))
acts.append(sa(set=cs,seq=7,spos=0,sepr='\nEMLPP.+:',eepr=r'\n',fname='emprio',fchar=r'VARCHAR(10)'))
acts.append(sa(set=cs,seq=8,spos=0,sepr='\nSU.{13}P:',eepr=r'\n',fname='emlpp',fchar=r'VARCHAR(10)'))
acts.append(sa(set=cs,seq=9,spos=0,sepr='\nCO.{16}H:',eepr=r'\n',fname='cclen',fchar=r'VARCHAR(10)'))
acts.append(sa(set=cs,seq=10,spos=0,sepr='\nMS.{7}P:\s+',eepr=r'\s',fname='rngp',fchar=r'VARCHAR(10)'))
acts.append(sa(set=cs,seq=11,spos=0,sepr='\nMS.{11}E:\s+',eepr=r'\s',fname='msrn',fchar=r'VARCHAR(10)'))
acts.append(sa(set=cs,seq=12,spos=0,sepr='\nPN.{11}T:\s+',eepr=r'\s',fname='pns',fchar=r'VARCHAR(10)'))
acts.append(sa(set=cs,seq=13,spos=0,sepr='\sBL.{14}T:',eepr=r'\n',fname='blist',fchar=r'VARCHAR(10)'))
acts.append(sa(set=cs,seq=14,spos=0,sepr='\sGR.{13}T:',eepr=r'\n',fname='glist',fchar=r'VARCHAR(10)'))
acts.append(sa(set=cs,seq=15,spos=0,sepr='\sUN.{16}T:',eepr=r'\n',fname='uimei',fchar=r'VARCHAR(10)'))
acts.append(sa(set=cs,seq=16,spos=0,sepr='\nTR.{35}N:',eepr=r'\n',fname='term',fchar=r'VARCHAR(30)'))
acts.append(sa(set=cs,seq=17,spos=0,sepr='\nSU.{18}E:',eepr=r'\n',fname='camel',fchar=r'VARCHAR(10)'))
acts.append(sa(set=cs,seq=18,spos=0,sepr='\nPS.{7}G:',eepr=r'\n',fname='psip',fchar=r'VARCHAR(10)'))
acts.append(sa(set=cs,seq=19,spos=0,sepr='\nFR.{29}N:',eepr=r'\n',fname='fraud',fchar=r'VARCHAR(10)'))
acts.append(sa(set=cs,seq=20,spos=0,sepr='\nRE.{13}G:',eepr=r'\n',fname='rroam',fchar=r'VARCHAR(10)'))
acts.append(sa(set=cs,seq=21,spos=0,sepr='\nZO.{7}S:',eepr=r'\n',fname='zcode',fchar=r'VARCHAR(20)'))
acts.append(sa(set=cs,seq=22,spos=0,sepr='\nZO.{16}R:',eepr=r'\n',fname='zchlr',fchar=r'VARCHAR(10)'))
acts.append(sa(set=cs,seq=23,spos=0,sepr='\nEX.{20}E:',eepr=r'\n',fname='ecatu',fchar=r'VARCHAR(10)'))
acts.append(sa(set=cs,seq=24,spos=0,sepr='\nRE.{27}N:',eepr=r'\n',fname='udlrej',fchar=r'VARCHAR(10)'))
acts.append(sa(set=cs,seq=25,spos=0,sepr='\nSU.{11}R:',eepr=r'\n',fname='sbor',fchar=r'VARCHAR(10)'))
acts.append(sa(set=cs,seq=26,spos=0,sepr='\nUS.{26}3:',eepr=r'\n',fname='uss253',fchar=r'VARCHAR(10)'))
acts.append(sa(set=cs,seq=27,spos=0,sepr='\nLO.{31}D:',eepr=r'\n',fname='lftn',fchar=r'VARCHAR(10)'))
acts.append(sa(set=cs,seq=28,spos=0,sepr='\nAN.{30}E:',eepr=r'\(',fname='atid',fchar=r'VARCHAR(10)'))
acts.append(sa(set=cs,seq=29,spos=0,sepr='\nRE.{29}S:',eepr=r'\n',fname='rdtest',fchar=r'VARCHAR(10)'))
acts.append(sa(set=cs,seq=30.0,spos=0,sepr='\sE1:\s+',eepr=r'\s',fname='e1',fchar=r'VARCHAR(10)'))
acts.append(sa(set=cs,seq=30.1,spos=0,sepr='\sE2:\s+',eepr=r'\s',fname='e2',fchar=r'VARCHAR(10)'))
acts.append(sa(set=cs,seq=30.2,spos=0,sepr='\sE3:',eepr=r'\n',fname='e3',fchar=r'VARCHAR(10)'))
acts.append(sa(set=cs,seq=30.3,spos=0,sepr='\sE4:',eepr=r'\n',fname='e4',fchar=r'VARCHAR(10)'))
acts.append(sa(set=cs,seq=30.4,spos=0,sepr='\sE7:',eepr=r'\n',fname='e7',fchar=r'VARCHAR(10)'))
acts.append(sa(set=cs,seq=31.0,spos=0,sepr='\sNO.{19}N:',eepr=r'\n',fname='nociph',fchar=r'VARCHAR(10)'))
acts.append(sa(set=cs,seq=31.1,spos=0,sepr='\sA5/1:\s+',eepr=r'\s',fname='a51',fchar=r'VARCHAR(10)'))
acts.append(sa(set=cs,seq=31.2,spos=0,sepr='\sA5/3:',eepr=r'\n',fname='a53',fchar=r'VARCHAR(10)'))
acts.append(sa(set=cs,seq=31.3,spos=0,sepr='\sA5/4:',eepr=r'\n',fname='a54',fchar=r'VARCHAR(10)'))
acts.append(sa(set=cs,seq=32.0,spos=0,sepr='\sLOC UP:\s+',eepr=r'\s',fname='sloc',fchar=r'VARCHAR(10)'))
acts.append(sa(set=cs,seq=32.1,spos=0,sepr='\sPER UP:\s+',eepr=r'\s',fname='sper',fchar=r'VARCHAR(10)'))
acts.append(sa(set=cs,seq=32.2,spos=0,sepr='\sIMSI ATTACH:',eepr=r'\n',fname='simsi',fchar=r'VARCHAR(10)'))
acts.append(sa(set=cs,seq=32.3,spos=0,sepr='\sMO CALL:\s+',eepr=r'\s',fname='smoc',fchar=r'VARCHAR(10)'))
acts.append(sa(set=cs,seq=32.4,spos=0,sepr='\sMO SMS:\s+',eepr=r'\s',fname='smos',fchar=r'VARCHAR(10)'))
acts.append(sa(set=cs,seq=32.5,spos=0,sepr='\sSS OPER:',eepr=r'\n',fname='ssso',fchar=r'VARCHAR(10)'))
acts.append(sa(set=cs,seq=32.6,spos=0,sepr='\sMT CALL:\s+',eepr=r'\s',fname='smtc',fchar=r'VARCHAR(10)'))
acts.append(sa(set=cs,seq=32.7,spos=0,sepr='\sMT SMS:\s+',eepr=r'\s',fname='smts',fchar=r'VARCHAR(10)'))
acts.append(sa(set=cs,seq=32.8,spos=0,sepr='\sMT USSD:',eepr=r'\n',fname='smtu',fchar=r'VARCHAR(10)'))
acts.append(sa(set=cs,seq=32.9,spos=0,sepr='\sMT LOC REQ:',eepr=r'\n',fname='smtl',fchar=r'VARCHAR(10)'))
acts.append(sa(set=cs,seq=33.0,spos=0,sepr='TMSI((.+?)\n)+?.+VIS:\s+',eepr=r'\s',fname='tnew',fchar=r'VARCHAR(5)'))
acts.append(sa(set=cs,seq=33.1,spos=0,sepr='TMSI((.+?)\n)+?.+C UP:\s+',eepr=r'\s',fname='tloc',fchar=r'VARCHAR(5)'))
acts.append(sa(set=cs,seq=33.2,spos=0,sepr='TMSI((.+?)\n)+?.+R UP:',eepr=r'\n',fname='tper',fchar=r'VARCHAR(5)'))
acts.append(sa(set=cs,seq=33.3,spos=0,sepr='TMSI((.+?)\n)+?.+ACH:\s+',eepr=r'\s',fname='timsi',fchar=r'VARCHAR(5)'))
acts.append(sa(set=cs,seq=33.4,spos=0,sepr='TMSI((.+?)\n)+?.+MO CALL:\s+',eepr=r'\s',fname='tmoc',fchar=r'VARCHAR(5)'))
acts.append(sa(set=cs,seq=33.5,spos=0,sepr='TMSI((.+?)\n)+?.+MO SMS:',eepr=r'\n',fname='tmos',fchar=r'VARCHAR(5)'))
acts.append(sa(set=cs,seq=33.6,spos=0,sepr='TMSI((.+?)\n)+?.+MT CALL:\s+',eepr=r'\s',fname='tmtc',fchar=r'VARCHAR(5)'))
acts.append(sa(set=cs,seq=33.7,spos=0,sepr='TMSI((.+?)\n)+?.+MT SMS:\s+',eepr=r'\s',fname='tmts',fchar=r'VARCHAR(5)'))
acts.append(sa(set=cs,seq=33.8,spos=0,sepr='TMSI((.+?)\n)+?.+MT LOC REQ:',eepr=r'\n',fname='tmtl',fchar=r'VARCHAR(5)'))
acts.append(sa(set=cs,seq=33.9,spos=0,sepr='TMSI((.+?)\n)+?.+MT USSD:\s+',eepr=r'\s',fname='tmtu',fchar=r'VARCHAR(5)'))
acts.append(sa(set=cs,seq=34.0,spos=0,sepr='TMSI((.+?)\n)+?.+SS OPER:\s+',eepr=r'\s',fname='tsso',fchar=r'VARCHAR(5)'))
acts.append(sa(set=cs,seq=34.1,spos=0,sepr='TMSI((.+?)\n)+?.+CS FALLBACK:',eepr=r'\n',fname='tcsfb',fchar=r'VARCHAR(5)'))
acts.append(sa(set=cs,seq=35.0,spos=0,sepr='AUTH((.+?)\n)+?.+VIS:\s+',eepr=r'\s',fname='anew',fchar=r'VARCHAR(5)'))
acts.append(sa(set=cs,seq=35.1,spos=0,sepr='AUTH((.+?)\n)+?.+C UP:\s+',eepr=r'\s',fname='aloc',fchar=r'VARCHAR(5)'))
acts.append(sa(set=cs,seq=35.2,spos=0,sepr='AUTH((.+?)\n)+?.+R UP:',eepr=r'\n',fname='aper',fchar=r'VARCHAR(5)'))
acts.append(sa(set=cs,seq=35.3,spos=0,sepr='AUTH((.+?)\n)+?.+ACH:\s+',eepr=r'\s',fname='aimsi',fchar=r'VARCHAR(5)'))
acts.append(sa(set=cs,seq=35.4,spos=0,sepr='AUTH((.+?)\n)+?.+MO CALL:\s+',eepr=r'\s',fname='amoc',fchar=r'VARCHAR(5)'))
acts.append(sa(set=cs,seq=35.5,spos=0,sepr='AUTH((.+?)\n)+?.+MO SMS:',eepr=r'\n',fname='amos',fchar=r'VARCHAR(5)'))
acts.append(sa(set=cs,seq=35.6,spos=0,sepr='AUTH((.+?)\n)+?.+MT CALL:\s+',eepr=r'\s',fname='amtc',fchar=r'VARCHAR(5)'))
acts.append(sa(set=cs,seq=35.7,spos=0,sepr='AUTH((.+?)\n)+?.+MT SMS:\s+',eepr=r'\s',fname='amts',fchar=r'VARCHAR(5)'))
acts.append(sa(set=cs,seq=35.8,spos=0,sepr='AUTH((.+?)\n)+?.+MT LOC REQ:',eepr=r'\n',fname='amtl',fchar=r'VARCHAR(5)'))
acts.append(sa(set=cs,seq=35.9,spos=0,sepr='AUTH((.+?)\n)+?.+MT USSD:\s+',eepr=r'\s',fname='amtu',fchar=r'VARCHAR(5)'))
acts.append(sa(set=cs,seq=36.0,spos=0,sepr='AUTH((.+?)\n)+?.+SS OPER:\s+',eepr=r'\s',fname='asso',fchar=r'VARCHAR(5)'))
acts.append(sa(set=cs,seq=36.1,spos=0,sepr='AUTH((.+?)\n)+?.+CESS:',eepr=r'\n',fname='aiacc',fchar=r'VARCHAR(5)'))
acts.append(sa(set=cs,seq=36.2,spos=0,sepr='AUTH((.+?)\n)+?.+CS FALLBACK:',eepr=r'\n',fname='acsfb',fchar=r'VARCHAR(5)'))
acts.append(sa(set=cs,seq=37.0,spos=0,sepr='IMEI((.+?)\n)+?.+VIS:\s+',eepr=r'\s',fname='inew',fchar=r'VARCHAR(5)'))
acts.append(sa(set=cs,seq=37.1,spos=0,sepr='IMEI((.+?)\n)+?.+C UP:\s+',eepr=r'\s',fname='iloc',fchar=r'VARCHAR(5)'))
acts.append(sa(set=cs,seq=37.2,spos=0,sepr='IMEI((.+?)\n)+?.+R UP:',eepr=r'\n',fname='iper',fchar=r'VARCHAR(5)'))
acts.append(sa(set=cs,seq=37.3,spos=0,sepr='IMEI((.+?)\n)+?.+ACH:\s+',eepr=r'\s',fname='iimsi',fchar=r'VARCHAR(5)'))
acts.append(sa(set=cs,seq=37.4,spos=0,sepr='IMEI((.+?)\n)+?.+MO CALL:\s+',eepr=r'\s',fname='imoc',fchar=r'VARCHAR(5)'))
acts.append(sa(set=cs,seq=37.5,spos=0,sepr='IMEI((.+?)\n)+?.+MO SMS:',eepr=r'\n',fname='imos',fchar=r'VARCHAR(5)'))
acts.append(sa(set=cs,seq=37.6,spos=0,sepr='IMEI((.+?)\n)+?.+MT CALL:\s+',eepr=r'\s',fname='imtc',fchar=r'VARCHAR(5)'))
acts.append(sa(set=cs,seq=37.7,spos=0,sepr='IMEI((.+?)\n)+?.+MT SMS:\s+',eepr=r'\s',fname='imts',fchar=r'VARCHAR(5)'))
acts.append(sa(set=cs,seq=37.8,spos=0,sepr='IMEI((.+?)\n)+?.+MT LOC REQ:',eepr=r'\n',fname='imtl',fchar=r'VARCHAR(5)'))
acts.append(sa(set=cs,seq=37.9,spos=0,sepr='IMEI((.+?)\n)+?.+MT USSD:\s+',eepr=r'\s',fname='imtu',fchar=r'VARCHAR(5)'))
acts.append(sa(set=cs,seq=38.0,spos=0,sepr='IMEI((.+?)\n)+?.+SS OPER:\s+',eepr=r'\s',fname='isso',fchar=r'VARCHAR(5)'))
acts.append(sa(set=cs,seq=38.1,spos=0,sepr='IMEI((.+?)\n)+?.+CS FALLBACK:',eepr=r'\n',fname='icsfb',fchar=r'VARCHAR(5)'))
acts.append(sa(set=cs,seq=40,spos=0,sepr='\sSCP ADDRESS:',eepr=r'\n',fname='scpaddr',fchar=r'VARCHAR(30)'))
acts.append(sa(set=cs,seq=41,spos=0,sepr='\sSERVICE KEY:',eepr=r'\n',fname='skey',fchar=r'VARCHAR(10)'))
acts.append(sa(set=cs,seq=42,spos=0,sepr='\nUMTS CIPHERING:',eepr=r'\n',fname='umtsciph',fchar=r'VARCHAR(10)'))
acts.append(sa(set=cs,seq=43.0,spos=0,sepr='\nUMTS EN((.*?)\n)+?.+TION:',eepr=r'\n',fname='uec',fchar=r'VARCHAR(10)'))
acts.append(sa(set=cs,seq=43.1,spos=0,sepr='\nUMTS EN((.*?)\n)+?.+THMS:',eepr=r'\n',fname='ueal',fchar=r'VARCHAR(10)'))
acts.append(sa(set=cs,seq=44,spos=0,sepr='\nUMTS SE((.*?)\n)+?.+THMS:',eepr=r'\n',fname='usal',fchar=r'VARCHAR(10)'))
acts.append(sa(set=cs,seq=45.0,spos=0,sepr='\nLOC((.*?)\n)+?.+ORIG.+:',eepr=r'\n',fname='molr',fchar=r'VARCHAR(10)'))
acts.append(sa(set=cs,seq=45.1,spos=0,sepr='\nLOC((.*?)\n)+?.+TERM.+:',eepr=r'\n',fname='mtlr',fchar=r'VARCHAR(10)'))
acts.append(sa(set=cs,seq=45.2,spos=0,sepr='\nLOC((.*?)\n)+?.+DEF.+:',eepr=r'\n',fname='dmtlr',fchar=r'VARCHAR(10)'))
acts.append(sa(set=cs,seq=46.0,spos=0,sepr='\sRELAY LIST:',eepr=r'\n',fname='pssscr',fchar=r'VARCHAR(30)'))
acts.append(sa(set=cs,seq=46.1,spos=0,sepr='\sHANDLE LIST:',eepr=r'\n',fname='psssch',fchar=r'VARCHAR(30)'))
acts.append(sa(set=cs,seq=46.2,spos=0,sepr='\sDECAF CODE:',eepr=r'\n',fname='pssscd',fchar=r'VARCHAR(30)'))
acts.append(sa(set=cs,seq=50,spos=0,sepr='\nPL.{16}R\s',eepr=r'\n',fname='plmnuc',fchar=r'VARCHAR(10)'))

sf = 'D:/xna/SourceData/DTG/MSS/MSSFFM01/vlr_data.log'
tf = 'D:/xna/SourceData/DTG/MSS/test_plmn.tsv'

#[MSS Charging Case]  
tname = 'mss_cha_case'
ttype = 'tx'    
sepr = r'ZRIL:CHA((.*?)\r\n)+?.+CASE:'
eepr = r'\nCOMMAND'
depr = r'\nNAME.+CASE:'

cs = NomaSet(name=tname, type=ttype, sepr=sepr, eepr=eepr, depr=depr)
if savenoma == 1: cs.save()

#nf01 = NomaFunc.objects.get(epr='repstra(val,smap,')
#nf03 = NomaFunc.objects.get(epr='trim(val,')

acts = []
acts.append(sa(set=cs,seq=1,spos=1,epos=18,fname='chan',fchar=r'VARCHAR(20)'))
acts.append(sa(set=cs,seq=2,spos=26,eepr=r'\n',fname='cha',fchar=r'VARCHAR(10)'))
acts.append(sa(set=cs,seq=3,spos=1,sepr=r'\nNAME.+TION:',eepr=r'\s',fname='chamn',fchar=r'VARCHAR(20)'))
acts.append(sa(set=cs,seq=4,spos=1,sepr=r'\sICAM:',eepr=r'\n',fname='icam',fchar=r'VARCHAR(10)'))
acts.append(sa(set=cs,seq=5,spos=0,epos=4,sepr=r'\sOAZ.+\n',fname='dc',fchar=r'VARCHAR(5)'))
acts.append(sa(set=cs,seq=6,spos=5,epos=8,sepr=r'\sOAZ.+\n',fname='spm',fchar=r'VARCHAR(5)'))
acts.append(sa(set=cs,seq=7,spos=9,epos=12,sepr=r'\sOAZ.+\n',fname='spa',fchar=r'VARCHAR(5)'))
acts.append(sa(set=cs,seq=8,spos=13,epos=16,sepr=r'\sOAZ.+\n',fname='tci',fchar=r'VARCHAR(5)'))
acts.append(sa(set=cs,seq=9,spos=17,epos=21,sepr=r'\sOAZ.+\n',fname='ncb',fchar=r'VARCHAR(5)'))
acts.append(sa(set=cs,seq=10,spos=22,epos=26,sepr=r'\sOAZ.+\n',fname='pt',fchar=r'VARCHAR(5)'))
acts.append(sa(set=cs,seq=11,spos=27,epos=32,sepr=r'\sOAZ.+\n',fname='hc',fchar=r'VARCHAR(5)'))
acts.append(sa(set=cs,seq=12,spos=33,epos=37,sepr=r'\sOAZ.+\n',fname='cp',fchar=r'VARCHAR(5)'))
acts.append(sa(set=cs,seq=13,spos=38,epos=43,sepr=r'\sOAZ.+\n',fname='mcz',fchar=r'VARCHAR(5)'))
acts.append(sa(set=cs,seq=14,spos=44,epos=49,sepr=r'\sOAZ.+\n',fname='acz',fchar=r'VARCHAR(5)'))
acts.append(sa(set=cs,seq=15,spos=50,epos=55,sepr=r'\sOAZ.+\n',fname='iaz',fchar=r'VARCHAR(5)'))
acts.append(sa(set=cs,seq=16,spos=56,epos=61,sepr=r'\sOAZ.+\n',fname='oaz',fchar=r'VARCHAR(5)'))
acts.append(sa(set=cs,seq=17,spos=0,epos=10,sepr=r'\nCM.+\n',fname='cm',fchar=r'VARCHAR(20)'))
acts.append(sa(set=cs,seq=18,spos=1,epos=10,sepr=r'\nICC',fname='icc',fchar=r'VARCHAR(10)'))
acts.append(sa(set=cs,seq=19,spos=1,sepr=r'\sOCC',eepr=r'\n',fname='occ',fchar=r'VARCHAR(10)'))

sf = 'D:/xna/SourceData/DTG/MSS/MSSFFM01/routing.log'
tf = 'D:/xna/SourceData/DTG/MSS/test_cha_case.tsv'

#[MSS Charging Index]  
tname = 'mss_cha_idx'
ttype = 'tx'    
sepr = r'\nCHARGING INDEX\s+:'
eepr = r'\nCOMMAND'
depr = r'\nCHARGING INDEX\s+:'

cs = NomaSet(name=tname, type=ttype, sepr=sepr, eepr=eepr, depr=depr)
if savenoma == 1: cs.save()

#nf01 = NomaFunc.objects.get(epr='repstra(val,smap,')
#nf03 = NomaFunc.objects.get(epr='trim(val,')

acts = []
acts.append(sa(set=cs,seq=1,spos=1,epos=7,fname='chi',fchar=r'VARCHAR(10)'))
acts.append(sa(set=cs,seq=2,spos=26,eepr=r'\n',fname='corg',fchar=r'VARCHAR(10)'))
acts.append(sa(set=cs,seq=3,spos=1,sepr=r'\nNAME.+CASE:',eepr=r'\s',fname='chan',fchar=r'VARCHAR(20)'))

sf = 'D:/xna/SourceData/DTG/MSS/MSSFFM01/routing.log'
tf = 'D:/xna/SourceData/DTG/MSS/test_cha_idx.tsv'

#[MSS Charging Zone]  
tname = 'mss_cha_zone'
ttype = 'tx'    
sepr = r'\nE-PAR((.*?)\r\n)+?NUMBER\s'
eepr = r'\nCOMMAND'
depr = r'\nNUMBER\s'

cs = NomaSet(name=tname, type=ttype, sepr=sepr, eepr=eepr, depr=depr)
if savenoma == 1: cs.save()

#nf01 = NomaFunc.objects.get(epr='repstra(val,smap,')
#nf03 = NomaFunc.objects.get(epr='trim(val,')

acts = []
acts.append(sa(set=cs,seq=1,spos=1,epos=7,fname='cz',fchar=r'VARCHAR(10)'))
acts.append(sa(set=cs,seq=2,spos=1,sepr=r'\nMETHOD\s',eepr=r'\n',fname='cmtd',fchar=r'VARCHAR(10)'))
acts.append(sa(set=cs,seq=3,spos=0,epos=5,sepr=r'FT4\n\n',fname='chngr',fchar=r'VARCHAR(10)'))
acts.append(sa(set=cs,seq=4,spos=6,epos=12,sepr=r'FT4\n\n',fname='dcgr',fchar=r'VARCHAR(10)'))
acts.append(sa(set=cs,seq=5,spos=13,epos=18,sepr=r'FT4\n\n',fname='rate1',fchar=r'VARCHAR(10)'))
acts.append(sa(set=cs,seq=6,spos=19,epos=24,sepr=r'FT4\n\n',fname='rplt1',fchar=r'VARCHAR(10)'))
acts.append(sa(set=cs,seq=7,spos=27,epos=32,sepr=r'FT4\n\n',fname='rate2',fchar=r'VARCHAR(10)'))
acts.append(sa(set=cs,seq=8,spos=33,epos=38,sepr=r'FT4\n\n',fname='rplt2',fchar=r'VARCHAR(10)'))
acts.append(sa(set=cs,seq=9,spos=41,epos=46,sepr=r'FT4\n\n',fname='rate3',fchar=r'VARCHAR(10)'))
acts.append(sa(set=cs,seq=10,spos=47,epos=52,sepr=r'FT4\n\n',fname='rplt3',fchar=r'VARCHAR(10)'))
acts.append(sa(set=cs,seq=11,spos=55,epos=60,sepr=r'FT4\n\n',fname='rate4',fchar=r'VARCHAR(10)'))
acts.append(sa(set=cs,seq=12,spos=61,epos=66,sepr=r'FT4\n\n',fname='rplt4',fchar=r'VARCHAR(10)'))
acts.append(sa(set=cs,seq=13,spos=68,epos=72,sepr=r'FT4\n\n',fname='tty',fchar=r'VARCHAR(10)'))
acts.append(sa(set=cs,seq=14,spos=73,epos=77,sepr=r'FT4\n\n',fname='oaoc',fchar=r'VARCHAR(10)'))
acts.append(sa(set=cs,seq=15,spos=13,epos=18,sepr=r'FT4((.*?)\n){3}',fname='plt1',fchar=r'VARCHAR(10)'))
acts.append(sa(set=cs,seq=16,spos=27,epos=32,sepr=r'FT4((.*?)\n){3}',fname='plt2',fchar=r'VARCHAR(10)'))
acts.append(sa(set=cs,seq=17,spos=41,epos=46,sepr=r'FT4((.*?)\n){3}',fname='plt3',fchar=r'VARCHAR(10)'))
acts.append(sa(set=cs,seq=18,spos=55,epos=60,sepr=r'FT4((.*?)\n){3}',fname='plt4',fchar=r'VARCHAR(10)'))
acts.append(sa(set=cs,seq=19,spos=13,epos=18,sepr=r'FT4((.*?)\n){4}',fname='ft1',fchar=r'VARCHAR(10)'))
acts.append(sa(set=cs,seq=20,spos=27,epos=32,sepr=r'FT4((.*?)\n){4}',fname='ft2',fchar=r'VARCHAR(10)'))
acts.append(sa(set=cs,seq=21,spos=41,epos=46,sepr=r'FT4((.*?)\n){4}',fname='ft3',fchar=r'VARCHAR(10)'))
acts.append(sa(set=cs,seq=22,spos=55,epos=60,sepr=r'FT4((.*?)\n){4}',fname='ft4',fchar=r'VARCHAR(10)'))

sf = 'D:/xna/SourceData/DTG/MSS/MSSFFM01/charging.log'
tf = 'D:/xna/SourceData/DTG/MSS/test_cha_zone.tsv'


#[MSS Charging CDR]  
tname = 'mss_cha_cdr'
ttype = 'tx'    
sepr = r'ZGTI:CDR:'
eepr = r'<GT_>\r\n<  (?!ZGTI)'
depr = r'ZGTI:CDR:'

cs = NomaSet(name=tname, type=ttype, sepr=sepr, eepr=eepr, depr=depr)
if savenoma == 1: cs.save()

nf01 = NomaFunc.objects.get(epr='repstr(val,')
#nf03 = NomaFunc.objects.get(epr='trim(val,')

acts = []
acts.append(sa(set=cs,seq=1,spos=0,eepr=r';',fname='cdrgp',fchar=r'VARCHAR(10)'))
acts.append(sa(set=cs,seq=2,spos=0,sepr=r'PARAMETER\n\n',eepr=r'\nCOMM',nepr=r'\n(?=..\S)'))
acts.append(sa(set=cs,seq=3,spos=0,eepr=r':',fname='ecode',fchar=r'VARCHAR(5)'))
acts.append(sa(set=cs,seq=4,spos=0,sepr=r':',eepr=r'\S\.*\s{2,3}(?!\s|\d)',tfunc=nf01,nepr=r'"\n\s+","")',fname='etxt',fchar=r'VARCHAR(100)'))
acts.append(sa(set=cs,seq=5,spos=0,sepr=r'\S\.*\s{2,3}(?!\s|\d)',eepr=r'\n',fname='cgen',fchar=r'VARCHAR(20)'))

sf = 'D:/xna/SourceData/DTG/MSS/MSSFFM01/charging.log'
tf = 'D:/xna/SourceData/DTG/MSS/test_cha_cdr.tsv'

#[MSS Charging CDRSupp]  
tname = 'mss_cha_cdrsupp'
ttype = 'tx'    
sepr = r'ZGTI:CDR:SUPS((.*?)\r\n){8}'
eepr = r'\nCOMMAND'
depr = r'\n\n\s(?!\d)'

cs = NomaSet(name=tname, type=ttype, sepr=sepr, eepr=eepr, depr=depr)
if savenoma == 1: cs.save()

nf01 = NomaFunc.objects.get(epr='repstr(val,')
#nf03 = NomaFunc.objects.get(epr='trim(val,')

acts = []
acts.append(sa(set=cs,seq=1,spos=0,eepr=r'\n\s\s+',tfunc=nf01,nepr=r'"\n","")',fname='supps',fchar=r'VARCHAR(100)'))
acts.append(sa(set=cs,seq=2,spos=0,sepr=r'PARAMETER\n\n',nepr=r'\n(?=..\S)'))
acts.append(sa(set=cs,seq=3,spos=0,eepr=r':',fname='ecode',fchar=r'VARCHAR(5)'))
acts.append(sa(set=cs,seq=4,spos=0,sepr=r':',eepr=r'\S\.*\s{2,3}(?!\s|\d)',tfunc=nf01,nepr=r'"\n\s+","")',fname='etxt',fchar=r'VARCHAR(100)'))
acts.append(sa(set=cs,seq=5,spos=0,sepr=r'\S\.*\s{2,3}(?!\s|\d)',eepr=r'\n',fname='cgen',fchar=r'VARCHAR(20)'))

sf = 'D:/xna/SourceData/DTG/MSS/MSSFFM01/charging.log'
tf = 'D:/xna/SourceData/DTG/MSS/test_cha_cdrsup.tsv'


#[MSS CLI Set]  
tname = 'mss_ana_cli'
ttype = 'tx'    
sepr = r'\nCLI.+BER:'
eepr = r'<CL_>\r\n<  Z(?!CLI)'
depr = r'\nCLI.+BER:'

cs = NomaSet(name=tname, type=ttype, sepr=sepr, eepr=eepr, depr=depr)
if savenoma == 1: cs.save()

#nf01 = NomaFunc.objects.get(epr='repstr(val,')
#nf03 = NomaFunc.objects.get(epr='trim(val,')

acts = []
acts.append(sa(set=cs,seq=1,spos=1,eepr=r'\n',fname='clid',fchar=r'VARCHAR(10)'))
acts.append(sa(set=cs,seq=2,spos=1,sepr=r'\nCL.{19}E:',eepr=r'\n',fname='clin',fchar=r'VARCHAR(20)'))
acts.append(sa(set=cs,seq=3,spos=1,sepr=r'\nNU.{21}I:',eepr=r'\n',fname='ncli',fchar=r'VARCHAR(20)'))
acts.append(sa(set=cs,seq=4,spos=1,sepr=r'\nHA.{24}E:',eepr=r'\n',fname='ifcf',fchar=r'VARCHAR(20)'))
acts.append(sa(set=cs,seq=5,spos=1,sepr=r'\nUS.{18}E:',eepr=r'\n',fname='tree',fchar=r'VARCHAR(10)'))
acts.append(sa(set=cs,seq=6,spos=1,sepr=r'\sSC.{16}R:',eepr=r'\n',fname='scre',fchar=r'VARCHAR(10)'))
acts.append(sa(set=cs,seq=7,spos=1,sepr=r'\sPR.{19}R:',eepr=r'\n',fname='pres',fchar=r'VARCHAR(10)'))
acts.append(sa(set=cs,seq=8,spos=1,sepr=r'\sIN.{17}R:',eepr=r'\n',fname='inco',fchar=r'VARCHAR(10)'))
acts.append(sa(set=cs,seq=9,spos=1,sepr=r'\sNU.{21}R:',eepr=r'\n',fname='np',fchar=r'VARCHAR(20)'))
acts.append(sa(set=cs,seq=10,spos=0,sepr=r'\nCG.{14}S:',eepr=r'\nCOMMAND',nepr=r'\n\n\nCG.{14}S:'))
acts.append(sa(set=cs,seq=11,spos=0,eepr=r'\n',fname='cgrs',fchar=r'VARCHAR(20)'))
acts.append(sa(set=cs,seq=12,spos=1,sepr=r'\nCD.{14}S:',eepr=r'\n',fname='cdrs',fchar=r'VARCHAR(20)'))
acts.append(sa(set=cs,seq=13,spos=0,sepr=r'\nDIAL TON:.+\n',eepr=r'\n\n',nepr=r'\n'))
acts.append(sa(set=cs,seq=14,spos=0,epos=15,fname='dton',fchar=r'VARCHAR(20)'))
acts.append(sa(set=cs,seq=15,spos=16,epos=31,fname='cfins',fchar=r'VARCHAR(20)'))
acts.append(sa(set=cs,seq=16,spos=32,epos=41,fname='si',fchar=r'VARCHAR(10)'))
acts.append(sa(set=cs,seq=17,spos=42,epos=51,fname='pi',fchar=r'VARCHAR(10)'))
acts.append(sa(set=cs,seq=18,spos=52,epos=61,fname='ic',fchar=r'VARCHAR(10)'))
acts.append(sa(set=cs,seq=19,spos=62,epos=71,fname='npi',fchar=r'VARCHAR(10)'))


sf = 'D:/xna/SourceData/DTG/MSS/MSSFFM01/cc_para.log'
tf = 'D:/xna/SourceData/DTG/MSS/test_ana_cli.tsv'


#[MSS CDPN Set]  
tname = 'mss_ana_cdpn'
ttype = 'tx'    
sepr = r'\nCD.{23}R:'
eepr = r'\nCOMMAND'
depr = r'\nCD.{23}R:'

cs = NomaSet(name=tname, type=ttype, sepr=sepr, eepr=eepr, depr=depr)
if savenoma == 1: cs.save()

#nf01 = NomaFunc.objects.get(epr='repstr(val,')
#nf03 = NomaFunc.objects.get(epr='trim(val,')

acts = []
acts.append(sa(set=cs,seq=1,spos=1,eepr=r'\n',fname='cdpni',fchar=r'VARCHAR(10)'))
acts.append(sa(set=cs,seq=2,spos=1,sepr=r'\nCD.{21}E:',eepr=r'\n',fname='cdpnn',fchar=r'VARCHAR(20)'))
acts.append(sa(set=cs,seq=3,spos=1,sepr=r'\nST.{25}S:',eepr=r'\n',fname='srd',fchar=r'VARCHAR(10)'))
acts.append(sa(set=cs,seq=4,spos=1,sepr=r'\nNU.{21}S:',eepr=r'\n',fname='nrd',fchar=r'VARCHAR(10)'))
acts.append(sa(set=cs,seq=5,spos=1,sepr=r'\nPR.{15}D:',eepr=r'\n',fname='pref',fchar=r'VARCHAR(20)'))
acts.append(sa(set=cs,seq=6,spos=1,sepr=r'\nTY.{30}N:',eepr=r'\n',fname='ton',fchar=r'VARCHAR(20)'))
acts.append(sa(set=cs,seq=7,spos=1,sepr=r'\nNU.{30}N:',eepr=r'\n',fname='npi',fchar=r'VARCHAR(20)'))
acts.append(sa(set=cs,seq=8,spos=1,sepr=r'\nDI.{31}S:',eepr=r'\n',fname='stod',fchar=r'VARCHAR(20)'))
acts.append(sa(set=cs,seq=9,spos=1,sepr=r'\nNU.{35}N:',eepr=r'\n',fname='acdpn',fchar=r'VARCHAR(10)'))


sf = 'D:/xna/SourceData/DTG/MSS/MSSFFM01/cc_para.log'
tf = 'D:/xna/SourceData/DTG/MSS/test_ana_cdpn.tsv'

#[MSS SCP Set]  
tname = 'mss_ana_scpset'
ttype = 'tx'    
sepr = r'\nSCP.+\r\n\r\nINDEX :'
eepr = r'\nCOMMAND'
depr = r'\nINDEX :'

cs = NomaSet(name=tname, type=ttype, sepr=sepr, eepr=eepr, depr=depr)
if savenoma == 1: cs.save()

#nf01 = NomaFunc.objects.get(epr='repstr(val,')
#nf03 = NomaFunc.objects.get(epr='trim(val,')

acts = []
acts.append(sa(set=cs,seq=1,spos=1,eepr=r'\n',fname='scpi',fchar=r'VARCHAR(10)'))
acts.append(sa(set=cs,seq=2,spos=1,sepr=r'\nNAME  :',eepr=r'\n',fname='scpn',fchar=r'VARCHAR(20)'))
acts.append(sa(set=cs,seq=3,spos=1,sepr=r'\nAN.{29}R:',eepr=r'\n',fname='cgtree',fchar=r'VARCHAR(10)'))
acts.append(sa(set=cs,seq=4,spos=1,sepr=r'\nAN.{28}R:',eepr=r'\n',fname='cdtree',fchar=r'VARCHAR(10)'))
acts.append(sa(set=cs,seq=5,spos=1,sepr=r'\nCD.{18}T:',eepr=r'\n',fname='cpdhi',fchar=r'VARCHAR(20)'))
acts.append(sa(set=cs,seq=6,spos=1,sepr=r'\nAN.{37}R:',eepr=r'\n',fname='octree',fchar=r'VARCHAR(10)'))
acts.append(sa(set=cs,seq=7,spos=1,sepr=r'\nAN.{33}R:',eepr=r'\n',fname='rdtree',fchar=r'VARCHAR(10)'))
acts.append(sa(set=cs,seq=8,spos=1,sepr=r'\n10.{30}R:',eepr=r'\n',fname='acr',fchar=r'VARCHAR(10)'))
acts.append(sa(set=cs,seq=9,spos=1,sepr=r'\nTI.{34}P:',eepr=r'\n',fname='cirp',fchar=r'VARCHAR(10)'))
acts.append(sa(set=cs,seq=10,spos=1,sepr=r'\nIM.{38}P:',eepr=r'\n',fname='idpimei',fchar=r'VARCHAR(10)'))
acts.append(sa(set=cs,seq=11,spos=1,sepr=r'\nDE.{31}T:',eepr=r'\n',fname='dset',fchar=r'VARCHAR(10)'))
acts.append(sa(set=cs,seq=12,spos=1,sepr=r'\nVE.{34}T:',eepr=r'\n',fname='capv',fchar=r'VARCHAR(10)'))
acts.append(sa(set=cs,seq=13,spos=1,sepr=r'\nCA.{36}R:',eepr=r'\n',fname='cdsms',fchar=r'VARCHAR(10)'))
acts.append(sa(set=cs,seq=14,spos=1,sepr=r'\nTY.{39}N:',eepr=r'\n',fname='csit',fchar=r'VARCHAR(10)'))
acts.append(sa(set=cs,seq=15,spos=1,sepr=r'\nCA.{34}T:',eepr=r'\n',fname='cgcat',fchar=r'VARCHAR(10)'))
acts.append(sa(set=cs,seq=16,spos=1,sepr=r'\nLO.{27}T:',eepr=r'\n',fname='locn',fchar=r'VARCHAR(10)'))
acts.append(sa(set=cs,seq=17,spos=1,sepr=r'\nHE.{38}S:',eepr=r'\n',fname='hexsms',fchar=r'VARCHAR(10)'))
acts.append(sa(set=cs,seq=18,spos=1,sepr=r'\nAL.{38}S:',eepr=r'\n',fname='etcfac',fchar=r'VARCHAR(10)'))
acts.append(sa(set=cs,seq=19,spos=1,sepr=r'\nTI.{26}E:',eepr=r'\n',fname='tstone',fchar=r'VARCHAR(10)'))
acts.append(sa(set=cs,seq=20,spos=1,sepr=r'\nSO.{30}G:',eepr=r'\n',fname='soaacm',fchar=r'VARCHAR(10)'))
acts.append(sa(set=cs,seq=21,spos=1,sepr=r'\nTY.{18}D:',eepr=r'\n',fname='zonmet',fchar=r'VARCHAR(10)'))
acts.append(sa(set=cs,seq=22,spos=1,sepr=r'\nDE.{34}S:',eepr=r'\n',fname='incz',fchar=r'VARCHAR(10)'))
acts.append(sa(set=cs,seq=23,spos=1,sepr=r'\nSE.{36}Y:',eepr=r'\n',fname='ecgcat',fchar=r'VARCHAR(10)'))
acts.append(sa(set=cs,seq=24,spos=1,sepr=r'\nAC.{31}G:',eepr=r'\n',fname='acrfc',fchar=r'VARCHAR(10)'))
acts.append(sa(set=cs,seq=25,spos=1,sepr=r'\nAN.{37}G:',eepr=r'\n',fname='ztree',fchar=r'VARCHAR(10)'))
acts.append(sa(set=cs,seq=26,spos=1,sepr=r'\nUS.{27}Y:',eepr=r'\n',fname='uicha',fchar=r'VARCHAR(10)'))
acts.append(sa(set=cs,seq=27,spos=1,sepr=r'\nIS.{31}P:',eepr=r'\n',fname='bcidp',fchar=r'VARCHAR(10)'))
acts.append(sa(set=cs,seq=28,spos=1,sepr=r'\nTD.{37}T:',eepr=r'\n',fname='t2tpwa',fchar=r'VARCHAR(10)'))
acts.append(sa(set=cs,seq=29,spos=1,sepr=r'\nDU.{28}R:',eepr=r'\n',fname='durna',fchar=r'VARCHAR(10)'))
acts.append(sa(set=cs,seq=30,spos=1,sepr=r'\nMO.{29}E:',eepr=r'\n',fname='modur',fchar=r'VARCHAR(10)'))
acts.append(sa(set=cs,seq=31,spos=1,sepr=r'\nCO.{20}L:',eepr=r'\n',fname='csrem',fchar=r'VARCHAR(10)'))
acts.append(sa(set=cs,seq=32,spos=1,sepr=r'\nTD.{20}P:',eepr=r'\n',fname='tpd2s',fchar=r'VARCHAR(10)'))
acts.append(sa(set=cs,seq=33,spos=1,sepr=r'\nDI.{34}D:',eepr=r'\n',fname='sbgap',fchar=r'VARCHAR(10)'))
acts.append(sa(set=cs,seq=34,spos=1,sepr=r'\nAD.{21}G:',eepr=r'\n',fname='acgpa',fchar=r'VARCHAR(10)'))
acts.append(sa(set=cs,seq=35,spos=1,sepr=r'\nEC.{33}S:',eepr=r'\n',fname='ecfpp',fchar=r'VARCHAR(10)'))
acts.append(sa(set=cs,seq=36,spos=1,sepr=r'\nAU.{24}S:',eepr=r'\n',fname='ahcm',fchar=r'VARCHAR(10)'))
acts.append(sa(set=cs,seq=37,spos=1,sepr=r'\nBO.{33}R:',eepr=r'\n',fname='bwti',fchar=r'VARCHAR(10)'))
acts.append(sa(set=cs,seq=38,spos=0,sepr=r'\nFO.{43}P:',eepr=r'\n',fname='fcdc',fchar=r'VARCHAR(10)'))
acts.append(sa(set=cs,seq=39,spos=1,sepr=r'\nRE.{34}Y:',eepr=r'\n',fname='rencli',fchar=r'VARCHAR(10)'))
acts.append(sa(set=cs,seq=40,spos=1,sepr=r'\nRE.{28}S:',eepr=r'\n',fname='remidp',fchar=r'VARCHAR(10)'))
acts.append(sa(set=cs,seq=41,spos=1,sepr=r'\nNU.{38}P:',eepr=r'\n',fname='inloc',fchar=r'VARCHAR(10)'))
acts.append(sa(set=cs,seq=42,spos=1,sepr=r'\nSE.{37}R:',eepr=r'\n',fname='erbr',fchar=r'VARCHAR(10)'))
acts.append(sa(set=cs,seq=43,spos=1,sepr=r'\nDI.{37}P:',eepr=r'\n',fname='ddcdpn',fchar=r'VARCHAR(10)'))
acts.append(sa(set=cs,seq=44,spos=1,sepr=r'\nDI.{34}P:',eepr=r'\n',fname='dlmid',fchar=r'VARCHAR(10)'))
acts.append(sa(set=cs,seq=45,spos=1,sepr=r'\nRE.{35}P:',eepr=r'\n',fname='remrd',fchar=r'VARCHAR(10)'))
acts.append(sa(set=cs,seq=46,spos=1,sepr=r'\nFO.{33}T:',eepr=r'\n',fname='eirab',fchar=r'VARCHAR(10)'))
acts.append(sa(set=cs,seq=47,spos=1,sepr=r'\nFO.{11}G:',eepr=r'\n',fname='frou',fchar=r'VARCHAR(10)'))
acts.append(sa(set=cs,seq=48,spos=1,sepr=r'\nCA.{39}R:',eepr=r'\n',fname='cdptn',fchar=r'VARCHAR(10)'))
acts.append(sa(set=cs,seq=49,spos=1,sepr=r'\nCA.{34}P:',eepr=r'\n',fname='ptnidp',fchar=r'VARCHAR(10)'))
acts.append(sa(set=cs,seq=50,spos=1,sepr=r'\nKE.{27}P:',eepr=r'\n',fname='kccdp',fchar=r'VARCHAR(10)'))
acts.append(sa(set=cs,seq=51,spos=1,sepr=r'\nDI.{38}G:',eepr=r'\n',fname='dleg2',fchar=r'VARCHAR(10)'))
acts.append(sa(set=cs,seq=52,spos=1,sepr=r'\nCO.{36}A:',eepr=r'\n',fname='cdpdra',fchar=r'VARCHAR(10)'))


sf = 'D:/xna/SourceData/DTG/MSS/MSSFFM01/cc_para.log'
tf = 'D:/xna/SourceData/DTG/MSS/test_ana_scpset.tsv'

#[MSS IP CPU]  
tname = 'mss_ip_cpu'
ttype = 'tx'    
sepr = r'\n\sUNIT.+INFO\r\n'
eepr = r'\r\n\r\nTOTAL'
depr = r'\n'

cs = NomaSet(name=tname, type=ttype, sepr=sepr, eepr=eepr, depr=depr)
if savenoma == 1: cs.save()

#nf01 = NomaFunc.objects.get(epr='repstr(val,')
#nf03 = NomaFunc.objects.get(epr='trim(val,')

acts = []
acts.append(sa(set=cs,seq=1,spos=0,epos=11,fname='unit',fchar=r'VARCHAR(15)'))
acts.append(sa(set=cs,seq=2,spos=12,epos=16,fname='phys',fchar=r'VARCHAR(5)'))
acts.append(sa(set=cs,seq=3,spos=17,epos=22,fname='sta',fchar=r'VARCHAR(10)'))
acts.append(sa(set=cs,seq=4,spos=23,epos=44,fname='loca',fchar=r'VARCHAR(30)'))
acts.append(sa(set=cs,seq=5,spos=45,eepr=r'\n',fname='info',fchar=r'VARCHAR(30)'))

sf = 'D:/xna/SourceData/DTG/MSS/MSSFFM01/ip_config.log'
tf = 'D:/xna/SourceData/DTG/MSS/test_ip_cpu.tsv'

#[MSS IP Interface]
gtag = 'FF01_v1'  
tname = 'mss_ip_int'
ttype = 'tx'    
sepr = r'\n.{33} -+\r\n'
eepr = r'\r\nCOMMAND EXECUTED'
depr = r'\n{2}'

cs = NomaSet(name=tname, type=ttype, sepr=sepr, eepr=eepr, depr=depr)
if savenoma == 1: cs.save()

nf1 = NomaFunc.objects.get(epr='repstr')

acts = []
acts.append(sa(set=cs,seq=1,spos=0,epos=10,tfunc=nf1,nepr=r'val,"-",","',fname='unit',fchar=r'VARCHAR(15)'))
acts.append(sa(set=cs,seq=2,spos=20,nepr=r'\n\s{2}(?=\S)'))
acts.append(sa(set=cs,seq=3,spos=0,epos=10,fname='intf',fchar=r'VARCHAR(20)'))
acts.append(sa(set=cs,seq=4,spos=11,epos=15,fname='sta',fchar=r'VARCHAR(10)'))
acts.append(sa(set=cs,seq=5,spos=17,epos=22,fname='mtu',fchar=r'VARCHAR(6)'))
acts.append(sa(set=cs,seq=6,spos=5,epos=15,sepr=r'\n',fname='phe',fchar=r'VARCHAR(10)'))
acts.append(sa(set=cs,seq=7,spos=15,epos=19,sepr=r'\n',fname='vie',fchar=r'VARCHAR(10)'))
acts.append(sa(set=cs,seq=7,spos=20,epos=23,sepr=r'\n',fname='pci',fchar=r'VARCHAR(5)'))

sf = 'D:/xna/SourceData//MSSVZ402/ip_config.log'
tf = 'D:/xna/SourceData/default/mss_ip_int_vz.tsv'


acts.append(sa(set=cs,seq=1,spos=0,epos=10,tfunc=nf1,nepr=r'val,"-",","',fname='unit',fchar=r'VARCHAR(15)'))
acts.append(sa(set=cs,seq=2,spos=20,nepr=r'\n\s{2}(?=\S)'))
acts.append(sa(set=cs,seq=3,spos=0,epos=10,fname='intf',fchar=r'VARCHAR(20)'))
acts.append(sa(set=cs,seq=4,spos=22,nepr=r'\n\s{3}.{22}(?=\S)'))
acts.append(sa(set=cs,seq=5,spos=0,epos=5,fname='atyp',fepr=r'\S',fchar=r'VARCHAR(5)'))
acts.append(sa(set=cs,seq=6,spos=7,epos=40,fname='ipaddr',fchar=r'VARCHAR(30)'))



#[MSS IP Config]
gtag = 'FF01_v1'  
tname = 'mss_ip_conf'
ttype = 'tx'    
sepr = r'\n.{33} -+\r\n'
eepr = r'\r\nCOMMAND EXECUTED'
depr = r'\n{2}'

cs = NomaSet(name=tname, type=ttype, sepr=sepr, eepr=eepr, depr=depr)
if savenoma == 1: cs.save()

nf1 = NomaFunc.objects.get(epr='repstr')

acts = []
acts.append(sa(set=cs,seq=1,spos=0,epos=10,tfunc=nf1,nepr=r'val,"-",","',fname='unit',fchar=r'VARCHAR(15)'))
acts.append(sa(set=cs,seq=2,spos=20,nepr=r'\n\s{2}(?=\S)'))
acts.append(sa(set=cs,seq=3,spos=23,epos=28,fepr=r'\S'))
acts.append(sa(set=cs,seq=4,spos=0,epos=10,fname='intf',fchar=r'VARCHAR(20)'))
acts.append(sa(set=cs,seq=5,spos=22,nepr=r'\n\s{3}.{22}(?=\S)'))
acts.append(sa(set=cs,seq=6,spos=0,epos=5,fname='atyp',fchar=r'VARCHAR(5)'))
acts.append(sa(set=cs,seq=7,spos=7,epos=40,fname='ipaddr',fchar=r'VARCHAR(30)'))

sf = 'D:/xna/SourceData/DTG/MSS/MSSFFM01/ip_config.log'
tf = 'D:/xna/SourceData/DTG/MSS/mss_ip_conf.tsv'

